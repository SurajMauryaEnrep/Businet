@model EnRepMobileWeb.MODELS.ApplicationLayer.ProductionAndPlanning.ProductionPlan.ProductionPlan_Model
@using EnRepMobileWeb.Resources;
@using EnRepMobileWeb.MODELS.Common;
<style>
    /*#ProductPlanItemDetailsTbl .tableFixHead thead th {
        position: sticky;
        top: 0;
        left: 0;
        z-index: 5;
        text-align: center;
    }

    #ProductPlanItemDetailsTbl td:nth-child(4) {
        position: sticky;
        top: 0;
        left: 0;
        z-index: 5;*/
    /*text-align: center;*/
    /*}

    #ProductPlanItemDetailsTbl th:nth-child(4) {
        position: sticky;
        left: 0;
        z-index: 20;
    }*/
</style>
<script src="~/Content/Css/jquery/dist/jquery.min.js"></script>
<script src="~/Content/Css/build/js/sweetalert.js"></script>
<script src="~/Content/Scripts/ApplicationLayer/ProductionAndPlanning/ProductionPlan/ProductionPlanDetail.js"></script>
@*/*start Add by Hina on 19-02-2024 to chk Financial year exist or not*/*@
@{
    if (TempData["Message"] != null)
    {
        if (TempData["Message"] == "Financial Year not Exist")
        {
            <script type="text/javascript">
                swal("", $("#FinancialYearDoesNotExistTransactionCanNotBeDone").text(), "warning");
            </script>
        }

    }
    /*Add by Hina sharma on 09-05-2025 to check Existing with previous year transaction*/
    if (TempData["Message1"] != null)
    {
        if (TempData["Message1"] == "TransNotAllow")
        {
            <script type="text/javascript">
                swal("", $("#NomodificationisallowedinpreviousFYdocument").text(), "warning");
            </script>
        }

    }
}
@*/*End to chk Financial year exist or not*/*@
@if (Session["UserId"] == null)
{
    Response.Redirect("~/Login");
}
@{
    Layout = "~/Views/Shared/_MasterLayout.cshtml";
}
@{
    var QtyDigit = Convert.ToInt32(Session["QtyDigit"]);
    string DecQtyDigit = "0.";
    for (int i = 0; i < QtyDigit; i++)
    {
        DecQtyDigit += "0";
    }
    var Disable = true;
    var disablePrintbtn = "";
    if (Model.TransTypefc == "Update")
    {
        if (Model.Commandfc == "Edit")
        {
            Disable = false;
        }
        else
        {
            Disable = true;
        }
    }
    else
    {
        Disable = false;
    }
    if (Model.TransTypefc == "Refresh" || Model.Commandfc == "Refresh") /*Or Codition Added by Suraj Maurya on 17-02-2025*/
    {
        Disable = true;
    }

    if (Model.TransTypefc == "Approve")
    {
        Disable = true;
    }
    if (Model.TransTypefc == "Save")
    {
        if (Model.Commandfc == "Add")
        {
            Disable = false;
        }
        else
        {
            Disable = true;
        }
    }
    if (Model.StatusCode == "C" || Model.PPNumber == null || ((Model.StatusCode == "D" || Model.StatusCode == "A") && Model.Commandfc == "Edit"))/*Add || ((Model.StatusCode == "D" || Model.StatusCode == "A") && Model.Commandfc == "Edit") by Hina sharma on 16-10-2024*/
    {
        disablePrintbtn = "disabled style=filter:grayscale(100%)";
    }
    else if (Model.PPNumber != null)
    {
        if (Model.PPNumber.Split('(').Count() > 1)
        {
            disablePrintbtn = "disabled style=filter:grayscale(100%)";
        }
    }
}
@{
    if (Model.Messagefc != null)
    {
        // var str = Session["Messagefc"].ToString();
        if (Model.Messagefc != null)
        {
            Model.hdnsaveApprovebtn = null;
            if (Model.Messagefc == "Save")
            {
                <script type="text/javascript">
                    swal("", $("#savemsg").text(), "success");
                </script>
            }
            if (Model.Messagefc == "Deleted")
            {
                <script type="text/javascript">
                    swal("", $("#deletemsg").text(), "success");
                </script>
            }
            if (Model.Messagefc == "Approved")
            {
                <script type="text/javascript">
                    swal("", $("#approvemsg").text(), "success");
                </script>
            }
            if (Model.Messagefc == "Approved_ErrorInMail")
            {
                <script type="text/javascript">
                    $(document).ready(function () {
                        swal("", $("#approvemsg").text() + '. \n ' + $("#ThereIsSomethingWrongWhileSendingAlerts").text(), "warning");
                    });
                </script>
            }
            if (Model.Messagefc == "Cancelled")
            {
                <script type="text/javascript">
                    swal("", $("#cancelmsg").text(), "success");
                </script>

            }
            if (Model.Messagefc == "Cancelled_ErrorInMail")
            {
                <script type="text/javascript">
                    $(document).ready(function () {
                        swal("", $("#cancelmsg").text() + '. \n ' + $("#ThereIsSomethingWrongWhileSendingAlerts").text(), "warning");
                    });
                </script>
            }
            if (Model.Messagefc == "MRPInProcess")
            {
                <script type="text/javascript">
                    swal("", $("#MRPHasBeenProcessedDocumentCanNotBeModified").text(), "warning");
                </script>
            }
            if (Model.Messagefc == "JCInProcess")
            {
                <script type="text/javascript">
                    swal("", $("#ProductionOrderHasBeenProcessedDocumentCanNotBeModified").text(), "warning");
                </script>
            }
            if (Model.Messagefc == "DocModify")
            {
                <script type="text/javascript">
                    swal("", $("#SourceDocumentHasBeenModifiedCanNotProceed").text(), "warning");
                </script>
            }
            if (Model.Messagefc == "PRInProcess")
            {
                <script type="text/javascript">
                    swal("", $("#PurchaseRequisitionHasBeenProcessedProductionPlanCanNotBeModified").text(), "warning");
                </script>
            }
            if (Model.Messagefc == "ErrorInMail")
            {
                <script type="text/javascript">
                    swal("", $("#Emailsendingfailedduetotechnicalissue").text(), "warning");
                </script>
            }
            Model.Messagefc = null;
        }
    }
}
<title>@Model.Title</title>
@using (Html.BeginForm("ProductionPlanSave", "ProductionPlan", FormMethod.Post, new { enctype = "multipart/form-data", id = "ProductionPlanForm" }))
{
    @Html.AntiForgeryToken()
    {
        <div class="row">
            <div class="col-md-12 col-sm-12 ">
                <div class="x_panel mar_pad1 ">
                    <div class="x_content mar_pad1">
                        <!-- Bill Of Material -->
                        <div id="BillOfMaterial" class="modal fade" role="dialog">
                            <div class="modal-dialog" id="PPLPopUp_BillOfMaterial" style="max-width:1000px;">
                                <!-- Modal content-->
                                @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/PartialBillOfMaterial.cshtml")
                            </div>
                        </div>
                        <!-- Bill Of Material -->
                        <div id="BillOfMaterialLvl2" class="modal fade" role="dialog">
                            @*  *@
                            <div id="PPLPopUp_BillOfMaterialLvl2" class="modal-dialog" style="max-width:900px;">
                                <!-- Modal content-->
                                @* Data is comming from Controller : Added by Suraj Maurya on 21-12-2024*@
                            </div>
                        </div>
                        <!-- Bill Of Material -->
                        <div id="BillOfMaterialLvl3" class="modal fade" role="dialog">
                            <div id="PPLPopUp_BillOfMaterialLvl3" class="modal-dialog" style="max-width:900px;">
                                <!-- Modal content-->
                                @* Data is comming from Controller : Added by Suraj Maurya on 21-12-2024*@
                            </div>
                        </div>
                        <!-- Bill Of Material -->
                        <div id="BillOfMaterialLvl4" class="modal fade" role="dialog">
                            <div id="PPLPopUp_BillOfMaterialLvl4" class="modal-dialog" style="max-width:900px;">
                                <!-- Modal content-->
                                @* Data is comming from Controller : Added by Suraj Maurya on 21-12-2024*@
                            </div>
                        </div>
                        <!-- Bill Of Material -->
                        <div id="BillOfMaterialLvl5" class="modal fade" role="dialog">
                            <div id="PPLPopUp_BillOfMaterialLvl5" class="modal-dialog" style="max-width:900px;">
                                <!-- Modal content-->
                                @* Data is comming from Controller : Added by Suraj Maurya on 21-12-2024*@
                            </div>
                        </div>
                        <!-- Bill Of Material Alternate Item Information -->
                        <div id="AlternateItemDetailInfo" class="modal fade" role="dialog">
                            <div class="modal-dialog" id="PopUp_AlternateItemDetailInfo" style="max-width:600px;">
                                <!-- Modal content-->
                                @Html.Partial("~/Areas/Common/Views/Cmn_PartialBOMAlternateItemDetailInfo.cshtml")
                            </div>
                        </div>
                        <!-- Item Information -->
                        <div id="ItemInfo" class="modal fade" role="dialog">
                            <div class="modal-dialog">
                                <!-- Modal content-->
                                @Html.Partial("~/Areas/Common/Views/_ItemInfomation.cshtml")
                            </div>
                        </div>
                        <!-- Warehouse Wise Stock -->
                        <div id="StockDetail" class="modal fade" role="dialog">
                            <div class="modal-dialog">
                                <!-- Modal content-->
                                <div id="ItemStockWareHouseWise">
                                    @Html.Partial("~/Areas/Common/Views/PartialItemStockWareHouseWise.cshtml")
                                </div>
                            </div>
                        </div>
                        <!-- WIP Wise Stock -->
                        <div id="WIPStock" class="modal fade" role="dialog">
                            <div class="modal-dialog" style="max-width:600px;">
                                <!-- Modal content-->
                                <div id="ItemPendingStock">
                                    @Html.Partial("~/Areas/Common/Views/PartialWIPItemStock.cshtml")
                                </div>
                            </div>
                        </div>
                        <!-- Workflow Information -->
                        <div id="WorkflowInformation" class="modal fade" role="dialog">
                            <div class="modal-dialog" style="max-width:700px;">
                                <!-- Modal content-->
                                @Html.Partial("~/Areas/Common/Views/_WorkFlow.cshtml")
                            </div>
                        </div>
                        <!-- Forward Information -->
                        <div id="Forward_Pop" class="modal fade" role="dialog">
                            <div class="modal-dialog">
                                <!-- Modal content-->
                                @Html.Partial("~/Areas/Common/Views/PartialForward.cshtml")
                            </div>
                        </div>
                        <!-- Pending Order Quantity -->
                        <div id="PendingOrderQuantity" class="modal fade" role="dialog">
                            <div class="modal-dialog" style="max-width:800px;">
                                <!-- Modal content-->
                                @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/PartialPendingOrderQuantity.cshtml")
                            </div>
                        </div>
                        <!-- Production Detail Information -->
                        <div id="ProductionDetail" class="modal fade" role="dialog">
                            <div class="modal-dialog" style="max-width:1100px;">
                                <!-- Modal content-->
                                @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/PartialProductionDetailList.cshtml")
                            </div>
                        </div>
                        <!-- Sub Item Detail -->
                        <div id="SubItem" class="modal fade" role="dialog">
                            <div class="modal-dialog" id="SubItemPopUp" style=" max-width:600px;">
                                <!-- Modal content-->
                                @{
                                    SubItemPopupDt mdl = new SubItemPopupDt();
                                }
                                @Html.Partial("~/Areas/Common/Views/Cmn_PartialSubItemDetail.cshtml", mdl)
                            </div>
                            <table id="hdn_Sub_ItemDetailTbl" hidden>
                                <tbody>
                                    @if (ViewBag.SubItemDetails != null)
                                    {
                                        foreach (System.Data.DataRow dr in ViewBag.SubItemDetails.Rows)
                                        {
                                            <tr>
                                                <td><input type="text" id="ItemId" value='@dr["item_id"]'></td>
                                                <td><input type="text" id="subItemId" value='@dr["sub_item_id"]'></td>
                                                @if (Model.ddl_src_type == "F" || Model.ddl_src_type == "O")
                                                {
                                                    <td><input type="text" id="SrcDocQty" value='@dr["SrcDoc_Qty"]'></td>
                                                    <td><input type="text" id="SubItemPPLPendingQty" value='@dr["PendingQty"]'></td>
                                                }
                                                <td><input type="text" id="subItemQty" value='@dr["Qty"]'></td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                            <table id="hdn_SubItemDetailTblPP_Procure" hidden>
                                <tbody>
                                    @if (ViewBag.SubItemDetails_Percure != null)
                                    {
                                        foreach (System.Data.DataRow dr in ViewBag.SubItemDetails_Percure.Rows)
                                        {
                                            <tr>
                                                <td><input type="text" id="ItemId" value='@dr["item_id"]'></td>
                                                <td><input type="text" id="subItemId" value='@dr["sub_item_id"]'></td>
                                                <td><input type="text" id="subItemQty" value='@dr["Qty"]'></td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                            @Html.HiddenFor(model => model.SubItemDetailsDt, new { @id = "SubItemDetailsDt" })
                            @Html.HiddenFor(model => model.SubItemDetailsDt_prcure, new { @id = "SubItemDetailsDt_precure" })
                        </div>
                        <!-- Sub Item Stock Detail -->
                        <div id="SubItemStock" class="modal fade" role="dialog">
                            <div class="modal-dialog" id="SubItemStockPopUp" style=" max-width:600px;">
                                <!-- Modal content-->
                                @Html.Partial("~/Areas/Common/Views/Cmn_PartialSubItemStkDetail.cshtml")
                            </div>
                        </div>
                        <h2 class="col-md-4 col-sm-12 heading_left_padding ">@ViewBag.MenuPageName</h2>
                        <!-- Smart Wizard -->
                        <div id="wizard" class="form_wizard wizard_horizontal col-md-3 col-sm-12 work_flow">
                            @if (Model.wfDisableAmnd == "wfDisableAmnd")
                            {

                            }
                            else
                            {
                                @Html.Partial("~/Areas/Common/Views/_PartialWorkflowBar.cshtml")
                            }
                        </div>
                        <input type="hidden" id="DocumentMenuId" value="@ViewBag.DocumentMenuId" />
                        @Html.HiddenFor(model => model.WFBarStatus, new { @id = "WFBarStatus" })
                        @Html.HiddenFor(model => model.WFStatus, new { @id = "WFStatus" })
                        @Html.HiddenFor(model => model.create_id, new { @id = "Create_ID" })
                        @Html.HiddenFor(model => model.AutoGen_Remarks, new { @id = "AutoGen_Remarks" })
                        @Html.HiddenFor(model => model.WF_Status1, new { @id = "WF_Status1" })
                        @Html.HiddenFor(model => model.hdnsaveApprovebtn, new { @id = "hdnsavebtn" })

                        <div id="" class="col-md-5 col-sm-12 work_flow heading_right_padding">
                            @{
                                var btnName = Model.BtnNamefc;
                                switch (btnName)
                                {
                                    case "BtnAddNew":
                                        <ul class="margin0 padding0">
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105116001")
                                                    {
                                                        <li>
                                                            <button class="add" title="@Resource.AddNew" disabled style="filter: grayscale(100%)" type="submit" id="btn_add" name="Command" value="AddNew" onclick="RemoveSessionData()"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105116002")
                                                    {
                                                        <li>
                                                            <button class="edit" title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit" onclick="EnableEditkBtn()"></button>
                                                        </li>

                                                    }
                                                    if (Row["feature_id"].ToString() == "105105116008")
                                                    {
                                                        <li>
                                                            <button class="amendment"
                                                                    title="@Resource.Amendment" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Workflow" name="Command" value="Amendment"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105116004")
                                                    {
                                                        <li>
                                                            <button class="delete" title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                        </li>
                                                        @Html.HiddenFor(m => m.DeleteCommand, new { @id = "HdDeleteCommand" })
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="save" title="@Resource.Save" type="submit" onclick="return CheckFormValidation();" id="btn_save" name="Command" value="Save"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="forward" title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                </li>
                                            }

                                            <li>
                                                <button class="approve" title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="workflow" title="@Resource.Workflow" disabled style="filter: grayscale(100%)" type="submit" id="btn_workflow" name="Command" value="Workflow"></button>
                                                </li>
                                            }

                                            <li>
                                                <button class="refresh" title="@Resource.Refresh" type="submit" id="btn_refresh" name="Command" value="Refresh"></button>
                                            </li>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105116005")
                                                    {
                                                        <li>
                                                            <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105116009")
                                                    {
                                                        if (/*ViewBag.DocumentCode != "D" && ViewBag.DocumentCode != "F" && ViewBag.DocumentCode != "C" &&*/ ViewBag.DocumentCode != "" && ViewBag.DocumentCode != null)
                                                        {
                                                            <li>
                                                                <button class="intimation"
                                                                        title="@Resource.intimation" type="submit" id="btn_intimation" name="Command" value="intimation" data-toggle="modal" data-target="#intimation" data-backdrop="static" data-keyboard="false"></button>
                                                            </li>
                                                        }
                                                        else
                                                        {
                                                            <li>
                                                                <button class="intimation"
                                                                        title="@Resource.intimation" type="submit" id="btn_intimation" name="Command" disabled style="filter: grayscale(100%)" value="intimation" data-toggle="modal" data-target="#intimation" data-backdrop="static" data-keyboard="false"></button>
                                                            </li>
                                                        }
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="email_tool" title="@Resource.Email" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Mail" name="Command" value="Mail"></button>
                                            </li>
                                            <li>
                                                <button class="message_tool" title="@Resource.Message" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Message" name="Command" value="Message"></button>
                                            </li>
                                            <li>
                                                <button class="back" title="@Resource.Back" disabled style="filter: grayscale(100%)" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                            </li>
                                        </ul>
                                        break;
                                    case "BtnEdit":
                                        <ul>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105116001")
                                                    {
                                                        <li>
                                                            @if (ViewBag.DocumentCode == "A" || ViewBag.DocumentCode == "C" || ViewBag.DocumentCode == "D" || ViewBag.DocumentCode == "F")
                                                            {
                                                                if (Model.Commandfc == "Edit")
                                                                {
                                                                    <button class="add" title="@Resource.AddNew" disabled style="filter: grayscale(100%)" type="submit" id="btn_add" name="Command" value="AddNew"></button>
                                                                }
                                                                else
                                                                {
                                                                    <button class="add" title="@Resource.AddNew" type="submit" id="btn_add" name="Command" value="AddNew"></button>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <button class="add" title="@Resource.AddNew" disabled style="filter: grayscale(100%)" type="submit" id="btn_add" name="Command" value="AddNew"></button>
                                                            }

                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105116002")
                                                    {
                                                        <li>
                                                            @if (ViewBag.DocumentCode == "A" || ViewBag.DocumentCode == "D")
                                                            {
                                                                if (Model.Commandfc == "Edit")
                                                                {
                                                                    <button class="edit" title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit"></button>
                                                                }
                                                                else
                                                                {
                                                                    <button class="edit" title="@Resource.Edit" type="submit" id="btn_edit" name="Command" value="Edit"></button>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <button class="edit" title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit"></button>
                                                            }

                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105116008")
                                                    {
                                                        if (Model.create_id == Model.UserId.ToString() && ViewBag.DocumentCode == "A" && Model.ForAmmendendBtn == "Y")
                                                        {
                                                            if (Model.Commandfc == "Edit")
                                                            {
                                                                <li>
                                                                    <button class="amendment"
                                                                            title="@Resource.Amendment" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Workflow" name="Command" value="Amendment"></button>
                                                                </li>
                                                            }
                                                            else
                                                            {
                                                                <li>
                                                                    <button class="amendment"
                                                                            title="@Resource.Amendment" type="submit" id="Btn_Workflow" name="Command" value="Amendment"></button>
                                                                </li>
                                                            }
                                                        }
                                                        else
                                                        {
                                                            <li>
                                                                <button class="amendment"
                                                                        title="@Resource.Amendment" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Workflow" name="Command" value="Amendment"></button>
                                                            </li>
                                                        }
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105116004")
                                                    {
                                                        <li>
                                                            @if (ViewBag.DocumentCode == "D")
                                                            {
                                                                if (Model.Commandfc == "Edit")
                                                                {
                                                                    <button class="delete" title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                                }
                                                                else
                                                                {

                                                                    if (Model.Amendment == "Amendment" && Model.ForDeleteBtn == "N" || Model.Amendment == "")
                                                                    {
                                                                        <button class="delete" title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                                    }
                                                                    else
                                                                    {
                                                                        <button class="delete" title="@Resource.Delete" onclick="return functionConfirm(this)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                                    }
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <button class="delete" title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                            }
                                                            @Html.HiddenFor(m => m.DeleteCommand, new { @id = "HdDeleteCommand" })
                                                        </li>
                                                    }
                                                }
                                            }
                                            <li>
                                                @if (ViewBag.DocumentCode == "A" || ViewBag.DocumentCode == "D")
                                                {
                                                    if (Model.Commandfc == "Edit")
                                                    {
                                                        if (ViewBag.DocumentCode == "A")
                                                        {
                                                            <button class="save" title="@Resource.Save" disabled style="filter: grayscale(100%)" type="submit" id="btn_save" name="Command" value="Save"></button>
                                                        }
                                                        else
                                                        {
                                                            <button class="save" onclick="return CheckFormValidation()" title="@Resource.Save" type="submit" id="btn_save" name="Command" value="Save"></button>
                                                        }

                                                    }
                                                    else
                                                    {
                                                        <button class="save" title="@Resource.Save" disabled style="filter: grayscale(100%)" type="submit" id="btn_save" name="Command" value="Save"></button>
                                                    }
                                                }
                                                else
                                                {
                                                    <button class="save" title="@Resource.Save" disabled style="filter: grayscale(100%)" type="submit" id="btn_save" name="Command" value="Save"></button>
                                                }
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>

                                                    @if (ViewBag.DocumentCode == "D" || ViewBag.DocumentCode == "F")
                                                    {
                                                        if (ViewBag.ForwardEnbl == "Y")
                                                        {/*start Add by Hina on 19-02-2024 to chk Financial year exist or not*/
                                                            //if (ViewBag.Message == "Financial Year not Exist")
                                                            /*Above Commented and modify by Hina sharma on 09-05-2025 to check Existing with previous year transaction*/

                                                            if (ViewBag.Message == "TransNotAllow")
                                                            {/*data-target="" value will be balnk in this case*/
                                                                <button class="forward"
                                                                        title="@Resource.Forward" type="button" id="btn_forward" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="" data-backdrop="static" data-keyboard="false" name="Command" value="Forward"></button>

                                                            }/*End to chk Financial year exist or not*/
                                                            else
                                                            {
                                                                <button class="forward"
                                                                        title="@Resource.Forward" type="button" id="btn_forward" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" name="Command" value="Forward"></button>

                                                            }/*commented by Hina on 19-02-2024 to chk Financial year exist or not*/
                                                            @*<button class="forward"
                                                                title="@Resource.Forward" type="submit" id="btn_forward" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" name="Command" value="Forward"></button>*@
                                                        }
                                                        else
                                                        {
                                                            <button class="forward"
                                                                    title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                        }
                                                    }
                                                    else
                                                    {
                                                        <button class="forward"
                                                                title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                    }

                                                </li>
                                            }

                                            <li>
                                                @if ((ViewBag.DocumentCode == "D" || ViewBag.DocumentCode == "F") && Model.Commandfc != "Edit")
                                                {
                                                    if (ViewBag.Approve == "Y")
                                                    //if (Model.Commandfc != "Edit")
                                                    {
                                                        if (ViewBag.AppLevel.Rows.Count > 0)
                                                        {/*start Add by Hina on 19-02-2024 to chk Financial year exist or not*/
                                                            //if (ViewBag.Message == "Financial Year not Exist")
                                                            /*Above Commented and modify by Hina sharma on 09-05-2025 to check Existing with previous year transaction*/

                                                            if (ViewBag.Message == "TransNotAllow")
                                                            {/*data-target="" value will be balnk in this case*/
                                                                <button class="approve"
                                                                        title="@Resource.Approve" type="button" id="btn_approve" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="" data-backdrop="static" data-keyboard="false" name="Command" value="Approve"></button>

                                                            }/*End to chk Financial year exist or not*/
                                                            else
                                                            {
                                                                <button class="approve"
                                                                        title="@Resource.Approve" type="button" id="btn_approve" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" name="Command" value="Approve"></button>
                                                            }
                                                            /*commented by Hina on 19-02-2024 to chk Financial year exist or not*/
                                                            @*<button class="approve"
                                                                title="@Resource.Approve" type="submit" id="btn_approve" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" name="Command" value="Approve"></button>*@
                                                        }
                                                        else
                                                        {
                                                            <button class="approve"
                                                                    title="@Resource.Approve" type="submit" onclick="approveonclick()" id="btn_approve" name="Command" value="Approve"></button>
                                                        }
                                                    }
                                                    else
                                                    {
                                                        <a class="tooltip-test" href="#" title="@Resource.Approve"><img src="~/Content/Images/approve_green.png" width="28" height="28" alt="Approve" disabled style="filter: grayscale(100%)" id="Btn_Approve"></a>
                                                    }

                                                }
                                                else
                                                {
                                                    <button class="approve"
                                                            title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                                }

                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="workflow" title="@Resource.Workflow"
                                                            type="submit" id="btn_workflow" onclick="return ForwardHistoryBtnClick();" data-toggle="modal" data-target="#WorkflowInformation" data-backdrop="static" data-keyboard="false" name="Command" value="Workflow"></button>
                                                </li>
                                            }

                                            <li>
                                                <button class="refresh" disabled style="filter: grayscale(100%)" title="@Resource.Refresh" type="submit" id="btn_refresh" name="Command" value="Refresh"></button>
                                            </li>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105116005")
                                                    {
                                                        <li>
                                                            @if (ViewBag.DocumentCode == "A")
                                                            {
                                                                <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                                            }
                                                            else
                                                            {
                                                                <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                                            }
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105116009")
                                                    {
                                                        if (/*ViewBag.DocumentCode != "D" && ViewBag.DocumentCode != "F" && ViewBag.DocumentCode != "C" &&*/ ViewBag.DocumentCode != "" && ViewBag.DocumentCode != null)
                                                        {
                                                            <li>
                                                                <button class="intimation"
                                                                        title="@Resource.intimation" type="submit" id="btn_intimation" name="Command" value="intimation" data-toggle="modal" data-target="#intimation" data-backdrop="static" data-keyboard="false"></button>
                                                            </li>
                                                        }
                                                        else
                                                        {
                                                            <li>
                                                                <button class="intimation"
                                                                        title="@Resource.intimation" type="submit" id="btn_intimation" name="Command" disabled style="filter: grayscale(100%)" value="intimation" data-toggle="modal" data-target="#intimation" data-backdrop="static" data-keyboard="false"></button>
                                                            </li>
                                                        }
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="email_tool" title="@Resource.Email" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Mail" name="Command" value="Mail"></button>
                                            </li>
                                            <li>
                                                <button class="message_tool" title="@Resource.Message" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Message" name="Command" value="Message"></button>
                                            </li>
                                            <li>
                                                <button class="back" title="@Resource.Back" @*disabled style="filter: grayscale(100%)"*@ type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                            </li>
                                        </ul>
                                        break;
                                    case "BtnRefresh":
                                        <ul>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105116001")
                                                    {
                                                        <li>
                                                            <button class="add" title="@Resource.AddNew" type="submit" id="btn_add" name="Command" value="AddNew"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105116002")
                                                    {
                                                        <li>
                                                            <button class="edit" title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105116008")
                                                    {
                                                        <li>
                                                            <button class="amendment"
                                                                    title="@Resource.Amendment" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Workflow" name="Command" value="Amendment"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105116004")
                                                    {
                                                        <li>
                                                            <button class="delete" title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                        </li>
                                                        @Html.HiddenFor(m => m.DeleteCommand, new { @id = "HdDeleteCommand" })
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="save" title="@Resource.Save" disabled style="filter: grayscale(100%)" type="submit" id="btn_save" name="Command" value="Save"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="forward" title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                </li>
                                            }

                                            <li>
                                                <button class="approve" title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="workflow" title="@Resource.Workflow"
                                                            type="submit" id="btn_workflow" onclick="return ForwardHistoryBtnClick();" data-toggle="modal" data-target="#WorkflowInformation" data-backdrop="static" data-keyboard="false" name="Command" value="Workflow"></button>
                                                </li>
                                            }

                                            <li>
                                                <button class="refresh" title="@Resource.Refresh" disabled style="filter: grayscale(100%)" type="submit" id="btn_refresh" name="Command" value="Refresh"></button>
                                            </li>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105116005")
                                                    {
                                                        if (Model.wfDisableAmnd != "wfDisableAmnd")
                                                        {
                                                            <li>
                                                                <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                                            </li>
                                                        }
                                                        else
                                                        {
                                                            <li>
                                                                <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                                            </li>
                                                        }
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105116009")
                                                    {
                                                        if (/*ViewBag.DocumentCode != "D" && ViewBag.DocumentCode != "F" && ViewBag.DocumentCode != "C" &&*/ ViewBag.DocumentCode != "" && ViewBag.DocumentCode != null && Model.wfDisableAmnd != "wfDisableAmnd")
                                                        {
                                                            <li>
                                                                <button class="intimation"
                                                                        title="@Resource.intimation" type="submit" id="btn_intimation" name="Command" value="intimation" data-toggle="modal" data-target="#intimation" data-backdrop="static" data-keyboard="false"></button>
                                                            </li>
                                                        }
                                                        else
                                                        {
                                                            <li>
                                                                <button class="intimation"
                                                                        title="@Resource.intimation" type="submit" id="btn_intimation" name="Command" disabled style="filter: grayscale(100%)" value="intimation" data-toggle="modal" data-target="#intimation" data-backdrop="static" data-keyboard="false"></button>
                                                            </li>
                                                        }
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="email_tool" title="@Resource.Email" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Mail" name="Command" value="Mail"></button>
                                            </li>
                                            <li>
                                                <button class="message_tool" title="@Resource.Message" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Message" name="Command" value="Message"></button>
                                            </li>
                                            <li>
                                                <button class="back" title="@Resource.Back" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                            </li>
                                        </ul>
                                        break;
                                }
                            }
                        </div>
                        <div class="x_title pad_mar ">
                            <div class="col-md-12 col-sm-12 icon_tool ">
                                <div class="approved_by">
                                    <ul class="margin0 padding0">
                                        <li><span>@Resource.CreatedBy<br><b>@Html.DisplayFor(model => model.CreatedBy)</b></span></li>
                                        <li><span>@Resource.Createdon<br><b>@Html.DisplayFor(model => model.CreatedOn)</b></span></li>
                                        <li><span>@Resource.ApprovedBy<br><b>@Html.DisplayFor(model => model.ApprovedBy)</b></span></li>
                                        <li><span>@Resource.ApprovedOn<br><b>@Html.DisplayFor(model => model.ApprovedOn)</b></span></li>
                                        <li><span>@Resource.AmendedBy<br><b>@Html.DisplayFor(model => model.AmmendedBy)</b></span></li>
                                        <li><span>@Resource.AmendedOn<br><b>@Html.DisplayFor(model => model.AmmendedOn)</b></span></li>
                                        <li>
                                            <span>@Resource.Status<br><b>@Html.DisplayFor(model => model.Status)</b></span>
                                            @Html.HiddenFor(model => model.StatusCode, new { @id = "hd_Status" })
                                            @if ((Model.StatusCode == "D" || Model.StatusCode == "F" || string.IsNullOrEmpty(Model.StatusCode) == true))
                                            {
                                                if (Disable)
                                                {
                                                    <input id="DisableSubItem" value="Y" hidden />
                                                }
                                                else
                                                {
                                                    <input id="DisableSubItem" value="N" hidden />
                                                }

                                            }
                                            else
                                            {
                                                <input id="DisableSubItem" value="Y" hidden />
                                            }
                                        </li>
                                    </ul>
                                </div>
                                @Html.HiddenFor(model => model.Amendment, new { @id = "Amendment" })
                                @Html.HiddenFor(model => model.Amend, new { @id = "Amend" })
                                @Html.HiddenFor(m => m.ListFilterData1, new { @id = "ListFilterData1", value = Model.ListFilterData1 })
                                @Html.HiddenFor(m => m.itemdetailData, new { @id = "hdn_itemdetailData" })
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-12 col-sm-12 ">
                <div class="x_panel mar_pad1 ">
                    <div class="x_content mar_pad1">
                        <article class="panel-group bs-accordion" id="accordion" role="tablist" aria-multiselectable="true">
                            <section class="panel panel-default">
                                <div class="panel-heading" role="tab" id="headingOne">
                                    <h4 class="panel-title"><a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne"> @Resource.ProductionPlan @Resource.Detail<span class="glyphicon glyphicon-chevron-right pull-right" aria-hidden="true"></span> </a></h4>
                                </div>
                                <div id="collapseOne" class="panel-collapse in collapse show" role="tabpanel" aria-labelledby="headingOne" style="">
                                    <div class="row">
                                        <div class="panel-body col-md-12 col-sm-12 ">
                                            <div class="col-md-55 col-sm-12">
                                                <label class="col-form-label label-align">@Resource.Plan @Resource.Number</label>
                                                @Html.TextBoxFor(model => model.PPNumber, new { @id = "txt_PPNumber", @class = "form-control optional", @placeholder = Resource.PlanNumber, autocomplete = "off", @readonly = "readonly" })
                                                @Html.HiddenFor(model => model.PPNumber, new { @id = "@hdn_PPNumber" })
                                            </div>
                                            <div class="col-md-55 col-sm-12">
                                                <label class="col-form-label label-align">@Resource.Plan @Resource.Date</label>
                                                @Html.TextBoxFor(model => model.PPDate, new { @id = "txt_PPDate", @name = "txt_PPDate", @class = "form-control", @type = "date", @placeholder = Resource.PlanDate, @readonly = "readonly" })
                                                @Html.HiddenFor(model => model.PPDate, new { @id = "@hdn_PPDate" })
                                            </div>
                                            <div class="col-md-55 col-sm-12">
                                                <label class="col-form-label label-align">@Resource.Source </label>
                                                @if (Disable)
                                                {
                                                    @Html.DropDownListFor(model => model.ddl_src_type, new SelectList(Model.ddl_src_typeList, "id", "name"), new { @id = "ddl_src_type", @class = "form-control", disabled = "disabled" })
                                                    @Html.HiddenFor(model => model.ddlsrctype, new { @id = "hdn_ddl_src_type" })
                                                }
                                                else
                                                {
                                                    if (Model.Commandfc == "Add")
                                                    {
                                                        @Html.DropDownListFor(model => model.ddl_src_type, new SelectList(Model.ddl_src_typeList, "id", "name"), new { @class = "form-control", id = "ddl_src_type", onchange = "ddl_src_type_onchange()" })
                                                        @Html.HiddenFor(model => model.ddlsrctype, new { @id = "hdn_ddl_src_type" })
                                                    }
                                                    else
                                                    {
                                                        @Html.DropDownListFor(model => model.ddl_src_type, new SelectList(Model.ddl_src_typeList, "id", "name"), new { @id = "ddl_src_type", @class = "form-control", disabled = "disabled" })
                                                        @Html.HiddenFor(model => model.ddlsrctype, new { @id = "hdn_ddl_src_type" })
                                                        @Html.HiddenFor(model => model.ddlsrctype_id, new { @id = "hdn_id_ddl_src_type" })
                                                    }
                                                }
                                            </div>
                                            <div class="col-md-55 col-sm-12">
                                                <label class="col-form-label label-align">@Resource.RequirementArea <span id="RequiredRequirementArea" class="required" @*style="display:none;"*@>*</span></label>
                                                @if (Disable || (Model.StatusCode != "D" && Model.StatusCode != null))
                                                {
                                                    @Html.DropDownListFor(model => model.req_area, new SelectList(Model._requirementAreaLists, "req_id", "req_val"), new { @class = "form-control", disabled = "disabled", id = "ddlRequiredArea" })
                                                    @Html.ValidationMessageFor(model => model.req_area, String.Empty, new { @style = "color:red;!important", @id = "vmRequiredArea" })
                                                    @Html.HiddenFor(model => model.req_area, new { @id = "hdRequiredArea" })

                                                }
                                                else
                                                {
                                                    //if (Session["Commandfc"].ToString() == "Add")
                                                    //if (Model.Commandfc == "Add")
                                                    //{
                                                    @Html.DropDownListFor(model => model.req_area, new SelectList(Model._requirementAreaLists, "req_id", "req_val"), new { @class = "form-control", onchange = "onChangeRequiredArea()", id = "ddlRequiredArea" })
                                                    @Html.ValidationMessageFor(model => model.req_area, String.Empty, new { @style = "color:red;!important", @id = "vmRequiredArea" })
                                                    @Html.HiddenFor(model => model.req_area, new { @id = "hdRequiredArea" })
                                                    @*}
                                                        else
                                                        {
                                                            @Html.DropDownListFor(model => model.req_area, new SelectList(Model._requirementAreaLists, "req_id", "req_val"), new { @class = "form-control", disabled = "disabled", id = "ddlRequiredArea" })
                                                            @Html.ValidationMessageFor(model => model.req_area, String.Empty, new { @style = "color:red;!important", @id = "vmRequiredArea" })
                                                            @Html.HiddenFor(model => model.req_area, new { @id = "hdRequiredArea" })
                                                        }*@
                                                }
                                            </div>
                                            <div class="col-md-55 col-sm-12 margin15" style="float:right;">
                                                <div class="cancelled">
                                                    <label>
                                                        @Resource.Cancelled
                                                        @if (ViewBag.DocumentCode == "A" && Model.Commandfc == "Edit")
                                                        {
                                                            @Html.CheckBoxFor(model => model.CancelFlag, new { @class = "js-switch", onclick = "OnClickCancelFlag()" })
                                                        }
                                                        else
                                                        {
                                                            @Html.CheckBoxFor(model => model.CancelFlag, new { @class = "js-switch", @disabled = "disabled" })
                                                        }

                                                    </label>
                                                </div>
                                            </div>
                                            <div class="clear"></div>
                                            @{ string displayDF = Model.ddl_src_type != null && (Model.ddl_src_type == "O" || Model.ddl_src_type == "A") ? "style=display:none;" : "";}
                                            <div id="ProductionbyDF" @displayDF>
                                                <div class="col-md-55 col-sm-12">
                                                    <label class="col-form-label label-align">
                                                        @Resource.FY <span class="required">*</span>
                                                    </label>
                                                    @if (Disable)
                                                    {
                                                        @Html.DropDownListFor(model => model.ddl_financial_year, new SelectList(Model.ddl_financial_yearList, "id", "name"), new { @id = "ddl_financial_year", @class = "form-control", disabled = "disabled" })
                                                    }
                                                    else
                                                    {
                                                        if (Model.Commandfc == "Add")
                                                        {
                                                            @Html.DropDownListFor(model => model.ddl_financial_year, new SelectList(Model.ddl_financial_yearList, "id", "name"), new { @class = "form-control", @id = "ddl_financial_year", @onchange = "ddl_financial_year_onchange()" })
                                                        }
                                                        else
                                                        {
                                                            @Html.DropDownListFor(model => model.ddl_financial_year, new SelectList(Model.ddl_financial_yearList, "id", "name"), new { @id = "ddl_financial_year", @class = "form-control", @disabled = "disabled" })
                                                        }
                                                    }
                                                    @Html.ValidationMessageFor(model => model.ddl_financial_year, String.Empty, new { @style = "color:red;!important", @id = "vm_ddl_financial_year" })
                                                    @Html.HiddenFor(model => model.ddlfinancialyear, new { @id = "hdn_ddl_financial_year" })
                                                </div>
                                                <div class="col-md-55 col-sm-12">
                                                    <label class="col-form-label label-align">
                                                        @Resource.Period <span class="required">*</span>
                                                    </label>
                                                    @if (Disable)
                                                    {
                                                        @Html.DropDownListFor(model => model.ddl_period, new SelectList(Model.ddl_periodList, "id", "name"), new { @id = "ddl_period", @class = "form-control", disabled = "disabled" })
                                                    }
                                                    else
                                                    {
                                                        if (Model.Commandfc == "Add")
                                                        {
                                                            @Html.DropDownListFor(model => model.ddl_period, new SelectList(Model.ddl_periodList, "id", "name"), new { @class = "form-control", id = "ddl_period", onchange = "ddl_period_onchange()" })
                                                        }
                                                        else
                                                        {
                                                            @Html.DropDownListFor(model => model.ddl_period, new SelectList(Model.ddl_periodList, "id", "name"), new { @id = "ddl_period", @class = "form-control", disabled = "disabled" })
                                                        }
                                                    }
                                                    @Html.ValidationMessageFor(model => model.ddl_period, String.Empty, new { @style = "color:red;!important", @id = "vm_ddl_period" })
                                                    @Html.HiddenFor(model => model.ddlperiod, new { @id = "hdn_ddl_period" })
                                                    @Html.HiddenFor(model => model.hdn_period, new { @id = "hdn_period" })
                                                </div>
                                                <div class="col-md-4 col-sm-12">
                                                    <label class="col-form-label label-align col-md-12 col-sm-12 no-padding">@Resource.DateRange </label>
                                                    <div class="col-md-6 col-sm-12 no-padding">
                                                        @Html.TextBoxFor(model => model.txtFromDate, new { @id = "txtFromDate", @class = "form-control", @placeholder = Resource.FromDate, autocomplete = "off", @readonly = "readonly" })
                                                        @Html.HiddenFor(model => model.hfFromDate, new { @id = "hdn_FromDate" })
                                                    </div>
                                                    <div class="col-md-1 col-sm-12 no-padding" style="text-align:center;"> @Resource.to</div>
                                                    <div class="col-md-5 col-sm-12 no-padding">
                                                        @Html.TextBoxFor(model => model.txtToDate, new { @id = "txtToDate", @class = "form-control", @placeholder = Resource.ToDate, autocomplete = "off", @readonly = "readonly" })
                                                        @Html.HiddenFor(model => model.hfToDate, new { @id = "hdn_ToDate" })
                                                    </div>
                                                </div>
                                                <div class="col-md-1 col-sm-12 margin25">
                                                    <a href="#">
                                                        @if (Disable || Model.StatusCode == "A" || Model.ddl_src_type == "F")
                                                        {
                                                        }
                                                        else
                                                        {
                                                            <div id="AddBtnIconPP" class="plus_icon1" style="display: block;">
                                                                <i class="fa fa-plus" id="BtnAttribute" onclick="AddForeCastItemDetail()" title="@Resource.PopulateDetail"></i>
                                                            </div>
                                                        }
                                                    </a>
                                                </div>
                                            </div>
                                            @{ string displayDAdHoc = Model.ddl_src_type != null && Model.ddl_src_type == "A" ? "" : "style=display:none;";}
                                            <div id="ProductionbyDAdHoc" @displayDAdHoc>

                                                <div class="col-md-4 col-sm-12">
                                                    <label class="col-form-label label-align col-md-12 col-sm-12 no-padding">@Resource.DateRange <span class="required">*</span></label>
                                                    <div class="col-md-6 col-sm-12 no-padding">
                                                        @if (Disable)
                                                        {
                                                            @Html.TextBoxFor(model => model.ADHocFromDate, new { @id = "AH_txtFromDate", @class = "form-control", @type = "date", @placeholder = Resource.FromDate, autocomplete = "off", @min = System.DateTime.Now.ToString("yyyy-MM-dd"), @onchange = "OnChangeAHFromdate()", @readonly = "readonly" })
                                                        }
                                                        else
                                                        {
                                                            @Html.TextBoxFor(model => model.ADHocFromDate, new { @id = "AH_txtFromDate", @class = "form-control", @type = "date", @placeholder = Resource.FromDate, @min = System.DateTime.Now.ToString("yyyy-MM-dd"), @onchange = "OnChangeAHFromdate()", autocomplete = "off" })
                                                        }
                                                        @Html.HiddenFor(model => model.ADHocFromDate, new { @id = "hdn_fromdate" })
                                                        @Html.ValidationMessageFor(model => model.ADHocFromDate, String.Empty, new { @style = "color:red;!important", @id = "vm_AH_txtFromDate" })
                                                    </div>
                                                    <div class="col-md-1 col-sm-12 no-padding" style="text-align:center;"> @Resource.to</div>
                                                    <div class="col-md-5 col-sm-12 no-padding">
                                                        @if (Disable)
                                                        {
                                                            @Html.TextBoxFor(model => model.ADHocToDate, new { @id = "AH_txtToDate", @class = "form-control", @type = "date", @placeholder = @Resource.ToDate, @min = System.DateTime.Now.ToString("yyyy-MM-dd"), @onclick = "OnClickAdHocToDate()", @onchange = "OnChangeAHToDate()", autocomplete = "off", @readonly = "readonly" })
                                                        }
                                                        else
                                                        {
                                                            @Html.TextBoxFor(model => model.ADHocToDate, new { @id = "AH_txtToDate", @class = "form-control", @type = "date", @placeholder = @Resource.ToDate, @min = System.DateTime.Now.ToString("yyyy-MM-dd"), @onclick = "OnClickAdHocToDate()", @onchange = "OnChangeAHToDate()", autocomplete = "off" })
                                                        }
                                                        @Html.HiddenFor(model => model.ADHocToDate, new { @id = "hdn_todate" })
                                                        @Html.ValidationMessageFor(model => model.ADHocToDate, String.Empty, new { @style = "color:red;!important", @id = "vm_AH_txtToDate" })
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="clearfix"></div>
                                            @{ string displaySO = Model.ddl_src_type != null && Model.ddl_src_type == "O" ? "" : "style=display:none;";}
                                            <div id="ProductionbySO" @displaySO>
                                                @*<div class="col-md-55 col-sm-12"> //Commented By Suraj on 25-01-2023
                                                        <label class="col-form-label label-align">@Resource.RequirementArea</label>
                                                        @if (Disable || (Model.StatusCode != "D" && Model.StatusCode != null))
                                                        {
                                                            @Html.DropDownListFor(model => model.ReqArea, new SelectList(Model._requirementAreaLists, "req_id", "req_val"), new { @class = "form-control", @id = "ReqAreaList", @onchange = "OnChangeReqAreaList()", @disabled = "disabled" })
                                                        }
                                                        else
                                                        {
                                                            @Html.DropDownListFor(model => model.ReqArea, new SelectList(Model._requirementAreaLists, "req_id", "req_val"), new { @class = "form-control", @id = "ReqAreaList", @onchange = "OnChangeReqAreaList()" })
                                                        }
                                                        @Html.ValidationMessageFor(model => model.ReqArea, String.Empty, new { @style = "color:red;!important", @id = "vm_ReqAreaList" })
                                                    </div>*@
                                                <div class="col-md-55 col-sm-12">
                                                    <label class="col-form-label label-align">@Resource.CustomerName</label>
                                                    @if (Disable || (Model.StatusCode != "D" && Model.StatusCode != null))
                                                    {
                                                        @Html.DropDownListFor(model => model.CustID, new SelectList(Model.CustNameList, "Cust_id", "Cust_name"), new { @class = "form-control", @id = "CustomerName", @onchange = "OnChangeCustomer()", @disabled = "disabled" })
                                                    }
                                                    else
                                                    {
                                                        @Html.DropDownListFor(model => model.CustID, new SelectList(Model.CustNameList, "Cust_id", "Cust_name"), new { @class = "form-control", @id = "CustomerName", @onchange = "OnChangeCustomer()" })
                                                    }
                                                    @Html.ValidationMessageFor(model => model.CustID, String.Empty, new { @style = "color:red;!important", @id = "vm_CustomerName" })
                                                </div>
                                                <div class="col-md-55 col-sm-12">
                                                    <label class="col-form-label label-align">@Resource.OrderNumber</label>
                                                    @if (Disable || (Model.StatusCode != "D" && Model.StatusCode != null))
                                                    {
                                                        @Html.DropDownListFor(model => model.OrderNumber, new SelectList(Model.OrderNumberList, "Order_id", "Order_val"), new { @class = "form-control", @id = "OrderNumber", @name = "OrderNumber", @onchange = "OnChangeOrderNumber()", @disabled = "disabled" })
                                                    }
                                                    else
                                                    {
                                                        @Html.DropDownListFor(model => model.OrderNumber, new SelectList(Model.OrderNumberList, "Order_id", "Order_val"), new { @class = "form-control", @id = "OrderNumber", @name = "OrderNumber", @onchange = "OnChangeOrderNumber()" })
                                                    }
                                                    @Html.ValidationMessageFor(model => model.OrderNumber, String.Empty, new { @style = "color:red;!important", @id = "vm_OrderNumber" })
                                                    @Html.HiddenFor(model => model.HdnOrderNumber, new { @id = "HDOrderNumber" })
                                                </div>
                                                <div class="col-md-55 col-sm-12">
                                                    <label class="col-form-label label-align">@Resource.OrderDate</label>
                                                    @Html.TextBoxFor(model => model.OrderDate, new { @id = "OrderDate", @class = "form-control", @name = "OrderDate", @placeholder = Resource.OrderDate, @type = "date", @readonly = "readonly" })
                                                </div>
                                                <div class="col-md-1 col-sm-12 margin25">
                                                    <a href="#">
                                                        @if (Disable || (Model.StatusCode != "D" && Model.StatusCode != null))
                                                        {
                                                        }
                                                        else
                                                        {
                                                            <div id="AddBtnIconSO" class="plus_icon1">
                                                                <i class="fa fa-plus" id="BtnAttribute" onclick="AddSOItemDetail()" title="@Resource.PopulateDetail"></i>
                                                            </div>
                                                        }
                                                    </a>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section class="panel panel-default">
                                <div class="panel-heading" role="tab" id="headingTwo">
                                    <h4 class="panel-title"><a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTWo" aria-expanded="true" aria-controls="collapseTwo"> @Resource.ProductDetail <span class="glyphicon glyphicon-chevron-right pull-right" aria-hidden="true"></span> </a></h4>
                                </div>
                                <div id="collapseTwo" class="panel-collapse" role="tabpanel" aria-labelledby="headingTwo">
                                    <div class="card-box table-responsive dy_table">
                                        <div class="col-md-12">
                                            <div class="price_item_detail">
                                                <div class="tableFixHead height45VH">
                                                    <h2 class="col-md-9 col-sm-12 no-padding mt-3"> &nbsp;</h2>
                                                    <div class="col-md-3 col-sm-12 no-padding num_right mt-3 mb-2"><label class="label pt-1 col-md-4 col-sm-12 num_right pr-0" for="SearchItmDetailsTbl">@Resource.Search @Resource.Item : </label><input type="text" class="form-control col-md-7 col-sm-12" id="SearchItmDetailsTbl" onkeyup="FilterItemDetail(event)" /> </div>

                                                    @Html.HiddenFor(model => model.ProductDetail, new { @id = "HDProductPlanDetails" })
                                                    @Html.HiddenFor(model => model.SOItemDetail, new { @id = "HDSOItemDetails" })
                                                    <table id="ProductPlanItemDetailsTbl" class="table table-bordered margin10 width2300 itmfrz">
                                                        <thead disabled="disabled">
                                                            <tr class="headings">
                                                                <th class="" width="2%">
                                                                    @if (Disable)
                                                                    {
                                                                        <input type="checkbox" class="center" id="AllProductPlanCheck" onclick="OnClickAllProductPlanCheck()" disabled>
                                                                    }
                                                                    else
                                                                    {
                                                                        if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                        {
                                                                            <input type="checkbox" class="center" id="AllProductPlanCheck" onclick="OnClickAllProductPlanCheck()" disabled>
                                                                        }
                                                                        else
                                                                        {
                                                                            <input type="checkbox" class="center" id="AllProductPlanCheck" onclick="OnClickAllProductPlanCheck()">
                                                                        }
                                                                    }
                                                                </th>
                                                                <th width="1%" class="center">
                                                                    @if (Disable)
                                                                    {
                                                                        <i class="fa fa-trash" style="filter: grayscale(100%)" aria-hidden="true" title="@Resource.Delete"></i>
                                                                    }
                                                                    else
                                                                    {
                                                                        if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                        {
                                                                            <i class="fa fa-trash" style="filter: grayscale(100%)" aria-hidden="true" title="@Resource.Delete"></i>
                                                                        }
                                                                        else
                                                                        {
                                                                            <i class="fa fa-trash red pl-2 float-left" id="AllDelete" onclick="OnClickAllPackingDelete()" aria-hidden="true" title="@Resource.Delete"></i>
                                                                        }
                                                                    }
                                                                </th>
                                                                @*<th width="2%"> &nbsp;</th>*@
                                                                <th width="2%">@Resource.SrNo</th>
                                                                <th width="12%" class="itmStick">
                                                                    <div class="col-md-3 col-sm-12"> </div>
                                                                    <div class="col-md-6 col-sm-12">
                                                                        <span class="item_add"> @Resource.Product @Resource.Name </span>
                                                                        @if (Disable || Model.ddl_src_type == "O")
                                                                        {
                                                                            <a href="#">
                                                                                <div class="plus_icon1" style="display:none;">
                                                                                    <i class="fa fa-plus" id="BtnAddItem" title="Add New"></i>
                                                                                </div>
                                                                            </a>
                                                                        }
                                                                        else
                                                                        {
                                                                            if (ViewBag.DocumentCode == "D" || ViewBag.DocumentCode == "" || ViewBag.DocumentCode == null)
                                                                            {
                                                                                <a href="#">
                                                                                    <div class="plus_icon1">
                                                                                        <i class="fa fa-plus" id="BtnAddItem" onclick="AddNewProduct_OnClick()" title="Add New"></i>
                                                                                    </div>
                                                                                </a>
                                                                            }
                                                                            else
                                                                            {
                                                                                <a href="#">
                                                                                    <div class="plus_icon1" style="display:none;">
                                                                                        <i class="fa fa-plus" id="BtnAddItem" title="Add New"></i>
                                                                                    </div>
                                                                                </a>
                                                                            }

                                                                        }
                                                                    </div>
                                                                    <div class="col-md-3 col-sm-12"> </div>
                                                                </th>
                                                                <th width="3%" title="@Resource.UnitOfMeasure"> @Resource.UOM</th>
                                                                <th width="6%" id="thforecast">@Resource.Forecast <br />  @Resource.Quantity</th>
                                                                <th width="6%" id="thPendingodrqty">@Resource.PendingOrderQuantity</th>
                                                                <th width="6%">@Resource.Available <br />  @Resource.Stock</th>
                                                                <th width="6%">@Resource.Shopfloor <br />  @Resource.Stock</th>
                                                                <th width="6%">@Resource.WIP <br />  @Resource.Stock</th>
                                                                <th width="6%">@Resource.Planned <br />  @Resource.Quantity</th>
                                                                <th width="6%" id="thOrderToProduceqty">@Resource.OrderToProduceQuantity</th>
                                                                <th width="6%" id="thProduceComplsnDate">
                                                                    <div class="col-md-10 col-sm-12 no-padding">
                                                                        @Resource.Production <br /> @Resource.CompletionDate
                                                                    </div>
                                                                    <div class="lpo_form col-md-2 col-sm-12 no-padding mt-2">
                                                                        @if (Disable )/*modified by Suraj on 15-10-2024 to hide calender in case disable*/
                                                                        {
                                                                            @*<input id="ProductionCompletionDt" class="form-control" onchange="ProductionCompletioDateReplicate()" type="date" disabled min="@System.DateTime.Now.ToString("yyyy-MM-dd")" value="" name="" placeholder="">*@
                                                                        }
                                                                        else
                                                                        {
                                                                            <input id="ProductionCompletionDt" class="form-control" onchange="ProductionCompletioDateReplicate()" type="date" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" onclick="onClockProductionDateHd(event)" value="" name="" placeholder="">
                                                                        }
                                                                    </div>
                                                                </th>
                                                                <th width="6%">@Resource.OrderToProcure  <br />  Quantity</th>
                                                                <th width="6%">
                                                                    <div class="col-md-10 col-sm-12 no-padding">
                                                                        @Resource.Procurement <br />  @Resource.CompletionDate
                                                                    </div>
                                                                    <div class="lpo_form col-md-2 col-sm-12 no-padding mt-2">
                                                                        @if (Disable )
                                                                        {
                                                                            @*<input id="ProcurementCompletionDt" class="form-control" disabled onchange="ProcurementCompletionDateReplicate()" type="date" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" value="" name="" placeholder="">*@
                                                                        }
                                                                        else
                                                                        {
                                                                            <input id="ProcurementCompletionDt" class="form-control" onchange="ProcurementCompletionDateReplicate()" type="date" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" value="" name="" placeholder="">
                                                                        }
                                                                    </div>
                                                                </th>
                                                                <th width="5%">@Resource.Produced <br />  @Resource.Quantity</th>
                                                                <th width="5%">@Resource.Pending <br />  @Resource.Quantity</th>
                                                                <th width="10%">@Resource.remarks</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @{ var hideIfNotSO = "";
                                                                hideIfNotSO = Model.ddl_src_type == "O" ? "" : "style=display:none";
                                                            }
                                                            @if (ViewBag.ProductDetails != null)
                                                            {
                                                                var dsbldt = Disable ? "disabled" : !Disable && (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A") ? "disabled" : "";
                                                                var rowIdx = 0;

                                                                foreach (System.Data.DataRow Row in ViewBag.ProductDetails.Rows)
                                                                {
                                                                    rowIdx++;
                                                                    var subitmDisable = "";
                                                                    if (Row["sub_item"].ToString() != "Y")
                                                                    {
                                                                        subitmDisable = "disabled";
                                                                    }

                                                                    var cheackPendingQuantity = @Row["prod_qty"].ToString();

                                                                    var ProductName_id = "ProductName" + @rowIdx;
                                                                    <tr id="@rowIdx">
                                                                        @if (Disable)
                                                                        {
                                                                            <td class="center"><input type="checkbox" class="tableflat" id="ProductPlanCheck" onclick="OnClickPackingCheck()" disabled></td>
                                                                        }
                                                                        else
                                                                        {
                                                                            if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                            {
                                                                                <td class="center"><input type="checkbox" class="tableflat" id="ProductPlanCheck" onclick="OnClickPackingCheck()" disabled></td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td class="center"><input type="checkbox" class="tableflat" id="ProductPlanCheck" onclick="OnClickPackingCheck()"></td>
                                                                            }
                                                                        }
                                                                        <td class="red center">
                                                                            @if (Disable)
                                                                            {
                                                                                <i class="fa fa-trash" style="filter:grayscale(100%)" aria-hidden="true" title="@Resource.Delete"></i>
                                                                            }
                                                                            else
                                                                            {
                                                                                if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                                {
                                                                                    <i class="fa fa-trash" style="filter:grayscale(100%)" aria-hidden="true" title="@Resource.Delete"></i>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <i class="deleteIcon fa fa-trash" aria-hidden="true" title="@Resource.Delete"></i>
                                                                                }
                                                                            }
                                                                        </td>
                                                                        <td class="sr_padding"><span id="sno">@rowIdx</span><input type="hidden" id="hfsno" value="@rowIdx" /></td>
                                                                        <td class="ItmNameBreak itmStick tditemfrz">
                                                                            <div class="col-sm-10 lpo_form no-padding">
                                                                                @if (Disable || Model.ddl_src_type == "O")
                                                                                {
                                                                                    <select class="form-control" id="@ProductName_id" name="ProductName" disabled>
                                                                                        <option value="@Row["item_id"].ToString()">@Row["item_name"].ToString()</option>
                                                                                    </select>
                                                                                }
                                                                                else
                                                                                {
                                                                                    if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                                    {
                                                                                        <select class="form-control" id="@ProductName_id" name="ProductName" disabled>
                                                                                            <option value="@Row["item_id"].ToString()">@Row["item_name"].ToString()</option>
                                                                                        </select>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <select class="form-control" id="@ProductName_id" name="ProductName" onchange="OnChangeProductName(event)">
                                                                                            <option value="@Row["item_id"].ToString()">@Row["item_name"].ToString()</option>
                                                                                        </select>
                                                                                    }
                                                                                }

                                                                                <span id="productnameError" class="error-message is-visible"></span>
                                                                                <input type="hidden" id="hfproductID" value="@Row["item_id"].ToString()" />
                                                                                <input type="hidden" id="hfproductName" value="@Row["item_name"].ToString()" />
                                                                            </div>
                                                                            <div class="col-sm-1 i_Icon">
                                                                                <button type="button" id="ItmInfoBtnIcon" class="calculator" onclick="OnClickIconBtn(event);" data-toggle="modal" data-target="#ItemInfo" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.ItemInformation"> @*<i class="fa fa-info" aria-hidden="true" title="@Resource.ItemInformation"></i>*@ </button>
                                                                            </div>
                                                                            <div class="col-sm-1 i_Icon">
                                                                                @if (Row["BOM_Avl"].ToString() == "N")
                                                                                {
                                                                                    <button type="button" id="BtnBOMDetail" disabled class="calculator no-padding subItmImg" data-toggle="modal" data-target="#BillOfMaterial" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/BillOfMaterial.png" alt="" title="@Resource.BillOfMaterial">  </button>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <button type="button" id="BtnBOMDetail" class="calculator no-padding subItmImg" onclick="OnClickIconBtnBOMDetail(event);" data-toggle="modal" data-target="#BillOfMaterial" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/BillOfMaterial.png" alt="" title="@Resource.BillOfMaterial">  </button>
                                                                                }

                                                                                <input type="hidden" id="BOM_Avl" value="@Row["BOM_Avl"]" />
                                                                                <input type="hidden" id="ItemtypeFlag" value="@Row["i_pur"]" />
                                                                            </div>

                                                                        </td>
                                                                        <td><input id="UOM" class="form-control" type="text" name="UOM" value="@Row["uom_name"].ToString()" placeholder="@Resource.UOM" disabled><input id="UOMID" type="hidden" value="@Row["uom_id"].ToString()" /></td>
                                                                        <td id="tdforecastqty"><input id="ForecastQuantity" class="form-control num_right" type="text" value="@Row["forecast_qty"].ToString()" name="ForecastQuantity" placeholder="0000.00" disabled></td>

                                                                        <td id="tdPendingodrqty" @hideIfNotSO>
                                                                            <div class="col-sm-10 lpo_form" style="padding:0px;">
                                                                                <input id="PendingOrderQuantity" class="form-control num_right" type="text" value="@Row["pending_ord_qty"].ToString()" name="PendingOrderQuantity" placeholder="0000.00" disabled>
                                                                            </div>
                                                                            <div class="col-sm-2 i_Icon">
                                                                                <button type="button" id="" class="calculator" onclick="OnClickIconBtnPendingOrd(event);" data-toggle="modal" data-target="#PendingOrderQuantity" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.OrderWiseDetail"> @*<i class="fa fa-info" aria-hidden="true" title="@Resource.ItemInformation"></i>*@ </button>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            @if (ViewBag.DocumentCode == "D" || ViewBag.DocumentCode == "F")
                                                                            {
                                                                                <div class="col-sm-8" style="padding:0px;"><input id="AvailableStockInBase" class="form-control num_right" type="text" value="@Row["AvlStock"].ToString()" name="AvailableStock" placeholder="@Resource.AvailableStock" disabled></div>
                                                                                <div class="col-sm-2 i_Icon"><button type="button" id="StockDetail" class="calculator" onclick="ItemStockWareHouseWise(event,'P')" data-toggle="modal" data-target="#StockDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.StockDetail"> @*<i class="fa fa-info" aria-hidden="true" title="@Resource.StockDetail"></i>*@ </button></div>
                                                                                <div class="col-sm-2 i_Icon"><button type="button" id="SubItemAvlStockBtn" @subitmDisable class="calculator subItmImg" onclick="return GetSubItemAvlStock(event,'WH')" data-toggle="modal" data-target="#SubItemStock" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.StockDetail"></button></div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="col-sm-12" style="padding:0px;"><input id="AvailableStockInBase" class="form-control num_right" type="text" value="@Row["AvlStock"].ToString()" name="AvailableStock" placeholder="@Resource.AvailableStock" disabled></div>
                                                                            }

                                                                        </td>
                                                                        <td>
                                                                            @if (ViewBag.DocumentCode == "D" || ViewBag.DocumentCode == "F")
                                                                            {
                                                                                <div class="col-sm-8" style="padding:0px;"><input id="ShopFloorstock" class="form-control num_right" value="@Row["shfl_avl_stk_bs"].ToString()" type="text" name="ShopFloorstock" placeholder="0000.00" disabled></div>
                                                                                <div class="col-sm-2 i_Icon"><button type="button" id="StockDetail" class="calculator" onclick="ItemStockShopFloorWise(event)" data-toggle="modal" data-target="#StockDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.StockDetail"></button></div>
                                                                                <div class="col-sm-2 i_Icon"><button type="button" id="SubItemShflStockBtn" @subitmDisable class="calculator subItmImg" onclick="return GetSubItemAvlStock(event,'SF')" data-toggle="modal" data-target="#SubItemStock" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.StockDetail"></button></div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="col-sm-12" style="padding:0px;"><input id="ShopFloorstock" class="form-control num_right" value="@Row["shfl_avl_stk_bs"].ToString()" type="text" name="ShopFloorstock" placeholder="0000.00" disabled></div>
                                                                            }
                                                                        </td>
                                                                        <td>
                                                                            @if (ViewBag.DocumentCode == "D" || ViewBag.DocumentCode == "F")
                                                                            {
                                                                                <div class="col-sm-8" style="padding:0px;"><input id="WIPstock" class="form-control num_right" value="@Row["wip_stock"].ToString()" type="text" name="WIPstock" placeholder="0000.00" disabled></div>
                                                                                <div class="col-sm-2 i_Icon"><button type="button" id="StockDetail" class="calculator" onclick="OnClickIconBtnWIPStock(event,'wip')" data-toggle="modal" data-target="#WIPStock" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.StockDetail"></button></div>
                                                                                <div class="col-sm-2 i_Icon"><button type="button" id="SubItemWipStockBtn" @subitmDisable class="calculator subItmImg" onclick="return GetSubItemAvlStock(event,'WIP')" data-toggle="modal" data-target="#SubItemStock" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.StockDetail"></button></div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="col-sm-12" style="padding:0px;"><input id="WIPstock" class="form-control num_right" value="@Row["wip_stock"].ToString()" type="text" name="WIPstock" placeholder="0000.00" disabled></div>
                                                                            }
                                                                        </td>
                                                                        <td>
                                                                            <div class="col-sm-12 lpo_form" style="padding:0px;">
                                                                                @*@if (Disable || Row["BOM_Avl"].ToString() == "N")*@
                                                                                @if (Disable)
                                                                                {
                                                                                    <input id="PlannedQuantity" class="form-control num_right" autocomplete="off" value="@Row["plan_qty"].ToString()" type="text" name="PlannedQuantity" placeholder="0000.00" disabled>
                                                                                }
                                                                                else
                                                                                {
                                                                                    if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                                    {
                                                                                        <input id="PlannedQuantity" class="form-control num_right" autocomplete="off" value="@Row["plan_qty"].ToString()" type="text" name="PlannedQuantity" placeholder="0000.00" disabled>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input id="PlannedQuantity" class="form-control num_right" autocomplete="off" value="@Row["plan_qty"].ToString()" onkeypress="return OnKeyPressPlannedQty(this,event);" onchange="OnChangePlannedQty(this,event)" type="text" name="PlannedQuantity" placeholder="0000.00">
                                                                                    }
                                                                                }

                                                                                <span id="PlannedQtyError" class="error-message is-visible"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td id="tdOrderToProduceQty">
                                                                            <div class="col-sm-10 lpo_form" id="div_OrderToProduceQuantity" style="padding:0px;">
                                                                                @if (Disable || Row["BOM_Avl"].ToString() == "N")
                                                                                {
                                                                                    if (Row["BOM_Avl"].ToString() == "N")
                                                                                    {
                                                                                        <input id="OrderToProduceQuantity" class="form-control num_right" autocomplete="off" type="text" value="@Row["ord_to_produce_qty"].ToString()" onkeypress="return OnKeyPressProduceQty(this,event);" onchange="OnChangeProduceQty(event)" name="OrderToProduceQuantity" placeholder="0000.00" disabled>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input id="OrderToProduceQuantity" class="form-control num_right" autocomplete="off" type="text" value="@Row["ord_to_produce_qty"].ToString()" onkeypress="return OnKeyPressProduceQty(this,event);" onchange="OnChangeProduceQty(event)" name="OrderToProduceQuantity" placeholder="0000.00" disabled>
                                                                                    }
                                                                                }
                                                                                else
                                                                                {
                                                                                    //if (Row["BOM_Avl"].ToString() == "N")
                                                                                    //{
                                                                                    //<input id="OrderToProduceQuantity" class="form-control num_right" autocomplete="off" type="text" value="@Row["ord_to_produce_qty"].ToString()" onkeypress="return OnKeyPressProduceQty(this,event);" onchange="OnChangeProduceQty(event)" name="OrderToProduceQuantity" placeholder="0000.00">
                                                                                    //}
                                                                                    ////else
                                                                                    //{
                                                                                    //<input id="OrderToProduceQuantity" class="form-control num_right" autocomplete="off" type="text" value="@Row["ord_to_produce_qty"].ToString()" onkeypress="return OnKeyPressProduceQty(this,event);" onchange="OnChangeProduceQty(event)" name="OrderToProduceQuantity" placeholder="0000.00">
                                                                                    //}
                                                                                    if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                                    {
                                                                                        <input id="OrderToProduceQuantity" class="form-control num_right" autocomplete="off" type="text" value="@Row["ord_to_produce_qty"].ToString()" disabled onkeypress="return OnKeyPressProduceQty(this,event);" onchange="OnChangeProduceQty(event)" name="OrderToProduceQuantity" placeholder="0000.00">
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input id="OrderToProduceQuantity" class="form-control num_right" autocomplete="off" type="text" value="@Row["ord_to_produce_qty"].ToString()" onkeypress="return OnKeyPressProduceQty(this,event);" onchange="OnChangeProduceQty(event)" name="OrderToProduceQuantity" placeholder="0000.00">
                                                                                    }
                                                                                }
                                                                                <span id="OrderToProduceQuantityError" class="error-message is-visible"></span>
                                                                            </div>
                                                                            <div class="col-sm-2 i_Icon" id="div_SubItemButton" style="padding:0px;">
                                                                                <input hidden type="text" id="sub_item" value="@Row["sub_item"].ToString()" />
                                                                                <button type="button" id="SubItemButton" class="calculator subItmImg" @subitmDisable onclick="return SubItemDetailsPopUp('Quantity',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                            </div>
                                                                        </td>
                                                                        <td id="tdProduceComplsnDate" @*@hideIfNotSO*@>
                                                                            @{ var produce_comp_date = Row["produce_comp_date"].ToString() == "1900-01-01" ? "" : Row["produce_comp_date"];
                                                                                var dsblPdsCmpDt = (Convert.ToDecimal(Row["ord_to_produce_qty"]) > 0) && dsbldt == "" ? "" : "disabled";}
                                                                            <div class="lpo_form" style="padding:0px;">
                                                                                <input id="ProductionCompletionDate" onchange="onchangeProductionCompDate(event)" onfocusout="RemoveMinMaxDate(event)" onclick="onClockProductionDate(event)" class="form-control" type="date" value="@produce_comp_date.ToString()" name="ProcurementCompletionDate  " placeholder="" @dsblPdsCmpDt>
                                                                                <span id="ProductionCompletionDateError" class="error-message is-visible"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="col-sm-10 lpo_form no-padding">
                                                                                @if (Disable || Row["BOM_Avl"].ToString() == "N" || @Row["i_pur"].ToString()=="N")
                                                                                {
                                                                                    <input id="OrderToProcureQuantity" onchange="onchangeOrderToProcureQuantity(this,event)" autocomplete="off" value="@Row["ord_to_procure_qty"]" disabled class="form-control num_right" type="text" name="OrderToProcureQuantity">
                                                                                }
                                                                                else
                                                                                {
                                                                                    if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                                    {
                                                                                        <input id="OrderToProcureQuantity" onchange="onchangeOrderToProcureQuantity(this,event)" autocomplete="off" value="@Row["ord_to_procure_qty"]" disabled class="form-control num_right" type="text" name="OrderToProcureQuantity">
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input id="OrderToProcureQuantity" onchange="onchangeOrderToProcureQuantity(this,event)" autocomplete="off" value="@Row["ord_to_procure_qty"]" onkeypress="return OnKeyPressProduceQty(this,event);" class="form-control num_right" type="text" name="OrderToProcureQuantity">
                                                                                    }
                                                                                }
                                                                                <span id="OrderToProcureQuantityError" class="error-message is-visible"></span>
                                                                            </div>
                                                                            <div class="col-sm-2 i_Icon" id="div_SubItemOrdrToPrecurQty" style="padding:0px; ">
                                                                                <input hidden type="text" id="sub_item" value="@Row["sub_item"]" />
                                                                                <button type="button" id="SubItemOrdrToPrecurQty" @subitmDisable class="calculator subItmImg" onclick="return SubItemDetailsPopUp('OrdrToPrecurQuantity',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                            </div>
                                                                            <input hidden type="text" id="HdnSFsubitemFlag" value="OrdrToPrecurQuantity" />
                                                                        </td>
                                                                        <td>
                                                                            <div class="lpo_form">
                                                                                @{ var procure_comp_date = Row["procure_comp_date"].ToString() == "1900-01-01" ? "" : Row["procure_comp_date"];
                                                                                    var dsblPdsCmpDt1 = (Convert.ToDecimal(Row["ord_to_procure_qty"]) > 0) && dsbldt == "" ? "" : "disabled";}
                                                                                @if (Disable ||  @Row["i_pur"].ToString() == "N" || Convert.ToDecimal(Row["ord_to_procure_qty"]) <= 0 )
                                                                                {
                                                                                    <input id="ProcurementCompletionDate" disabled onchange="OnChangeSFProduceDate(event)" class="form-control" type="date" value="@procure_comp_date.ToString()" name="RequisitionQuantity">
                                                                                }
                                                                                else
                                                                                {
                                                                                    if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                                    {
                                                                                        <input id="ProcurementCompletionDate" disabled class="form-control" type="date" value="@procure_comp_date.ToString()" name="RequisitionQuantity">
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input id="ProcurementCompletionDate" onchange="OnChangeSFProduceDate(event)" class="form-control" type="date" value="@procure_comp_date.ToString()" name="RequisitionQuantity">
                                                                                    }
                                                                                }
                                                                                <span id="ProcurementCompletionDateError" class="error-message is-visible"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="col-sm-8 lpo_form" id="div_ProducedQuantity" style="padding:0px;">
                                                                                <input id="ProducedQuantity" class="form-control num_right" autocomplete="off" value="@Row["prod_qty"].ToString()" type="text" name="ProducedQuantity" placeholder="0000.00" disabled>
                                                                            </div>
                                                                            <div class="col-sm-2 i_Icon"><button type="button" id="" class="calculator" onclick="OnClickProductionDetailsIcon(event);" data-toggle="modal" data-target="#ProductionDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.ProductionDetail"></button></div>
                                                                            <div class="col-sm-2 i_Icon" id="div_SubItemProduceQty" style="padding:0px;">
                                                                                <button type="button" id="SubItemProduceQty" @subitmDisable class="calculator subItmImg" onclick="return SubItemDetailsPopUp('ProduceQty',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            @if (cheackPendingQuantity == "")
                                                                            {
                                                                                cheackPendingQuantity = "0";
                                                                            }
                                                                            @{
                                                                                var PendingQuantity = @Convert.ToDecimal(Row["plan_qty"]) - @Convert.ToDecimal(cheackPendingQuantity);
                                                                            }
                                                                            <div class="col-sm-12 lpo_form" id="div_PendingQuantity" style="padding:0px;">
                                                                                <input id="PendingQuantity" class="form-control num_right" autocomplete="off" value="@PendingQuantity.ToString(DecQtyDigit)" type="text" name="PendingQuantity" placeholder="0000.00" readonly="readonly">
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            @if (Disable)
                                                                            {
                                                                                <textarea id="remarks" class="form-control remarksmessage" name="remarks" maxlength="100" autocomplete="off" value="" placeholder="@Resource.remarks" readonly>@Row["remarks"].ToString()</textarea>
                                                                            }
                                                                            else
                                                                            {
                                                                                if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                                {
                                                                                    <textarea id="remarks" class="form-control remarksmessage" name="remarks" maxlength="100" autocomplete="off" value="" placeholder="@Resource.remarks" readonly>@Row["remarks"].ToString()</textarea>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <textarea id="remarks" class="form-control remarksmessage" name="remarks" maxlength="100" autocomplete="off" value="" placeholder="@Resource.remarks">@Row["remarks"].ToString()</textarea>
                                                                                }
                                                                            }
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            }
                                                            else
                                                            {


                                                                <tr>
                                                                    <td class="center">
                                                                        @* Added if Else Condition Added by Suraj Maurya on 17-02-2025 *@
                                                                        @if (Disable)
                                                                        {
                                                                            <input type="checkbox" class="tableflat" disabled id="ProductPlanCheck">
                                                                        }
                                                                        else
                                                                        {
                                                                            <input type="checkbox" class="tableflat" id="ProductPlanCheck">
                                                                        }

                                                                    </td>
                                                                    <td class="red center">
                                                                        @* Added if Else Condition Added by Suraj Maurya on 17-02-2025 *@
                                                                        @if (Disable)
                                                                        {
                                                                            <i class="fa fa-trash" style="filter:grayscale(100%)" aria-hidden="true" title="@Resource.Delete"></i>
                                                                        }
                                                                        else
                                                                        {
                                                                            <i class="fa fa-trash deleteIcon" aria-hidden="true" title="@Resource.Delete"></i>
                                                                        }

                                                                    </td>
                                                                    <td class="sr_padding"><span id="sno">1</span><input type="hidden" id="hfsno" value="1" /></td>
                                                                    <td class="ItmNameBreak itmStick tditemfrz">
                                                                        <div class="col-sm-10 lpo_form" style="padding:0px;">
                                                                            @if (Disable)
                                                                            {
                                                                                <select class="form-control" id="ProductName1" disabled name="ProductName"></select>
                                                                            }
                                                                            else
                                                                            {
                                                                                <select class="form-control" id="ProductName1" name="ProductName" onchange="OnChangeProductName(event)"></select>
                                                                            }
                                                                            <span id="productnameError" class="error-message is-visible"></span>
                                                                            <input type="hidden" id="hfproductID" />
                                                                        </div>
                                                                        <div class="col-sm-1 i_Icon">
                                                                            <button type="button" id="ItmInfoBtnIcon" class="calculator" onclick="OnClickIconBtn(event);" data-toggle="modal" data-target="#ItemInfo" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.ItemInformation"> @*<i class="fa fa-info" aria-hidden="true" title="@Resource.ItemInformation"></i>*@ </button>
                                                                        </div>
                                                                        <div class="col-sm-1 i_Icon">
                                                                            <button type="button" id="BtnBOMDetail" @*style="filter:grayscale(100%);"*@ class="calculator no-padding subItmImg" onclick="OnClickIconBtnBOMDetail(event);" data-toggle="modal" data-target="#BillOfMaterial" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/BillOfMaterial.png" alt="" title="@Resource.BillOfMaterial"> @*<i class="fa fa-info" aria-hidden="true" title="@Resource.ItemInformation"></i>*@ </button>
                                                                            <input type="hidden" id="BOM_Avl" />
                                                                            <input type="hidden" id="ItemtypeFlag" />
                                                                        </div>
                                                                    </td>
                                                                    <td><input id="UOM" class="form-control" type="text" name="UOM" placeholder="@Resource.UOM" disabled><input id="UOMID" type="hidden" /></td>
                                                                    <td id="tdforecastqty"><input id="ForecastQuantity" class="form-control num_right" type="text" name="ForecastQuantity" placeholder="0000.00" disabled></td>
                                                                    <td id="" @hideIfNotSO>
                                                                        <div class="col-sm-11 lpo_form" style="padding:0px;">
                                                                            <input id="PendingOrderQuantity" class="form-control num_right" type="text" value="" name="PendingOrderQuantity" placeholder="0000.00" disabled>
                                                                        </div>
                                                                        <div class="col-sm-1 i_Icon">
                                                                            <button type="button" id="" class="calculator" onclick="OnClickIconBtnPendingOrd(event);" data-toggle="modal" data-target="#ItemInfo" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.OrderWiseDetail"> @*<i class="fa fa-info" aria-hidden="true" title="@Resource.ItemInformation"></i>*@ </button>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="col-sm-8" style="padding:0px;"><input id="AvailableStockInBase" class="form-control num_right" type="text" name="AvailableStock" placeholder="0000.00" disabled></div>
                                                                        <div class="col-sm-2 i_Icon"><button type="button" id="StockDetail" class="calculator" onclick="ItemStockWareHouseWise(event,'P')" data-toggle="modal" data-target="#StockDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.StockDetail"> @*<i class="fa fa-info" aria-hidden="true" title="@Resource.StockDetail"></i>*@ </button></div>
                                                                        <div class="col-sm-2 i_Icon"><button type="button" id="SubItemAvlStockBtn" disabled class="calculator subItmImg" onclick="return GetSubItemAvlStock(event,'WH')" data-toggle="modal" data-target="#SubItemStock" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.StockDetail"></button></div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="col-sm-8" style="padding:0px;"><input id="ShopFloorstock" class="form-control num_right" type="text" name="ShopFloorstock" placeholder="0000.00" disabled></div>
                                                                        <div class="col-sm-2 i_Icon"><button type="button" id="StockDetail" class="calculator" onclick="" data-toggle="modal" data-target="#StockDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.StockDetail"> @*<i class="fa fa-info" aria-hidden="true" title="@Resource.StockDetail"></i>*@ </button></div>
                                                                        <div class="col-sm-2 i_Icon"><button type="button" id="SubItemShflStockBtn" disabled class="calculator subItmImg" onclick="return GetSubItemAvlStock(event,'SF')" data-toggle="modal" data-target="#SubItemStock" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.StockDetail"></button></div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="col-sm-8" style="padding:0px;"><input id="WIPstock" class="form-control num_right" type="text" name="WIPstock" placeholder="0000.00" disabled></div>
                                                                        <div class="col-sm-2 i_Icon"><button type="button" id="StockDetail" class="calculator" onclick="" data-toggle="modal" data-target="#WIPStock" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.StockDetail"> @*<i class="fa fa-info" aria-hidden="true" title="@Resource.StockDetail"></i>*@ </button></div>
                                                                        <div class="col-sm-2 i_Icon"><button type="button" id="SubItemWipStockBtn" disabled class="calculator subItmImg" onclick="return GetSubItemAvlStock(event,'WIP')" data-toggle="modal" data-target="#SubItemStock" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.StockDetail"></button></div>
                                                                    </td>
                                                                    <!--<td>
                                                                    <div class="col-sm-10" style="padding:0px;"><input id="INtransit" class="form-control num_right" type="text" name="AvailableStock" placeholder="0000.00" disabled></div>
                                                                    <div class="col-sm-1 i_Icon"><button type="button" id="StockDetail" class="calculator" onclick="" data-toggle="modal" data-target="#WIPStock" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.StockDetail">-->
                                                                    @*<i class="fa fa-info" aria-hidden="true" title="@Resource.StockDetail"></i>*@
                                                                    <!--</button></div>
                                                                    </td>-->
                                                                    <td>
                                                                        <div class="col-sm-12 lpo_form" style="padding:0px;">
                                                                            @if (Disable)
                                                                            {
                                                                                <input id="PlannedQuantity" class="form-control num_right" autocomplete="off" disabled type="text" name="PlannedQuantity" placeholder="0000.00">
                                                                            }
                                                                            else
                                                                            {
                                                                                <input id="PlannedQuantity" class="form-control num_right" autocomplete="off" onkeypress="return OnKeyPressPlannedQty(this,event);" onchange="OnChangePlannedQty(this,event)" type="text" name="PlannedQuantity" placeholder="0000.00">
                                                                            }
                                                                            <span id="PlannedQtyError" class="error-message is-visible"></span>
                                                                        </div>
                                                                    </td>
                                                                    @*<td id="tdOrderToProcureQty" >
                                                                            <div class="lpo_form" style="padding:0px;">
                                                                                <input id="OrderToProcureQuantity" class="form-control num_right" autocomplete="off" type="text" value="" onkeypress="return OnKeyPressProcureQty(this,event);" onchange="OnChangeProcureQty(event)" name="OrderToProcureQuantity" placeholder="0000.00" disabled>
                                                                                <span id="OrderToProcureQuantityError" class="error-message is-visible"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td id="tdProcureComplsnDate" >
                                                                            <div class="lpo_form" style="padding:0px;">
                                                                                <input id="ProcurementCompletionDate" onchange="onchangeProcurementCompDate(event)" class="form-control " autocomplete="off" type="date" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" value="" name="ProductionCompletionDate" placeholder="" disabled>
                                                                                <span id="ProcurementCompletionDateError" class="error-message is-visible"></span>
                                                                            </div>
                                                                        </td>*@
                                                                    <td id="tdOrderToProduceQty" @*@hideIfNotSO*@>
                                                                        <div class="col-sm-10 lpo_form" id="div_OrderToProduceQuantity" style="padding:0px;">
                                                                            <input id="OrderToProduceQuantity" class="form-control num_right" autocomplete="off" type="text" value="" onkeypress="return OnKeyPressProduceQty(this,event);" onchange="OnChangeProduceQty(event)" name="OrderToProduceQuantity" placeholder="0000.00" disabled>
                                                                            <span id="OrderToProduceQuantityError" class="error-message is-visible"></span>
                                                                        </div>
                                                                        <div class="col-sm-2 i_Icon" id="div_SubItemButton" style="padding:0px;">
                                                                            <input hidden type="text" id="sub_item" value="" />
                                                                            <button type="button" id="SubItemButton" class="calculator subItmImg" disabled onclick="return SubItemDetailsPopUp('Quantity',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                        </div>
                                                                    </td>
                                                                    <td id="tdProduceComplsnDate" @*@hideIfNotSO*@>
                                                                        <div class="lpo_form" style="padding:0px;">
                                                                            <input id="ProductionCompletionDate" onchange="onchangeProductionCompDate(event)" onfocusout="RemoveMinMaxDate(event)" onclick="onClockProductionDate(event)" class="form-control" type="date" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" value="" name="ProcurementCompletionDate  " placeholder="" disabled>
                                                                            <span id="ProductionCompletionDateError" class="error-message is-visible"></span>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        @*//Add by shubham maurya on 17-10-2024 *@
                                                                        <div class="col-sm-10 lpo_form no-padding">
                                                                            <input id="OrderToProcureQuantity" onchange="onchangeOrderToProcureQuantity(this,event)" autocomplete="off" value="" class="form-control num_right" type="text" name="OrderToProcureQuantity" placeholder="0000.00" disabled>
                                                                            <span id="OrderToProcureQuantityError" class="error-message is-visible"></span>
                                                                        </div>
                                                                        <div class="col-sm-2 i_Icon" id="div_SubItemOrdrToPrecurQty" style="padding:0px; ">
                                                                            <input hidden type="text" id="sub_item" value="" />
                                                                            <button type="button" id="SubItemOrdrToPrecurQty" disabled class="calculator subItmImg" onclick="return SubItemDetailsPopUp('OrdrToPrecurQuantity',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                        </div>
                                                                        <input hidden type="text" id="HdnSFsubitemFlag" value="OrdrToPrecurQuantity" />
                                                                    </td>
                                                                    <td>
                                                                        <div class="lpo_form">
                                                                            <input id="ProcurementCompletionDate" disabled onchange="OnChangeSFProduceDate(event)" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" class="form-control" type="date" value="" name="RequisitionQuantity">
                                                                            <span id="ProcurementCompletionDateError" class="error-message is-visible"></span>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="col-sm-8 lpo_form" id="div_ProducedQuantity" style="padding:0px;">
                                                                            <input id="ProducedQuantity" class="form-control num_right" autocomplete="off" disabled type="text" name="ProducedQuantity" placeholder="0000.00">
                                                                        </div>
                                                                        <div class="col-sm-2 i_Icon"><button type="button" id="" class="calculator" onclick="OnClickProductionDetailsIcon(event);" data-toggle="modal" data-target="#ProductionDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.ProductionDetail"> @*<i class="fa fa-info" aria-hidden="true" title="@Resource.ProductionDetail"></i>*@ </button></div>
                                                                        <div class="col-sm-2 i_Icon" id="div_SubItemProduceQty" style="padding:0px; ">
                                                                            <button type="button" id="SubItemProduceQty" class="calculator subItmImg" disabled onclick="return SubItemDetailsPopUp('ProduceQty',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="col-sm-12 lpo_form" id="div_PendingQuantity" style="padding:0px;">
                                                                            <input id="PendingQuantity" class="form-control num_right" autocomplete="off" value="" type="text" name="PendingQuantity" placeholder="0000.00" readonly="readonly">
                                                                        </div>
                                                                        @*<div class="col-sm-2 i_Icon" id="div_SubItemPendingQty" style="padding:0px;">
                                                                                <button type="button" id="SubItemPendingQty" class="calculator" disabled style="filter:grayscale(100%)" onclick="return SubItemDetailsPopUp('PendingQty',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                            </div>*@
                                                                    </td>
                                                                    <td>
                                                                        @if (Disable)
                                                                        {
                                                                            <textarea id="remarks" class="form-control remarksmessage" name="remarks" maxlength="100" readonly placeholder="@Resource.remarks"></textarea>
                                                                        }
                                                                        else
                                                                        {
                                                                            <textarea id="remarks" class="form-control remarksmessage" name="remarks" maxlength="100" placeholder="@Resource.remarks"></textarea>
                                                                        }
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section class="panel panel-default">
                                <div class="panel-heading" role="tab" id="headingThree">
                                    <h4 class="panel-title">  <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" class="collapsed" aria-controls="collapseThree">  @Resource.ProductionOrderDetail<span class="glyphicon glyphicon-chevron-right pull-right" aria-hidden="true"></span> </a></h4>
                                </div>
                                <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree" style="">
                                    <div class="panel-body">
                                        <div class="card-box table-responsive dy_table">
                                            <div class="col-md-12">
                                                <div class="tableFixHead height45VH">
                                                    <table id="ProductionAdviceDetail" class="table table-bordered margin10 rowhighlighttbl ">
                                                        <thead>
                                                            <tr class="headings">
                                                                <th width="4%">@Resource.SrNo</th>
                                                                <th width="12%"> @Resource.ProductionOrderNumber</th>
                                                                <th width="12%"> @Resource.Production @Resource.Order @Resource.Date</th>
                                                                <th width="18%"> @Resource.Product @Resource.Name</th>
                                                                <th width="7%" title="@Resource.UnitOfMeasure"> @Resource.UOM</th>
                                                                <th width="18%">  @Resource.Operation @Resource.Output @Resource.Item </th>
                                                                <th width="7%"> @Resource.Output <br /> @Resource.UOM</th>
                                                                <th width="11%"> @Resource.Order <br />  @Resource.Quantity</th>
                                                                <th width="11%"> @Resource.Batch <br />  @Resource.Number</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @if (ViewBag.ProdOrderDetails != null)
                                                            {
                                                                var srno = 1;
                                                                foreach (System.Data.DataRow dr in ViewBag.ProdOrderDetails.Rows)
                                                                {
                                                                    <tr>
                                                                        <td>@srno</td>
                                                                        <td id="jc_no">@dr["jc_no"]</td>
                                                                        <td>@dr["jc_dt"]</td>
                                                                        <td hidden id="jc_dt">@dr["jc_date"]</td>
                                                                        <td id="product_nm">@dr["item_name"]</td>
                                                                        <td hidden id="Product_id">@dr["product_id"]</td>
                                                                        <td id="UOM">@dr["uom_alias"]</td>
                                                                        <td>@dr["output_item_name"]</td>
                                                                        <td>@dr["out_uom_alias"]</td>
                                                                        <td class="num_right">
                                                                            @if (dr["sub_item"].ToString() == "Y")
                                                                            {
                                                                                <div class="col-sm-10 lpo_form" id="OrderedQty" style="padding:0px;">
                                                                                    @dr["jc_qty"]
                                                                                </div>
                                                                                <div class="col-sm-2 i_Icon" style="padding:0px;">
                                                                                    <button type="button" id="" class="calculator subItmImg" onclick="return SubItemDetailsPopUp('OrderedQty',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                                </div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="col-sm-10 lpo_form" id="OrderedQty" style="padding:0px;">
                                                                                    @dr["jc_qty"]
                                                                                </div>
                                                                                <div class="col-sm-2 i_Icon" style="padding:0px;">
                                                                                    <button type="button" id="" class="calculator subItmImg" disabled onclick="return SubItemDetailsPopUp('OrderedQty',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                                </div>
                                                                            }
                                                                        </td>
                                                                        <td>@dr["batch_no"]</td>
                                                                    </tr>
                                                                    srno++;
                                                                }

                                                            }
                                                        </tbody>
                                                    </table>
                                                    @*<table id="ProductionAdviceDetail" class="table table-bordered margin10 rowhighlighttbl ">
                                                            <thead>
                                                                <tr class="headings">
                                                                    <th width="5%">@Resource.SrNo</th>
                                                                    <th width="17%"> @Resource.AdviceNumber</th>
                                                                    <th width="17%">@Resource.AdviceDate</th>
                                                                    <th width="17%">@Resource.Product @Resource.Name</th>
                                                                    <th width="10%" title="@Resource.UnitOfMeasure"> @Resource.UOM</th>
                                                                    <th width="17%">@Resource.Production <br />  @Resource.Quantity</th>
                                                                    <th width="17%">@Resource.Batch <br />  @Resource.Number</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                @if (ViewBag.AdvDetails != null)
                                                                {
                                                                    var srno = 1;
                                                                    foreach (System.Data.DataRow dr in ViewBag.AdvDetails.Rows)
                                                                    {
                                                                <tr>
                                                                    <td>@srno</td>
                                                                    <td>@dr["adv_no"]</td>
                                                                    <td>@dr["adv_dt"]</td>
                                                                    <td>@dr["item_name"]</td>
                                                                    <td hidden>@dr["product_id"]</td>
                                                                    <td>@dr["uom_alias"]</td>
                                                                    <td class="num_right">@dr["adv_qty"]</td>
                                                                    <td>@dr["batch_no"]</td>
                                                                </tr>
                                                                        srno++;
                                                                    }

                                                                }
                                                            </tbody>
                                                        </table>*@
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section class="panel panel-default">
                                <div class="panel-heading" role="tab" id="headingFour">
                                    <h4 class="panel-title">  <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" class="collapsed" aria-controls="collapseSix"> @Resource.Purchase @Resource.Requisition @Resource.Detail <span class="glyphicon glyphicon-chevron-right pull-right" aria-hidden="true"></span> </a></h4>
                                </div>
                                <div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour" style="">
                                    <div class="panel-body">
                                        <div class="card-box table-responsive dy_table">
                                            <div class="col-md-12">
                                                <div class="">
                                                    <div class="tableFixHead height45VH">
                                                        <table id="PurchaseRequisition" class="table table-bordered margin10 rowhighlighttbl">
                                                            <thead disabled="disabled">
                                                                <tr class="headings">
                                                                    <th width="5%">@Resource.SrNo</th>
                                                                    <th width="15%"> @Resource.Requisition <br /> @Resource.Number</th>
                                                                    <th width="15%">@Resource.RequisitionDate</th>
                                                                    <th width="35%">@Resource.Product @Resource.Name</th>
                                                                    <th width="15%" title="@Resource.UnitOfMeasure"> @Resource.UOM</th>
                                                                    <th width="15%">@Resource.Requisition <br /> @Resource.Quantity</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                @if (ViewBag.PRDetails != null)
                                                                {
                                                                    var srno = 1;
                                                                    foreach (System.Data.DataRow dr in ViewBag.PRDetails.Rows)
                                                                    {
                                                                        <tr>
                                                                            <td>@srno</td>
                                                                            <td>@dr["pr_no"]</td>
                                                                            <td>@dr["pr_dt"]</td>
                                                                            <td>@dr["item_name"]</td>
                                                                            <td>@dr["uom_alias"]</td>
                                                                            <td class="num_right">@dr["pr_qty"]</td>
                                                                        </tr>
                                                                        srno++;
                                                                    }
                                                                }
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            @*<section class="panel panel-default">
                                    <div class="panel-heading" role="tab" id="headingFour">
                                        <h4 class="panel-title">  <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" class="collapsed" aria-controls="collapseFour"> @Resource.Purchase @Resource.Requisition @Resource.Detail <span class="glyphicon glyphicon-chevron-right pull-right" aria-hidden="true"></span> </a></h4>
                                    </div>
                                    <div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour" style="">
                                        <div class="panel-body">
                                            <div class="card-box table-responsive dy_table">
                                                <div class="col-md-12">
                                                    <div class="price_item_detail">
                                                        <div class="tableFixHead height45VH">
                                                            <table id="PurchaseRequisition" class="table table-bordered margin10">
                                                                <thead disabled="disabled">
                                                                    <tr class="headings">
                                                                        <th width="5%">@Resource.SrNo</th>
                                                                        <th width="21%"> @Resource.Requisition @Resource.Number</th>
                                                                        <th width="21%">@Resource.RequisitionDate</th>
                                                                        <th width="21%">@Resource.Product @Resource.Name</th>
                                                                        <th width="11%" title="@Resource.UnitOfMeasure"> @Resource.UOM</th>
                                                                        <th width="21%">@Resource.Requisition @Resource.Quantity</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </section>*@
                        </article>
                    </div>
                </div>
            </div>
        </div>
    }
}