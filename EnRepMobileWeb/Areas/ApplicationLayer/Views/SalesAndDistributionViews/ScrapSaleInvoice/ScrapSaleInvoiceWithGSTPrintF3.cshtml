
@using System.Data;
@{
    var a = "";
}
<style>
    body {
        font-family: Arial, Helvetica, sans-serif;
        font-size: 10px;
        margin: 0;
        color: #000;
    }

    .container {
        width: 100%;
        font-family: Arial, Helvetica, sans-serif;
    }

    .header-title {
        font-size: 11px;
        font-weight: bold;
        text-align: center;
        paddingbottom: 5px;
    }

    .small {
        font-size: 9px;
        text-align: right;
        paddingbottom: 5px;
    }

    .no-border {
        border: none !important;
        border: 0px !important;
    }

    .yes-border {
        border: 1px;
    }

    .greetings {
        font-size: 10px;
        text-align: center;
        color: #0026ff;
        paddingleft: 5px;
        paddingright: 5px;
        paddingtop: 5px;
        line-height: 14px;
    }

    .gstin_l {
        font-size: 10px;
        text-align: left;
        color: #000000;
        font-weight: bold;
        border: 0px;
        paddingleft: 5px;
        paddingtop: 2px;
        paddingbottom: 2px;
    }

    .gstin_r {
        font-size: 10px;
        text-align: left;
        color: #000000;
        font-weight: normal;
        border: 0px;
        paddingleft: 5px;
        paddingtop: 2px;
        paddingbottom: 2px;
    }

    .img_pad {
        paddingtop: 10px
    }

    .pad_top {
        paddingtop: 5px;
        paddingbottom: 5px;
    }

    .hospimax {
        font-size: 10px;
        text-align: left;
        color: #000000;
        font-weight: normal;
        border: 0px;
        paddingleft: 5px;
        paddingtop: 2px;
        paddingbottom: 2px;
    }

    .hospimax_header {
        width: 100%;
        font-size: 11px;
        text-align: left;
        color: #000000;
        font-weight: bold;
        border: 0px;
        paddingleft: 5px;
        /*paddingtop: 5px;*/
        paddingbottom: 0px;
    }

    .bor_top {
        border-top: 1px solid #000000;
    }

    .bor_bottom {
        border-bottom: 1px solid #000000;
    }

    .bor_left {
        border-left: 1px solid #000000;
    }

    .bor_right {
        border-right: 1px solid #000000;
    }



    .terms_table th {
        font-size: 9px;
        text-align: center;
        color: #000000;
        font-weight: bold;
        paddingleft: 5px;
        paddingright: 5px;
        paddingtop: 3px;
        paddingbottom: 3px;
        border: 0.5 solid #000000;
    }

    .terms_table td {
        font-size: 9px;
        text-align: left;
        color: #000000;
        font-weight: normal;
        paddingleft: 5px;
        paddingright: 5px;
        paddingtop: 3px;
        paddingbottom: 3px;
        border: 0.5 solid #000000;
    }

    .product_description th {
        font-size: 9px;
        text-align: center;
        color: #000000;
        font-weight: bold;
        paddingleft: 5px;
        paddingright: 5px;
        paddingtop: 3px;
        paddingbottom: 3px;
        border: 0.5 solid #000000;
    }

    .product_description, .authorised_signatory .terms, .bottom_con {
        border: 0.5 solid #000000;
    }

        .product_description td {
            font-size: 9px;
            text-align: left;
            color: #000000;
            font-weight: normal;
            paddingleft: 5px;
            paddingright: 5px;
            paddingtop: 3px;
            paddingbottom: 3px;
            border: 0.5 solid #000000;
        }

    .authorised_signatory td {
        font-size: 10px;
        text-align: right;
        color: #000000;
        font-weight: bold;
        paddingleft: 5px;
        paddingright: 5px;
        paddingtop: 3px;
        paddingbottom: 3px;
    }

    .terms td {
        font-size: 9px;
        text-align: left;
        color: #000000;
        font-weight: normal;
        paddingleft: 5px;
        paddingright: 5px;
        paddingtop: 1px;
        paddingbottom: 1px;
        border: 0.5 solid #000000;
    }
    /*.terms td ol {

        }
        .terms td ol li {


        }*/

    .num_right {
        text-align: right !important;
    }

    .total {
        background-color: #959595;
    }

    .font_weight_bold {
        font-weight: bold !important;
    }

    .terms-container {
        /*border-top: 1px solid #000;
        margin-top: 10px;*/
        paddingtop: 8px;
    }

    .terms-title {
        font-weight: bold;
        padding-top: 5px;
        paddingbottom: 5px;
        font-size: 11px;
        text-transform: uppercase;
    }

    ol.terms-list {
        margin: 0;
        paddingleft: 38px;
    }

        ol.terms-list li {
            marginbottom: 60px;
            line-height: 1.2;
            text-align: justify;
        }
</style>
@{
    string lpath = string.Empty;
    string copyname = string.Empty;/*Add by Hina sharma on 01-10-2024 to show multiple print copy for sale invoice only*/
    lpath = ViewBag.FLogoPath.ToString();

    if (ViewBag.Copyno != null)
    {
        if (Convert.ToInt32(ViewBag.Copyno) == 1)
        {
            copyname = "Original";
        }
        if (Convert.ToInt32(ViewBag.Copyno) == 2)
        {
            copyname = "Duplicate";
        }
        if (Convert.ToInt32(ViewBag.Copyno) == 3)
        {
            copyname = "Triplicate";
        }
        if (Convert.ToInt32(ViewBag.Copyno) == 4)
        {
            copyname = "Extra Copy";
        }
    }/*Add by Hina sharma on 01-10-2024 to show multiple print copy for sale invoice only*/
    else
    {
        copyname = "";
    }

    string doc_status = "";
    string BackGroundImgUrl = "";
    if (ViewBag.DocStatus != null)
    {
        doc_status = ViewBag.DocStatus;
    }
    if (doc_status == "D" || doc_status == "F")
    {
        BackGroundImgUrl = Server.MapPath("~/Content/Images/draft.png");
    }
    else if (doc_status == "C")
    {
        BackGroundImgUrl = Server.MapPath("~/Content/Images/cancelled.png");
    }
    else
    {
        BackGroundImgUrl = "";
    }

}
<div class="container">
    <div style="margin:0 auto; background:url() no-repeat; background-position: center center ">
        <table style="width:100%;" cellpadding="0" cellspacing="0" border="0">
            <tr>
                <td width="20%" class="no-border">&nbsp;</td>
                <td width="60%" class="header-title no-border">@ViewBag.Title.ToString()</td>
                <td width="19%" class="small no-border">@copyname.ToString()</td>
            </tr>
            <tr>
                <td colspan="3">
                    <table style="width:100%;" cellpadding="0" cellspacing="0" border="0">
                        <tr>
                            <td width="35%" valign="top" class="bor_left bor_top bor_bottom">
                                <table style="width:100%;" cellpadding="0" cellspacing="0" border="0">
                                    <tr>
                                        <td width="30%" class="img_pad gstin_r" valign="top">
                                            @*<img src="C:\EnReP\EnReP_New\Application\EnRepMobileWeb\Content\Images\mainslider_bnr1.jpg" width="120" />*@
                                            <img src="@lpath" alt="Logo" width="100" />
                                        </td>
                                        <td width="70%" valign="top" class="gstin_r img_pad">
                                            <table style="width:100%;" cellpadding="0" cellspacing="0" border="0">
                                                <tr>
                                                    <td class="hospimax_header" valign="top">@ViewBag.Details.Tables[0].Rows[0]["comp_nm"].ToString()</td>
                                                </tr>
                                                <tr>
                                                    <td class="hospimax">@ViewBag.Details.Tables[0].Rows[0]["Comp_Add"].ToString()</td>
                                                </tr>
                                                @if (@ViewBag.Details.Tables[0].Rows.Count > 0 != null)
                                                {
                                                    foreach (DataRow data in @ViewBag.Details.Tables[0].Rows)
                                                    {
                                                        <tr>
                                                            <td class="hospimax">
                                                                @data["lic_number"].ToString()
                                                            </td>
                                                        </tr>
                                                    }
                                                }
                                                <tr>
                                                    <td class="hospimax">
                                                        @if (ViewBag.PrintOption != null)
                                                        {
                                                            if (ViewBag.PrintOption.Rows[0]["PrintCorpAddr"].ToString() == "Y")
                                                            {

                                                                {
                                                                    var corp_off_addr = @ViewBag.Details.Tables[0].Rows[0]["corp_off_addr"].ToString();
                                                                    ViewBag.TextData = corp_off_addr;
                                                                }
                                                                @Html.Partial("~/Areas/Common/Views/Cmn_PartialMultilineSpacedData.cshtml")
                                                            }
                                                        }
                                                    </td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                            <td width="30%" class="img_pad bor_left bor_top bor_bottom">
                                <table style="width:100%;" cellpadding="0" cellspacing="0" border="0">
                                    <tr>
                                        <td class="gstin_l" width="25%">GSTIN No.</td>
                                        <td class="gstin_l" width="2%">:</td>
                                        <td class="gstin_r" width="73%">@ViewBag.Details.Tables[0].Rows[0]["gst_no"].ToString()</td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">FSSAI</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[0].Rows[0]["msme_no"].ToString()</td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">PAN</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[0].Rows[0]["pan_no"].ToString() </td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">STATE</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[0].Rows[0]["StateNm"].ToString()</td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">CIN</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[0].Rows[0]["iec_no"].ToString()</td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l bor_top pad_top">ACK No.</td>
                                        <td class="gstin_l bor_top pad_top">:</td>
                                        <td class="gstin_r bor_top pad_top">@ViewBag.Details.Tables[0].Rows[0]["gst_einv_ack_no"].ToString()</td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">ACK Date</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[0].Rows[0]["gst_einv_ack_dt"].ToString()</td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">IRN No.</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[0].Rows[0]["gst_irn_no"].ToString()</td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">E-Way Bill No.</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[0].Rows[0]["gst_ewb_no"].ToString()</td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">Transport</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[6].Rows[0]["TransName"].ToString()</td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">LR No.</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[6].Rows[0]["GrLrNo"].ToString()</td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">LR Date</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[6].Rows[0]["GrLrDate"].ToString()</td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">Total Weight</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r"></td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">HQ Name</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[1].Rows[0]["cust_zone"].ToString()</td>
                                    </tr>
                                </table>
                            </td>
                            <td width="15%" valign="top" align="center" class="img_pad bor_left bor_top bor_bottom "><img src="C:\EnReP\EnReP_New\Application\EnRepMobileWeb\Content\Images\QR_Hos.png" width="150" /></td>
                            <td width="20%" valign="top" class="bor_left bor_right bor_top bor_bottom">
                                <table style="width:100%;" cellpadding="0" cellspacing="0">
                                    <tr>
                                        <td valign="top" align="center" class="img_pad"><img src="images/barcode.png" alt="Logo" width="90" /></td>
                                    </tr>
                                    <tr>
                                        <td class="greetings">
                                            Greetings from <br />
                                            @ViewBag.Details.Tables[0].Rows[0]["comp_nm"].ToString()<br />
                                            Please scan the QR <br />
                                            for hassle free payment.
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td colspan="3">
                    <table style="width:100%;" cellpadding="0" cellspacing="0" border="0">
                        <tr class="no-border">
                            <td width="25%" valign="top" class="gstin_r img_pad bor_left bor_bottom">
                                <table style="width:100%;" cellpadding="0" cellspacing="0" border="0">
                                    <tr>
                                        <td class="hospimax_header" valign="top">(Bill To) Purchaser</td>
                                    </tr>
                                    <tr>
                                        <td class="hospimax_header" valign="top">
                                            @if (ViewBag.PrintOption != null)
                                            {
                                                if (ViewBag.PrintOption.Rows[0]["CustAliasName"].ToString() == "Y")
                                                {
                                                    @ViewBag.Details.Tables[1].Rows[0]["cust_alias"].ToString()
                                                }
                                                else
                                                {
                                                    @ViewBag.Details.Tables[1].Rows[0]["cust_name"].ToString()
                                                }
                                            }
                                            else
                                            {
                                                @ViewBag.Details.Tables[1].Rows[0]["cust_name"].ToString()
                                            }
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="hospimax">@ViewBag.Details.Tables[1].Rows[0]["cust_add"].ToString()</td>
                                    </tr>
                                    <tr>
                                        <td class="hospimax">M - @ViewBag.Details.Tables[1].Rows[0]["cust_cont_num"].ToString(), E-mail : @ViewBag.Details.Tables[1].Rows[0]["cont_email"].ToString()</td>
                                    </tr>
                                    @*<tr>
                                        <td class="hospimax">E-mail : @ViewBag.Details.Tables[1].Rows[0]["cont_email"].ToString()</td>
                                    </tr>*@

                                </table>
                            </td>
                            <td width="25%" valign="top" class="gstin_r img_pad bor_left bor_bottom">
                                <table style="width:100%;" cellpadding="0" cellspacing="0" border="0">
                                    <tr>
                                        <td class="hospimax_header" valign="top">(Ship To) Consignee</td>
                                    </tr>
                                    <tr>
                                        <td class="hospimax_header" valign="top">
                                            @if (@ViewBag.Details.Tables[0].Rows[0]["ship_to"].ToString() != null && @ViewBag.Details.Tables[0].Rows[0]["ship_to"].ToString() != "")
                                            {
                                                @ViewBag.Details.Tables[0].Rows[0]["ship_to"].ToString()
                                            }
                                            else
                                            {
                                                @ViewBag.Details.Tables[1].Rows[0]["cust_name"].ToString()
                                            }
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="hospimax">@ViewBag.Details.Tables[2].Rows[0]["cust_add"].ToString()</td>
                                    </tr>
                                    <tr>
                                        <td class="hospimax">M - @ViewBag.Details.Tables[2].Rows[0]["cust_cont_num"].ToString(), E-mail : @ViewBag.Details.Tables[2].Rows[0]["cont_email"].ToString()</td>
                                    </tr>
                                    @*<tr>
                                        <td class="hospimax">E-mail : @ViewBag.Details.Tables[2].Rows[0]["cont_email"].ToString()</td>
                                    </tr>*@

                                </table>
                            </td>
                            <td width="25%" valign="top" class="gstin_r img_pad bor_left bor_bottom">
                                <table style="width:100%;" cellpadding="0" cellspacing="0" border="0">
                                    @if (@ViewBag.Details.Tables[1].Rows.Count > 0 != null)
                                    {
                                        foreach (DataRow data in @ViewBag.Details.Tables[1].Rows)
                                        {
                                            <tr>
                                                <td class="gstin_l" width="25%">DL No.</td>
                                                <td class="gstin_l" width="2%">:</td>
                                                <td class="gstin_r" width="73%">@data["lic_number"].ToString()</td>
                                            </tr>
                                        }
                                    }
                                    else
                                    {
                                        <tr>
                                            <td class="gstin_l" width="25%">DL No.</td>
                                            <td class="gstin_l" width="2%">:</td>
                                            <td class="gstin_r" width="73%"></td>
                                        </tr>
                                    }
                                    <tr>
                                        <td class="gstin_l">State</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[1].Rows[0]["StateNm"].ToString() </td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">State Code</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[1].Rows[0]["StateCode"].ToString() </td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">GSTIN No.</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[1].Rows[0]["cust_gst_no"].ToString() </td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">Ref. No.</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[0].Rows[0]["cust_ref"].ToString()</td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">Ref. Dt.</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[0].Rows[0]["cust_ref_dt"].ToString()</td>
                                    </tr>
                                </table>
                            </td>
                            <td width="25%" valign="top" class="gstin_r img_pad bor_left bor_right bor_bottom">
                                <table style="width:100%;" cellpadding="0" cellspacing="0" border="0">
                                    <tr>
                                        <td class="gstin_l" width="35%">Invoice No.</td>
                                        <td class="gstin_l" width="2%">:</td>
                                        <td class="gstin_r" width="63%">
                                            @if (ViewBag.PrintOption != null)
                                            {
                                                if (ViewBag.PrintOption.Rows[0]["ShowWithoutSybbol"].ToString() == "Y")
                                                {
                                                    @ViewBag.Details.Tables[0].Rows[0]["app_inv_no_without"].ToString()<br />
                                                }
                                                else
                                                {
                                                    @ViewBag.Details.Tables[0].Rows[0]["app_inv_no"].ToString()<br />
                                                }
                                            }
                                            else
                                            {
                                                @ViewBag.Details.Tables[0].Rows[0]["app_inv_no"].ToString()<br />
                                            }
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">Date</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[0].Rows[0]["InvDate"].ToString()</td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">Due Date</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r">@ViewBag.Details.Tables[0].Rows[0]["DueDate"].ToString() </td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">Shipment No.</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r"></td>
                                    </tr>
                                    <tr>
                                        <td class="gstin_l">Shipment Date</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r"></td>
                                    </tr>
                                    @*<tr>
                                        <td class="gstin_l">Policy No.</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r"></td>
                                    </tr>*@
                                    <tr>
                                        <td class="gstin_l">No. of Packs</td>
                                        <td class="gstin_l">:</td>
                                        <td class="gstin_r"></td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td colspan="3">
                    <table style="width:100%;" cellpadding="0" cellspacing="0" class="product_description">
                        <thead>
                            <tr>
                                <th width="2%" rowspan="2" valign="top" class="bor_left bor_bottom">
                                    SN
                                </th>
                                <th width="6%" rowspan="2" valign="top" class="bor_left bor_bottom">
                                    Brand
                                </th>
                                <th width="15%" rowspan="2" valign="top" class="bor_left bor_bottom">
                                    Product Description
                                </th>
                                <th width="5%" rowspan="2" valign="top" class="bor_left bor_bottom">
                                    Pack
                                </th>
                                <th width="5%" rowspan="2" valign="top" class="bor_left bor_bottom">
                                    HSN
                                    Code
                                </th>
                                <th width="6%" rowspan="2" valign="top" class="bor_left bor_bottom">
                                    Batch
                                </th>
                                <th width="6%" rowspan="2" valign="top" class="bor_left bor_bottom">
                                    Mfg.
                                    Date
                                </th>
                                <th width="6%" rowspan="2" valign="top" class="bor_left bor_bottom">
                                    Exp.
                                    Date
                                </th>
                                <th width="4%" rowspan="2" valign="top" class="bor_left bor_bottom">
                                    Qty
                                </th>
                                <th width="3%" rowspan="2" valign="top" class="bor_left bor_bottom">
                                    Free
                                    Qty
                                </th>
                                <th width="5%" rowspan="2" valign="top" class="bor_left bor_bottom">
                                    Rate
                                </th>
                                <th width="5%" rowspan="2" valign="top" class="bor_left bor_bottom">
                                    MRP
                                </th>
                                <th width="3%" rowspan="2" valign="top" class="bor_left bor_bottom">
                                    Disc.
                                    %
                                </th>
                                <th width="5%" rowspan="2" valign="top" class="bor_left bor_bottom">
                                    Taxable
                                    Value
                                </th>
                                @if (Convert.ToDecimal(@ViewBag.Details.Tables[10].Rows[0]["TotalCgst"]) > 0)
                                {
                                    <th width="10%" colspan="2" valign="top" class="bor_left bor_bottom">
                                        CGST
                                    </th>
                                }
                                @if (Convert.ToDecimal(@ViewBag.Details.Tables[10].Rows[0]["TotalSgst"]) > 0)
                                {
                                    <th width="10%" colspan="2" valign="top" class="bor_left bor_bottom">
                                        SGST
                                    </th>
                                }
                                @if (Convert.ToDecimal(@ViewBag.Details.Tables[10].Rows[0]["TotalIgst"]) > 0)
                                {
                                    <th width="10%" colspan="2" valign="top" class="bor_left bor_bottom">
                                        IGST
                                    </th>
                                }
                                <th width="8%" rowspan="2" valign="top" class="bor_left bor_right bor_bottom">
                                    Total
                                    Amount
                                </th>
                            </tr>
                            <tr>
                                @if (Convert.ToDecimal(@ViewBag.Details.Tables[10].Rows[0]["TotalCgst"]) > 0)
                                {
                                    <th valign="top" class="bor_left bor_bottom">
                                        (%)
                                    </th>
                                    <th valign="top" class="bor_left bor_bottom">
                                        Amt.
                                    </th>
                                }
                                @if (Convert.ToDecimal(@ViewBag.Details.Tables[10].Rows[0]["TotalSgst"]) > 0)
                                {
                                    <th valign="top" class="bor_left bor_bottom">
                                        (%)
                                    </th>
                                    <th valign="top" class="bor_left bor_bottom">
                                        Amt.
                                    </th>
                                }
                                @if (Convert.ToDecimal(@ViewBag.Details.Tables[10].Rows[0]["TotalIgst"]) > 0)
                                {
                                    <th valign="top" class="bor_left bor_bottom">
                                        (%)
                                    </th>
                                    <th valign="top" class="bor_left bor_bottom">
                                        Amt.
                                    </th>
                                }
                            </tr>
                        </thead>
                        <tbody>
                            @{
                                var srno = 0;
                            }
                            @if (@ViewBag.Details.Tables[3].Rows.Count > 0)
                            {
                                DataView data1 = new DataView();
                                foreach (DataRow data in @ViewBag.Details.Tables[3].Rows)
                                {
                                    srno = srno + 1;
                                    <tr>
                                        <td>@srno</td>
                                        <td>@data["last_level_grp"].ToString()</td>
                                        <td>
                                            @if (ViewBag.PrintOption != null)
                                            {
                                                if (ViewBag.PrintOption.Rows[0]["ShowCustSpecProdDesc"].ToString().ToUpper() == "Y")
                                                {
                                                    @data["CustSpecItemDesc"].ToString()

                                                }

                                                @data["itemName"].ToString()


                                                if (ViewBag.PrintOption.Rows[0]["ShowProdTechDesc"].ToString().ToUpper() == "Y")
                                                {
                                                    <br /> @data["ItmTechDiscriptn"].ToString()

                                                }
                                                if (ViewBag.PrintOption.Rows[0]["ShowSubItem"].ToString() == "Y")
                                                {
                                                    if (ViewBag.Details.Tables[8].Rows.Count > 0)
                                                    {
                                                        data1 = ViewBag.Details.Tables[8].DefaultView;
                                                        DataTable NewDT1 = new DataTable();
                                                        data1.RowFilter = "item_id='" + data["itemId"].ToString() + "'";
                                                        NewDT1 = data1.ToTable();
                                        <table width="100%" style="font-size: 10px; paddingtop:3px;" cellpadding="0" cellspacing="0" border="0">

                                           
                                            @foreach (System.Data.DataRow drsubitm in NewDT1.Rows)
                                            {
                                                if (data["itemId"].ToString() == drsubitm["item_id"].ToString())
                                                {
                                                    @*<tr>
                    <td width="10%" style="paddingtop: 0px;paddingbottom:0px;"></td>
                    <td width="45%" style="paddingtop: 0px; paddingbottom: 0px;">@drsubitm["sub_item_name"] </td>
                    <td width="45%" style="text-align: right; paddingtop: 0px; paddingbottom: 0px; paddingright: 5px;"> @drsubitm["inv_qty"]</td>
                </tr>*@
                                                    <tr>
                                                        <td width="45%" style="paddingtop: 0px; paddingbottom: 0px; text-align:left; border:0px;">@drsubitm["sub_item_name"] </td>
                                                        <td width="45%" style="text-align: right; paddingtop: 0px; paddingbottom: 0px; paddingright: 5px; border:0px;"> @drsubitm["inv_qty"]</td>
                                                    </tr>
                                                }
                                            }
                                        </table>
                                                    }
                                                }
                                                <br /> @data["it_remarks"].ToString()
                                            }
                                            else
                                            {
                                                @data["itemName"].ToString()
                                                <br /> @data["ItmTechDiscriptn"].ToString()
                                                <br /> @data["it_remarks"].ToString()
                                            }
                                        </td>
                                        <td>@data["pack_size"].ToString()</td>
                                        <td>@data["hsnCode"].ToString()</td>
                                        <td>@data["batch_no"].ToString()</td>
                                        <td>@data["mfg_dt"].ToString()</td>
                                        <td>@data["exp_dt"].ToString()</td>
                                        <td class="num_right">@data["shipQty"].ToString()</td>
                                        <td class="num_right">@data["foc_qty"].ToString()</td>
                                        <td class="num_right">@data["bef_disc_item_price"].ToString()</td>
                                        <td class="num_right">@data["mrp"].ToString()</td>
                                        <td class="num_right">@data["discPer"].ToString()</td>
                                        <td class="num_right">@data["totalAfterDisc"].ToString()</td>
                                        @if (Convert.ToDecimal(@ViewBag.Details.Tables[10].Rows[0]["TotalCgst"]) > 0)
                                        {
                                            <td class="num_right">@data["cgstRate"].ToString()</td>
                                            <td class="num_right">@data["cgst"].ToString()</td>
                                        }
                                        @if (Convert.ToDecimal(@ViewBag.Details.Tables[10].Rows[0]["TotalSgst"]) > 0)
                                        {
                                            <td class="num_right">@data["sgstRate"].ToString()</td>
                                            <td class="num_right">@data["sgst"].ToString()</td>
                                        }
                                        @if (Convert.ToDecimal(@ViewBag.Details.Tables[10].Rows[0]["TotalIgst"]) > 0)
                                        {
                                            <td class="num_right">@data["igstRate"].ToString()</td>
                                            <td class="num_right">@data["igst"].ToString()</td>
                                        }
                                        <td class="num_right">@data["lineTotal"].ToString()</td>
                                    </tr>
                                }
                            }
                        </tbody>
                        <tfoot>
                            <tr class="total">
                                <th colspan="13" class="num_right">Total Amount</th>
                                <th class="num_right">@ViewBag.Details.Tables[14].Rows[0]["totalAfterDisc"].ToString()</th>
                                @if (Convert.ToDecimal(@ViewBag.Details.Tables[10].Rows[0]["TotalCgst"]) > 0)
                                {
                                    <th colspan="2" class="num_right">@ViewBag.Details.Tables[14].Rows[0]["cgst"].ToString()</th>
                                }
                                @if (Convert.ToDecimal(@ViewBag.Details.Tables[10].Rows[0]["TotalSgst"]) > 0)
                                {
                                    <th colspan="2" class="num_right">@ViewBag.Details.Tables[14].Rows[0]["sgst"].ToString()</th>
                                }
                                @if (Convert.ToDecimal(@ViewBag.Details.Tables[10].Rows[0]["TotalIgst"]) > 0)
                                {
                                    <th colspan="2" class="num_right">@ViewBag.Details.Tables[14].Rows[0]["igst"].ToString()</th>
                                }
                                <th class="num_right">@ViewBag.Details.Tables[14].Rows[0]["lineTotal"].ToString()</th>
                            </tr>
                        </tfoot>
                    </table>
                </td>
            </tr>
            <tr>
                <td colspan="3">
                    <table style="width:100%;" cellpadding="0" cellspacing="0" class="product_description">
                        <tr>
                            <td width="70%" valign="top">
                                Remark:<br />
                                @if (ViewBag.PrintOption != null)
                                {
                                    if (ViewBag.PrintOption.Rows[0]["PrintRemarks"].ToString() == "Y")
                                    {
                                        {
                                            var remarks = @ViewBag.Details.Tables[0].Rows[0]["remarks"].ToString();
                                            ViewBag.TextData = remarks;
                                        }
                                        @Html.Partial("~/Areas/Common/Views/Cmn_PartialMultilineSpacedData.cshtml")
                                    }

                                }
                                </td>
                            <td width="30%" class="no-border">
                                <table style="width:100%;" cellpadding="0" cellspacing="0" border="0" class="product_description">
                                    <tr>
                                        <td width="50%" class="num_right">Total Goods value</td>
                                        <td width="50%" class="num_right">@ViewBag.Details.Tables[10].Rows[0]["TotalTaxableVal"].ToString()</td>
                                    </tr>
                                    <tr>
                                        <td class="num_right">Taxable Amount</td>
                                        <td class="num_right">@ViewBag.Details.Tables[10].Rows[0]["TotalTaxableVal"].ToString()</td>
                                    </tr>
                                    @{
                                        var totalGstAmt = 0m;
                                    }
                                    @if (Convert.ToDecimal(ViewBag.Details.Tables[10].Rows[0]["TotalCgst"]) > 0)
                                    {
                                        foreach (var cgsttaxes in @ViewBag.Details.Tables[11].Rows)
                                        {
                                            if (Convert.ToDecimal(ViewBag.Details.Tables[11].Rows[0]["TotalCgst"]) > 0)
                                            {
                                                totalGstAmt = Convert.ToDecimal(@cgsttaxes["TotalCgst"].ToString());
                                            }
                                        }
                                    }
                                    @if (Convert.ToDecimal(ViewBag.Details.Tables[10].Rows[0]["TotalSgst"]) > 0)
                                    {
                                        foreach (var cgsttaxes in @ViewBag.Details.Tables[11].Rows)
                                        {
                                            if (Convert.ToDecimal(ViewBag.Details.Tables[11].Rows[0]["TotalSgst"]) > 0)
                                            {
                                                totalGstAmt = totalGstAmt + Convert.ToDecimal(@cgsttaxes["TotalSgst"].ToString());
                                            }
                                        }
                                    }
                                    @if (Convert.ToDecimal(ViewBag.Details.Tables[10].Rows[0]["TotalIgst"]) > 0)
                                    {
                                        foreach (var igsttaxes in @ViewBag.Details.Tables[11].Rows)
                                        {
                                            if (Convert.ToDecimal(ViewBag.Details.Tables[11].Rows[0]["TotalIgst"]) > 0)
                                            {
                                                totalGstAmt = Convert.ToDecimal(@igsttaxes["TotalIgst"].ToString());
                                            }
                                        }
                                    }
                                    <tr>
                                        <td class="num_right">GST Amount</td>
                                        <td class="num_right">@totalGstAmt</td>
                                    </tr>
                                    <tr>
                                        <td class="num_right">Round Off</td>
                                        <td class="num_right">@ViewBag.Details.Tables[14].Rows[0]["RoundOff"].ToString()</td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td width="70%">Amount in words : <span class="font_weight_bold">&#8377; @ViewBag.Details.Tables[4].Rows[0]["net_val_spec_inwords"].ToString()</span></td>
                            <td width="30%" class="no-border">
                                <table style="width:100%;" cellpadding="0" cellspacing="0" border="0" class="product_description">
                                    <tr>
                                        <td width="50%" class="num_right font_weight_bold">Grand Total</td>
                                        <td width="50%" class="num_right font_weight_bold">@ViewBag.Details.Tables[4].Rows[0]["invTotal"].ToString()</td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td colspan="3" class="no-border">
                    <table style="width:100%;" cellpadding="0" cellspacing="0" class="product_description">
                        <tr>
                            <td width="40%" class="no-border" valign="top">
                                <table style="width:100%;" cellpadding="0" cellspacing="0" border="0" class="product_description">
                                    <tr>
                                        <td width="20%">Warranty</td>
                                        <td width="2%">:</td>
                                        <td width="78%">
                                            @ViewBag.Details.Tables[0].Rows[0]["pvt_mark"].ToString()
                                        </td>
                                    </tr>
                                    <tr>
                                        <td width="40%">Terms of Delivery</td>
                                        <td width="2%">:</td>
                                        <td width="58%">@ViewBag.Details.Tables[0].Rows[0]["term_del_pay"].ToString()</td>
                                    </tr>
                                </table>
                            </td>
                            <td width="60%" class="no-border">
                                <table style="width:100%;" cellpadding="0" cellspacing="0" border="0" class="product_description">
                                    <tr>
                                        <td colspan="2" class="font_weight_bold">Company's Bank Details : </td>

                                    </tr>
                                    <tr>
                                        <td width="70%">
                                            <table style="width:100%;" cellpadding="0" cellspacing="0" border="0" class="product_description">

                                                <tr>
                                                    <td width="28%">Beneficiary Name</td>
                                                    <td width="2%" class="font_weight_bold">:</td>
                                                    <td width="70%" class="font_weight_bold">@ViewBag.Details.Tables[7].Rows[0]["benif_name"].ToString()</td>
                                                </tr>
                                                <tr>
                                                    <td>Bank Name</td>
                                                    <td class="font_weight_bold">:</td>
                                                    <td class="font_weight_bold">@ViewBag.Details.Tables[7].Rows[0]["bank_name"].ToString()</td>
                                                </tr>
                                                <tr>
                                                    <td>Branch</td>
                                                    <td class="font_weight_bold">:</td>
                                                    <td class="font_weight_bold">@ViewBag.Details.Tables[7].Rows[0]["bank_add"].ToString()</td>
                                                </tr>

                                            </table>
                                        </td>
                                        <td width="30%" valign="top">
                                            <table style="width:100%;" cellpadding="0" cellspacing="0" border="0" class="product_description">

                                                <tr>
                                                    <td width="30%">A/C No</td>
                                                    <td width="2%" class="font_weight_bold">:</td>
                                                    <td width="68%" class="font_weight_bold">@ViewBag.Details.Tables[7].Rows[0]["acc_no"].ToString()</td>
                                                </tr>
                                                <tr>
                                                    <td>IFSC Code</td>
                                                    <td class="font_weight_bold">:</td>
                                                    <td class="font_weight_bold">@ViewBag.Details.Tables[7].Rows[0]["ifsc_code"].ToString()</td>
                                                </tr>
                                            </table>
                                        </td>
                                    </tr>
                                </table>
                                @*<table style="width:100%;" cellpadding="0" cellspacing="0" border="0" class="product_description">
            <tr>
                <td colspan="3" class="font_weight_bold">Company's Bank Details : </td>

            </tr>
            <tr>
                <td width="15%">Beneficiary Name</td>
                <td width="2%" class="font_weight_bold">:</td>
                <td width="83%">@ViewBag.Details.Tables[7].Rows[0]["benif_name"].ToString()</td>
            </tr>
            <tr>
                <td>Bank Name</td>
                <td class="font_weight_bold">:</td>
                <td class="font_weight_bold">@ViewBag.Details.Tables[7].Rows[0]["bank_name"].ToString()</td>
            </tr>
            <tr>
                <td>Branch</td>
                <td class="font_weight_bold">:</td>
                <td class="font_weight_bold">@ViewBag.Details.Tables[7].Rows[0]["bank_add"].ToString()</td>
            </tr>
            <tr>
                <td>A/C No</td>
                <td class="font_weight_bold">:</td>
                <td class="font_weight_bold">@ViewBag.Details.Tables[7].Rows[0]["acc_no"].ToString()</td>
            </tr>
            <tr>
                <td>IFSC Code</td>
                <td class="font_weight_bold">:</td>
                <td class="font_weight_bold">@ViewBag.Details.Tables[7].Rows[0]["ifsc_code"].ToString()</td>
            </tr>
        </table>*@
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td colspan="3" class="no-border">
                    <table style="width:100%;" cellpadding="0" cellspacing="0" class="product_description">
                        <tr>
                            <td width="45%" class="no-border" valign="top">
                                <table style="width:100%;" cellpadding="0" cellspacing="0" class="terms">
                                    <tr>
                                        <td>
                                            <div class="terms-container">
                                                <div class="terms-title">Terms &amp; Conditions</div>

                                                <ol class="terms-list">
                                                    @*<li>Subject to Delhi jurisdiction only.</li>

                                                        <li>Goods once sold will not be taken back.</li>

                                                        <li>
                                                            Goods are sold with the understanding that the buyer holds all requisite
                                                            valid Drug License Certificates and a valid GST Registration Number.
                                                        </li>

                                                        <li>
                                                            Payments are to be released in favour of
                                                            <strong>Hospimax Healthcare Pvt. Ltd.</strong>
                                                        </li>

                                                        <li>
                                                            Any invoice remaining unpaid beyond the due date will attract interest
                                                            <strong>15% per annum</strong> on the unpaid amount.
                                                        </li>*@
                                                </ol>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                            <td width="35%" class="no-border" valign="top">
                                <table style="width:100%;" cellpadding="0" cellspacing="0" border="0" class="terms_table">
                                    <thead>
                                        <tr>
                                            <th>CLASS</th>
                                            <th>Taxable Amt</th>
                                            @if (Convert.ToDecimal(ViewBag.Details.Tables[10].Rows[0]["TotalCgst"].ToString()) > 0)
                                            {
                                                <th>CGST</th>
                                            }
                                            @if (Convert.ToDecimal(ViewBag.Details.Tables[10].Rows[0]["TotalSgst"].ToString()) > 0)
                                            {
                                                <th>SGST</th>
                                            }
                                            @if (Convert.ToDecimal(ViewBag.Details.Tables[10].Rows[0]["TotalIgst"].ToString()) > 0)
                                            {
                                                <th>IGST</th>
                                            }
                                            <th>TOTAL GST</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @if (Convert.ToDecimal(ViewBag.Details.Tables[10].Rows[0]["TotalCgst"]) > 0)
                                        {
                                            foreach (var cgsttaxes in @ViewBag.Details.Tables[11].Rows)
                                            {
                                                if (Convert.ToDecimal(ViewBag.Details.Tables[11].Rows[0]["TotalCgst"]) > 0)
                                                {
                                                    <tr>
                                                        <td>@cgsttaxes["CgstTaxName"].ToString()</td>
                                                        <td class="num_right">@cgsttaxes["totAfterDisc"].ToString()</td>
                                                        <td class="num_right">@cgsttaxes["TotalCgst"].ToString()</td>
                                                        <td class="num_right">0.00</td>
                                                        <td class="num_right">@cgsttaxes["TotalCgst"].ToString()</td>
                                                    </tr>
                                                }
                                            }
                                        }

                                        @if (Convert.ToDecimal(ViewBag.Details.Tables[10].Rows[0]["TotalSgst"]) > 0)
                                        {
                                            foreach (var Sgsttaxes in @ViewBag.Details.Tables[11].Rows)
                                            {
                                                if (Convert.ToDecimal(ViewBag.Details.Tables[11].Rows[0]["TotalSgst"]) > 0)
                                                {
                                                    <tr>
                                                        <td>@Sgsttaxes["SgstTaxName"].ToString()</td>
                                                        <td class="num_right">@Sgsttaxes["totAfterDisc"].ToString()</td>
                                                        <td class="num_right">0.00</td>
                                                        <td class="num_right">@Sgsttaxes["TotalSgst"].ToString()</td>
                                                        <td class="num_right">@Sgsttaxes["TotalSgst"].ToString()</td>
                                                    </tr>

                                                }
                                            }
                                        }
                                        @if (Convert.ToDecimal(ViewBag.Details.Tables[10].Rows[0]["TotalIgst"]) > 0)
                                        {
                                            foreach (var Sgsttaxes in @ViewBag.Details.Tables[11].Rows)
                                            {
                                                if (Convert.ToDecimal(ViewBag.Details.Tables[11].Rows[0]["TotalIgst"]) > 0)
                                                {
                                                    <tr>
                                                        <td>@Sgsttaxes["IgstTaxName"].ToString()</td>
                                                        <td class="num_right">@Sgsttaxes["totAfterDisc"].ToString()</td>
                                                        <td class="num_right">@Sgsttaxes["TotalIgst"].ToString()</td>
                                                        <td class="num_right">@Sgsttaxes["TotalIgst"].ToString()</td>
                                                    </tr>
                                                }
                                            }
                                        }
                                    </tbody>
                                    <tfoot>
                                        @{
                                            var TotalGstTaxAmt1 = 0m;
                                        }
                                        <tr>
                                            <th class="num_right">TOTAL</th>
                                            <th class="num_right"></th>
                                            @if (Convert.ToDecimal(@ViewBag.Details.Tables[10].Rows[0]["TotalCgst"]) > 0)
                                            {
                                                <th class="num_right">@ViewBag.Details.Tables[14].Rows[0]["cgst"].ToString()</th>
                                                TotalGstTaxAmt1 = TotalGstTaxAmt1 + Convert.ToDecimal(@ViewBag.Details.Tables[14].Rows[0]["cgst"].ToString());
                                            }
                                            @if (Convert.ToDecimal(@ViewBag.Details.Tables[10].Rows[0]["TotalSgst"]) > 0)
                                            {
                                                <th class="num_right">@ViewBag.Details.Tables[14].Rows[0]["sgst"].ToString()</th>
                                                TotalGstTaxAmt1 = TotalGstTaxAmt1 + Convert.ToDecimal(@ViewBag.Details.Tables[14].Rows[0]["sgst"].ToString());
                                            }
                                            @if (Convert.ToDecimal(@ViewBag.Details.Tables[10].Rows[0]["TotalIgst"]) > 0)
                                            {
                                                <th class="num_right">@ViewBag.Details.Tables[14].Rows[0]["igst"].ToString()</th>
                                                TotalGstTaxAmt1 = Convert.ToDecimal(@ViewBag.Details.Tables[14].Rows[0]["igst"].ToString());
                                            }
                                            <th class="num_right">@TotalGstTaxAmt1</th>
                                        </tr>
                                    </tfoot>
                                </table>
                            </td>
                            <td width="20%" class="bor_left" valign="top">
                                <table style="width:100%;" cellpadding="0" cellspacing="0" border="0" class="authorised_signatory">
                                    <tr>
                                        <td valign="top" height="80" class="no-border">@ViewBag.Details.Tables[0].Rows[0]["comp_nm"].ToString()</td>
                                    </tr>
                                    <tr>
                                        <td class="no-border" valign="top">Authorised Signatory</td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            @*<tr>
                    <td colspan="3">
                        <table style="width:100%;" cellpadding="0" cellspacing="0" border="0" class="bottom_con">
                            <tr>
                                <td width="50%" valign="top">
                                </td>
                                <td width="25%" valign="top">

                                </td>
                                <td width="25%" valign="top">

                                </td>
                            </tr>
                        </table>
                    </td>
                </tr>*@
        </table>
    </div>
</div>





