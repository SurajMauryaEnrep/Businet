@model EnRepMobileWeb.MODELS.ApplicationLayer.ProductionAndPlanning.BillofMaterial.BillofMaterialModel
@using EnRepMobileWeb.Resources;
@using System.Data
@{
    Layout = "~/Views/Shared/_MasterLayout.cshtml";
}
<script src="~/Content/Css/jquery/dist/jquery.min.js"></script>
<script src="~/Content/Css/build/js/sweetalert.js"></script>
<script src="~/Content/Scripts/ApplicationLayer/ProductionAndPlanning/BillofMaterial/BillofMaterial.js"></script>
@*/*start Add by Hina on 19-02-2024 to chk Financial year exist or not*/*@
@{
    if (TempData["Message"] != null)
    {
        if (TempData["Message"] == "Financial Year not Exist")
        {
            <script type="text/javascript">
                swal("", $("#FinancialYearDoesNotExistTransactionCanNotBeDone").text(), "warning");
            </script>
        }

    }
}
@*/*End to chk Financial year exist or not*/*@
<style>
    .tableFixHead thead th {
        background-color: #e7f1fa !important;
    }
</style>
@{
    var Disable = true;
    var disablePrintbtn = "";
    if (Model.TransTypeBOM == "Update")
    {
        if (Model.CommandBOM == "Edit")
        {
            Disable = false;
        }
        else
        {
            Disable = true;
        }
    }
    else
    {
        Disable = false;
    }
    if (Model.TransTypeBOM == "Refresh")
    {
        Disable = true;
    }

    if (Model.TransTypeBOM == "Approve")
    {
        Disable = true;
    }
    if (Model.TransTypeBOM == "Save")
    {
        if (Model.CommandBOM == "Add")
        {
            Disable = false;
        }
        else
        {
            Disable = true;
        }
    }
    if (Model.DocumentStatus == "C" || Model.product_id == null)
    {
        disablePrintbtn = "disabled style=filter:grayscale(100%)";
    }
}
@{
    if (Model.MessageBOM != null)
    {
        var Message = Model.MessageBOM;
        Model.hdnsaveApprovebtn = null;
        if (Message == "Save")
        {
            <script type="text/javascript">
                swal("", $("#savemsg").text(), "success");
            </script>
        }
        if (Message == "Deleted")
        {
            <script type="text/javascript">
                swal("", $("#deletemsg").text(), "success");
            </script>
        }
        if (Message == "Approved")
        {
            <script type="text/javascript">
                swal("", $("#approvemsg").text(), "success");
            </script>
        }
        if (Message == "Approved_ErrorInMail")
        {
            <script type="text/javascript">
                $(document).ready(function () {
                    swal("", $("#approvemsg").text() + '. \n ' + $("#ThereIsSomethingWrongWhileSendingAlerts").text(), "warning");
                });
            </script>
        }
        if (Message == "CanNotActive")
        {
            <script type="text/javascript">
                swal("", $("#span_OutputSfgIsUsed").text().replace("sf_output_name", ('@Model.UsedInProducts').split('_')[0])
                    .replace("fg_product_name", ('@Model.UsedInProducts').split('_')[1]), "warning");
            </script>
        }
        if (Message == "ErrorInMail")
        {
            <script type="text/javascript">
                swal("", $("#Emailsendingfailedduetotechnicalissue").text(), "warning");
            </script>
        }
        if (Message == "Duplicate")
        {
            Disable = false;
        }
        //Session.Remove("MessageBOM");
    }
}
<title>@Model.Title</title>
@using (Html.BeginForm("BillofMaterialSave", "BillofMaterial", FormMethod.Post, new { enctype = "multipart/form-data" }))
{
    @Html.AntiForgeryToken()
    {
        <div class="row">
            <!-- Alternate Item Detail -->
            <div id="AlternateItemDetail" class="modal fade" role="dialog">
                <div class="modal-dialog" style="max-width:800px;" id="PopupAlternateItemDetail">
                    <!-- Modal content-->
                    @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/PartialBOMAlternateItemDetail.cshtml")
                </div>
                <table id="HdnTable_AltItemDetail" hidden>
                    <tbody>
                        @if (ViewBag.AltenateItemDetail != null)
                        {
                            foreach (DataRow dr in ViewBag.AltenateItemDetail.Rows)
                            {
                                <tr>
                                    <td id="td_altOpId">@dr["op_id"]</td>
                                    @*<td id="td_altItemType"></td>*@
                                    <td id="td_altParentItemId">@dr["item_id"]</td>
                                    @*<td id="td_altParentUomId"></td>*@
                                    <td id="td_altItemName">@dr["alt_item_name"]</td>
                                    <td id="td_altItemId">@dr["alt_item_id"]</td>
                                    <td id="td_altUom">@dr["uom_alias"]</td>
                                    <td id="td_altUomId">@dr["uom_id"]</td>
                                    <td id="td_altItemQty">@dr["qty"]</td>
                                    <td id="td_altItemCost">@dr["item_cost"]</td>
                                </tr>
                            }
                        }

                    </tbody>
                </table>
                @Html.HiddenFor(m => m.hdnBomAltItemDetail, new { @id = "hdnBomAltItemDetail" })
                @if (Disable)
                {
                    <input id="disabledAltItem" hidden value="Y">
                }
                else
                {
                    if (Model.DocumentStatus == "A")
                    {
                        if (Model.TransTypeBOM == "Revision")
                        {
                            <input id="disabledAltItem" hidden value="N">
                        }
                        else
                        {
                            <input id="disabledAltItem" hidden value="Y">
                        }
                    }
                    else
                    {
                        <input id="disabledAltItem" hidden value="N">
                    }
                }
            </div>
            <!-- Item Information -->
            <div id="ItemInfo" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    @Html.Partial("~/Areas/Common/Views/_ItemInfomation.cshtml")
                </div>
            </div>
            <!-- Forward Information -->
            <div id="Forward_Pop" class="modal fade" role="dialog">
                <div class="modal-dialog">
                    <!-- Modal content-->
                    @Html.Partial("~/Areas/Common/Views/PartialForward.cshtml")
                </div>
            </div>
            <!-- Workflow Information -->
            <div id="WorkflowInformation" class="modal fade" role="dialog">
                <div class="modal-dialog" style="max-width:700px;">
                    <!-- Modal content-->
                    @Html.Partial("~/Areas/Common/Views/_WorkFlow.cshtml")

                </div>
            </div>

            <div class="col-md-12 col-sm-12 ">
                <div class="x_panel mar_pad1 ">
                    <div class="x_content mar_pad1">
                        <h2 class="col-md-5 col-sm-12 heading_left_padding ">@ViewBag.MenuPageName</h2>
                        <div id="wizard" class="form_wizard wizard_horizontal col-md-3 col-sm-12 work_flow">
                            @Html.Partial("~/Areas/Common/Views/_PartialWorkflowBar.cshtml")
                        </div>
                        <input type="hidden" id="DocumentMenuId" value="@ViewBag.DocumentMenuId" />
                        <div id="" class="col-md-4 col-sm-12 work_flow heading_right_padding">
                            @{
                                //var btnName = Session["BtnName"].ToString();
                                var btnName = Model.BtnName;
                                switch (btnName)
                                {
                                    case "BtnAddNew":
                                        <ul>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115001")
                                                    {
                                                        <li>
                                                            <button class="add"
                                                                    title="@Resource.AddNew" disabled style="filter: grayscale(100%)" type="submit" id="btn_add" name="Command" value="AddNew" onclick="RemoveSessionData()"></button>
                                                        </li>

                                                    }
                                                    if (Row["feature_id"].ToString() == "105105115002")
                                                    {
                                                        <li>
                                                            <button class="edit"
                                                                    title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit" onclick="EnableEditkBtn()"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105115004")
                                                    {
                                                        <li>
                                                            <button class="delete"
                                                                    title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                        </li>
                                                        @Html.HiddenFor(m => m.DeleteCommand, new { @id = "HdDeleteCommand" })
                                                    }
                                                }
                                            }


                                            <li>
                                                <button class="save"
                                                        title="@Resource.Save" type="submit" onclick="return  validateBOMDetailInsert();" id="btn_save" name="Command" value="Save"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="forward"
                                                            title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                </li>
                                            }

                                            <li>
                                                <button class="approve"
                                                        title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="workflow"
                                                            title="@Resource.Workflow" type="submit" id="Btn_Workflow" onclick="return ForwardHistoryBtnClick();" data-toggle="modal" data-target="#WorkflowInformation" data-backdrop="static" data-keyboard="false" name="Command" value="Workflow"></button>
                                                </li>
                                            }
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115008")
                                                    {
                                                        <li>
                                                            <button class="revision"
                                                                    title="@Resource.Revision" disabled style="filter: grayscale(100%)" type="submit" id="btn_rev" name="Command" value="Revision"></button>
                                                        </li>
                                                    }
                                                }
                                            }

                                            <li>
                                                <button class="refresh"
                                                        title="@Resource.Refresh" type="submit" id="btn_refresh" name="Command" value="Refresh"></button>
                                            </li>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115005")
                                                    {
                                                        <li>
                                                            <button class="print"
                                                                    title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                                        </li>
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="back"
                                                        title="@Resource.Back" disabled style="filter: grayscale(100%)" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                            </li>
                                        </ul>
                                        break;
                                    case "BtnRefresh":
                                        <ul>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115001")
                                                    {
                                                        <li>
                                                            <button class="add"
                                                                    title="@Resource.AddNew" type="submit" id="btn_add" name="Command" value="AddNew"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105115002")
                                                    {
                                                        <li>
                                                            <button class="edit"
                                                                    title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105115004")
                                                    {
                                                        <li>
                                                            <button class="delete"
                                                                    title="@Resource.Delete" disabled onclick="return functionConfirm(this)" style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                        </li>
                                                        @Html.HiddenFor(m => m.DeleteCommand, new { @id = "HdDeleteCommand" })
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="save"
                                                        title="@Resource.Save" onclick="return  validateBOMDetailInsert();" disabled style="filter: grayscale(100%)" type="submit" id="btn_save" name="Command" value="Save"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="forward"
                                                            title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                </li>
                                            }

                                            <li>
                                                <button class="approve"
                                                        title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="workflow"
                                                            title="@Resource.Workflow" type="submit" id="Btn_Workflow" onclick="return ForwardHistoryBtnClick();" data-toggle="modal" data-target="#WorkflowInformation" data-backdrop="static" data-keyboard="false" name="Command" value="Workflow"></button>
                                                </li>
                                            }
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115008")
                                                    {
                                                        <li>
                                                            @if (Model.DocumentStatus == "A")
                                                            {
                                                                <button class="revision"
                                                                        title="@Resource.Revision" type="submit" id="btn_rev" name="Command" value="Revision"></button>
                                                            }
                                                        </li>
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="refresh"
                                                        title="@Resource.Refresh" disabled style="filter: grayscale(100%)" type="submit" id="btn_refresh" name="Command" value="Refresh"></button>
                                            </li>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115005")
                                                    {
                                                        <li>
                                                            <button class="print"
                                                                    title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                                        </li>
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="back"
                                                        title="@Resource.Back" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                            </li>
                                        </ul>
                                        break;
                                    case "BtnDelete":
                                        <ul>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115001")
                                                    {
                                                        <li>
                                                            <button class="add"
                                                                    title="@Resource.AddNew" type="submit" id="btn_add" name="Command" value="AddNew"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105115002")
                                                    {
                                                        <li>
                                                            <button class="edit"
                                                                    title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105115004")
                                                    {
                                                        <li>
                                                            <button class="delete"
                                                                    title="@Resource.Delete" onclick="return functionConfirm(this)" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                        </li>
                                                        @Html.HiddenFor(m => m.DeleteCommand, new { @id = "HdDeleteCommand" })
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="save"
                                                        title="@Resource.Save" onclick="return validateBOMDetailInsert()" disabled style="filter: grayscale(100%)" type="submit" id="btn_save" name="Command" value="Save"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="forward"
                                                            title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                </li>
                                            }

                                            <li>
                                                <button class="approve"
                                                        title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="workflow"
                                                            title="@Resource.Workflow" type="submit" id="Btn_Workflow" onclick="return ForwardHistoryBtnClick();" data-toggle="modal" data-target="#WorkflowInformation" data-backdrop="static" data-keyboard="false" name="Command" value="Workflow"></button>
                                                </li>
                                            }
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115008")
                                                    {
                                                        <li>
                                                            <button class="revision"
                                                                    title="@Resource.Revision" disabled style="filter: grayscale(100%)" type="submit" id="btn_rev" name="Command" value="Revision"></button>
                                                        </li>
                                                    }
                                                }
                                            }

                                            <li>
                                                <button class="refresh"
                                                        title="@Resource.Refresh" disabled style="filter: grayscale(100%)" type="submit" id="btn_refresh" name="Command" value="Refresh"></button>
                                            </li>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115005")
                                                    {
                                                        <li>
                                                            <button class="print"
                                                                    title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                                        </li>
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="back"
                                                        title="@Resource.Back" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                            </li>
                                        </ul>
                                        break;
                                    case "Refresh":
                                        <ul>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115001")
                                                    {
                                                        <li>
                                                            <button class="add"
                                                                    title="@Resource.AddNew" type="submit" id="btn_add" name="Command" value="AddNew"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105115002")
                                                    {
                                                        <li>
                                                            <button class="edit"
                                                                    title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105115004")
                                                    {
                                                        <li>
                                                            <button class="delete"
                                                                    title="@Resource.Delete" onclick="return functionConfirm(this)" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                        </li>
                                                        @Html.HiddenFor(m => m.DeleteCommand, new { @id = "HdDeleteCommand" })
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="save"
                                                        title="@Resource.Save" disabled style="filter: grayscale(100%)" onclick="return validateBOMDetailInsert()" type="submit" id="btn_save" name="Command" value="Save"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="forward"
                                                            title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                </li>
                                            }

                                            <li>
                                                <button class="approve"
                                                        title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="workflow"
                                                            title="@Resource.Workflow" type="submit" id="Btn_Workflow" onclick="return ForwardHistoryBtnClick();" data-toggle="modal" data-target="#WorkflowInformation" data-backdrop="static" data-keyboard="false" name="Command" value="Workflow"></button>
                                                </li>
                                            }
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115008")
                                                    {
                                                        <li>
                                                            <button class="revision"
                                                                    title="@Resource.Revision" disabled style="filter: grayscale(100%)" type="submit" id="btn_rev" name="Command" value="Revision"></button>
                                                        </li>
                                                    }
                                                }
                                            }

                                            <li>
                                                <button class="refresh"
                                                        title="@Resource.Refresh" disabled style="filter: grayscale(100%)" type="submit" id="btn_refresh" name="Command" value="Refresh"></button>
                                            </li>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115005")
                                                    {
                                                        <li>
                                                            <button class="print"
                                                                    title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                                        </li>
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="back"
                                                        title="@Resource.Back" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                            </li>
                                        </ul>
                                        break;
                                    case "BtnToDetailPage":
                                        <ul>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115001")
                                                    {
                                                        <li>
                                                            <button class="add"
                                                                    title="@Resource.AddNew" type="submit" id="btn_add" name="Command" value="AddNew"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105115002")
                                                    {
                                                        if (Model.DocumentStatus == "A" || Model.DocumentStatus == "D")
                                                        {
                                                            <li>
                                                                <button class="edit" onclick=" EditBtnClick()"
                                                                        title="@Resource.Edit" type="submit" id="btn_edit" name="Command" value="Edit"></button>
                                                            </li>
                                                        }
                                                        else
                                                        {
                                                            <li>
                                                                <button class="edit" onclick=" EditBtnClick()" disabled style="filter: grayscale(100%)"
                                                                        title="@Resource.Edit" type="submit" id="btn_edit" name="Command" value="Edit"></button>
                                                            </li>
                                                        }
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105115004")
                                                    {
                                                        if (Model.DocumentStatus == "D")
                                                        {
                                                            <li>
                                                                <button class="delete"
                                                                        title="@Resource.Delete" onclick="return functionConfirm(this)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                            </li>
                                                        }
                                                        else
                                                        {
                                                            <li>
                                                                <button class="delete"
                                                                        title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                            </li>
                                                        }
                                                        @Html.HiddenFor(m => m.DeleteCommand, new { @id = "HdDeleteCommand" })
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="save"
                                                        title="@Resource.Save" disabled style="filter: grayscale(100%)" onclick="return validateBOMDetailInsert()" type="submit" id="btn_save" name="Command" value="Save"></button>
                                            </li>

                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    @if (Model.DocumentStatus == "D" || Model.DocumentStatus == "F")
                                                    {
                                                        if (ViewBag.ForwardEnbl == "Y")
                                                        {/*start Add by Hina on 19-02-2024 to chk Financial year exist or not*/
                                                            if (ViewBag.Message == "Financial Year not Exist")
                                                            {/*data-target="" value will be balnk in this case*/
                                                                <button class="forward"
                                                                        title="@Resource.Forward" type="button" id="btn_forward" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="" data-backdrop="static" data-keyboard="false" name="Command" value="Forward"></button>

                                                            }/*End to chk Financial year exist or not*/
                                                            else
                                                            {
                                                                <button class="forward"
                                                                        title="@Resource.Forward" type="button" id="btn_forward" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" name="Command" value="Forward"></button>

                                                            }/*commented by Hina on 19-02-2024 to chk Financial year exist or not*/
                                                            @*<button class="forward"
                                                                title="@Resource.Forward" type="submit" id="btn_forward" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" name="Command" value="Forward"></button>*@
                                                        }
                                                        else
                                                        {
                                                            <button class="forward"
                                                                    title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                        }
                                                    }
                                                    else
                                                    {
                                                        <button class="forward"
                                                                title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                    }
                                                </li>
                                            }


                                            <li>
                                                @if (Model.DocumentStatus == "D" || Model.DocumentStatus == "F")
                                                {
                                                    if (ViewBag.Approve == "Y")
                                                    {
                                                        if (ViewBag.AppLevel.Rows.Count > 0)
                                                        {/*start Add by Hina on 19-02-2024 to chk Financial year exist or not*/
                                                            if (ViewBag.Message == "Financial Year not Exist")
                                                            {/*data-target="" value will be balnk in this case*/
                                                                <button class="approve"
                                                                        title="@Resource.Approve" type="button" id="btn_approve" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="" data-backdrop="static" data-keyboard="false" name="Command" value="Approve"></button>

                                                            }/*End to chk Financial year exist or not*/
                                                            else
                                                            {
                                                                <button class="approve"
                                                                        title="@Resource.Approve" type="button" id="btn_approve" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" name="Command" value="Approve"></button>

                                                            }/*commented by Hina on 19-02-2024 to chk Financial year exist or not*/
                                                            @*<button class="approve"
                                                                title="@Resource.Approve" type="submit" id="btn_approve" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" name="Command" value="Approve"></button>*@
                                                        }
                                                        else
                                                        {
                                                            <button class="approve"
                                                                    title="@Resource.Approve" type="submit" onclick="approveonclick()" id="btn_approve" name="Command" value="Approve"></button>
                                                        }
                                                    }
                                                    else
                                                    {
                                                        <button class="approve"
                                                                title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                                    }
                                                }
                                                else
                                                {
                                                    <button class="approve"
                                                            title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                                }
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="workflow"
                                                            title="@Resource.Workflow" type="submit" id="Btn_Workflow" onclick="return ForwardHistoryBtnClick();" data-toggle="modal" data-target="#WorkflowInformation" data-backdrop="static" data-keyboard="false" name="Command" value="Workflow"></button>
                                                </li>
                                            }
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115008")
                                                    {
                                                        if (Model.DocumentStatus == "A")
                                                        {
                                                            <li>
                                                                <button class="revision"
                                                                        title="@Resource.Revision" type="submit" id="btn_rev" name="Command" value="Revision"></button>
                                                            </li>
                                                        }
                                                        else
                                                        {
                                                            <li>
                                                                <button class="revision"
                                                                        title="@Resource.Revision" disabled style="filter: grayscale(100%)" type="submit" id="btn_rev" name="Command" value="Revision"></button>
                                                            </li>
                                                        }
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="refresh"
                                                        title="@Resource.Refresh" disabled style="filter: grayscale(100%)" type="submit" id="btn_refresh" name="Command" value="Refresh"></button>
                                            </li>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115005")
                                                    {
                                                        <li>
                                                            <button class="print"
                                                                    title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                                        </li>
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="back"
                                                        title="@Resource.Back" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                            </li>
                                        </ul>
                                        break;
                                    case "BtnSave":
                                        <ul>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115001")
                                                    {
                                                        <li>
                                                            <button class="add"
                                                                    title="@Resource.AddNew" type="submit" id="btn_add" name="Command" value="AddNew"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105115002")
                                                    {
                                                        <li>
                                                            <button class="edit"
                                                                    title="@Resource.Edit" type="submit" id="btn_edit" name="Command" value="Edit"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105115004")
                                                    {
                                                        if (Model.DocumentStatus == "A")
                                                        {
                                                            <li>
                                                                <button class="delete"
                                                                        title="@Resource.Delete" onclick="return functionConfirm(this)" type="submit" id="btn_del" disabled style="filter: grayscale(100%)" name="Command" value="Delete"></button>
                                                            </li>
                                                        }
                                                        else
                                                        {
                                                            <li>
                                                                <button class="delete"
                                                                        title="@Resource.Delete" onclick="return functionConfirm(this)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                            </li>

                                                        }
                                                        @Html.HiddenFor(m => m.DeleteCommand, new { @id = "HdDeleteCommand" })
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="save"
                                                        title="@Resource.Save" disabled style="filter: grayscale(100%)" onclick="return validateBOMDetailInsert()" type="submit" id="btn_save" name="Command" value="Save"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    @if (Model.DocumentStatus == "D" || Model.DocumentStatus == "F")
                                                    {
                                                        if (ViewBag.ForwardEnbl == "Y")
                                                        {
                                                            <button class="forward"
                                                                    title="@Resource.Forward" type="button" id="btn_forward" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" name="Command" value="Forward"></button>
                                                        }
                                                        else
                                                        {
                                                            <button class="forward"
                                                                    title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                        }
                                                    }
                                                    else
                                                    {
                                                        <button class="forward"
                                                                title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                    }
                                                </li>
                                            }

                                            <li>
                                                @if (Model.DocumentStatus == "D" || Model.DocumentStatus == "F")
                                                {
                                                    if (ViewBag.Approve == "Y")
                                                    {
                                                        if (ViewBag.AppLevel.Rows.Count > 0)
                                                        {
                                                            <button class="approve"
                                                                    title="@Resource.Approve" type="button" id="btn_approve" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" name="Command" value="Approve"></button>
                                                        }
                                                        else
                                                        {
                                                            <button class="approve"
                                                                    title="@Resource.Approve" type="submit" onclick="approveonclick()" id="btn_approve" name="Command" value="Approve"></button>
                                                        }
                                                    }
                                                    else
                                                    {
                                                        <button class="approve"
                                                                title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                                    }
                                                }
                                                else
                                                {
                                                    <button class="approve"
                                                            title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                                }
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="workflow"
                                                            title="@Resource.Workflow" type="submit" id="Btn_Workflow" onclick="return ForwardHistoryBtnClick();" data-toggle="modal" data-target="#WorkflowInformation" data-backdrop="static" data-keyboard="false" name="Command" value="Workflow"></button>
                                                </li>
                                            }
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115008")
                                                    {
                                                        <li>
                                                            <button class="revision"
                                                                    title="@Resource.Revision" disabled style="filter: grayscale(100%)" type="submit" id="btn_rev" name="Command" value="Revision"></button>
                                                        </li>
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="refresh"
                                                        title="@Resource.Refresh" type="submit" id="btn_refresh" name="Command" value="Refresh"></button>
                                            </li>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105115005")
                                                    {
                                                        <li>
                                                            <button class="print"
                                                                    title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                                        </li>
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="back"
                                                        title="@Resource.Back" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                            </li>
                                        </ul>
                                        break;
                                }
                            }

                        </div>
                        <div class="x_title pad_mar ">
                            @Html.HiddenFor(model => model.WFBarStatus, new { @id = "WFBarStatus" })
                            @Html.HiddenFor(model => model.WFStatus, new { @id = "WFStatus" })
                            @Html.HiddenFor(model => model.create_id, new { @id = "Create_ID" })
                            @Html.HiddenFor(m => m.WF_status1, new { @id = "WF_status1", value = Model.WF_status1 })
                            @Html.HiddenFor(m => m.TransTypeBOM, new { @id = "WF_status1" })
                            @Html.HiddenFor(model => model.hdnsaveApprovebtn, new { @id = "hdnsavebtn" })
                            @Html.HiddenFor(model => model.ListFilterData1, new { @id = "ListFilterData1" })
                            <div class="col-md-12 col-sm-12 icon_tool ">
                                <div class="approved_by">
                                    <ul>
                                        @*@if (Model.TransTypeBOM == "Revision")*@
                                        @if (Model.TransTypeBOM == "Revision")
                                        {
                                            <li><span>@Resource.CreatedBy<br><b></b></span></li>
                                            <li><span>@Resource.Createdon<br><b></b></span></li>
                                            <li><span>@Resource.ApprovedBy<br><b></b></span></li>
                                            <li><span>@Resource.ApprovedOn<br><b></b></span></li>
                                            <li><span>@Resource.AmendedBy<br><b></b></span></li>
                                            <li><span>@Resource.AmendedOn<br><b></b></span></li>
                                            <li><span>@Resource.Status<br><b></b></span></li>
                                        }
                                        else
                                        {
                                            <li><span>@Resource.CreatedBy<br><b>@Html.DisplayFor(model => model.create_name)</b></span></li>
                                            <li><span>@Resource.Createdon<br><b>@Html.DisplayFor(model => model.create_dt)</b></span></li>
                                            <li><span>@Resource.ApprovedBy<br><b>@Html.DisplayFor(model => model.app_name)</b></span></li>
                                            <li><span>@Resource.ApprovedOn<br><b>@Html.DisplayFor(model => model.app_dt)</b></span></li>
                                            <li><span>@Resource.AmendedBy<br><b>@Html.DisplayFor(model => model.mod_name)</b></span></li>
                                            <li><span>@Resource.AmendedOn<br><b>@Html.DisplayFor(model => model.mod_dt)</b></span></li>
                                            <li><span>@Resource.Status<br><b>@Html.DisplayFor(model => model.bom_status_Name)</b></span></li>
                                        }
                                    </ul>
                                </div>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-12 col-sm-12 ">
                <div class="x_panel mar_pad1 ">
                    <div class="x_content mar_pad1">
                        <div class="row">
                            <div class="col-md-3 no-padding">
                                <div class="col-md-11 col-sm-12 pr-0">
                                    <input type="hidden" id="hdncompid" name="hdncompid" value="@Session["compid"].ToString()" />
                                    <input type="hidden" id="hdnBranchId" name="hdnBranchId" value="@Session["BranchId"].ToString()" />
                                    <label class="col-form-label label-align">@Resource.ProductName <span class="required">*</span></label>
                                    @Html.HiddenFor(model => model.bom_status, new { @id = "hdn_bom_status" })
                                    @Html.HiddenFor(model => model.DocDate, new { @id = "hdn_bom_DocDate" })
                                    @if (Disable)
                                    {
                                        <select class="form-control" id="ddl_ProductName" name="Status" disabled>
                                        </select>
                                        @Html.HiddenFor(model => model.product_id, new { @id = "hdn_product_id" })
                                        @Html.HiddenFor(model => model.product_name, new { @id = "hdn_product_name" })
                                        @Html.ValidationMessageFor(model => model.product_id, String.Empty, new { @id = "vmddl_ProductName" })
                                    }
                                    else
                                    {
                                        if (Model.CommandBOM == "Edit")
                                        {
                                            <select class="form-control" id="ddl_ProductName" name="Status" onchange="ddl_ProductName_onchange()" disabled>
                                            </select>
                                            @Html.HiddenFor(model => model.product_id, new { @id = "hdn_product_id" })
                                            @Html.HiddenFor(model => model.product_name, new { @id = "hdn_product_name" })
                                            @Html.ValidationMessageFor(model => model.product_id, String.Empty, new { @id = "vmddl_ProductName" })
                                        }
                                        else
                                        {
                                            if (Model.CommandBOM == "Revision")
                                            {
                                                <select class="form-control" id="ddl_ProductName" name="Status" onchange="ddl_ProductName_onchange()" disabled>
                                                </select>
                                                @Html.HiddenFor(model => model.product_id, new { @id = "hdn_product_id" })
                                                @Html.HiddenFor(model => model.product_name, new { @id = "hdn_product_name" })
                                                @Html.ValidationMessageFor(model => model.product_id, String.Empty, new { @id = "vmddl_ProductName" })
                                            }
                                            else
                                            {
                                                <select class="form-control" id="ddl_ProductName" name="Status" onchange="ddl_ProductName_onchange()">
                                                </select>
                                                @Html.HiddenFor(model => model.product_id, new { @id = "hdn_product_id" })
                                                @Html.HiddenFor(model => model.product_name, new { @id = "hdn_product_name" })
                                                @Html.ValidationMessageFor(model => model.product_id, String.Empty, new { @id = "vmddl_ProductName" })
                                            }
                                        }

                                    }

                                </div>
                                <div class="col-sm-1 i_Icon margin28 pr-0">
                                    <button type="button" id="ItmInfoBtnIcon" class="calculator" onclick="OnClickIconBtn(event);" data-toggle="modal" data-target="#ItemInfo" data-backdrop="static" data-keyboard="false"> <img src="/Content/Images/iIcon1.png" alt="" title=" @Resource.ItemInformation"> </button>
                                </div>

                            </div>
                            <div class="col-md-1 col-sm-12 pl-0">
                                <label class="col-form-label label-align">@Resource.UOM </label>
                                @if (Disable)
                                {
                                    @Html.TextBoxFor(model => model.uom_Name, new { @id = "UOM", @name = "UOM", @class = "form-control", @placeholder = "UOM", disabled = "disabled" })
                                    @Html.HiddenFor(model => model.uom_id, new { @id = "UOMID" })
                                    @Html.ValidationMessageFor(model => model.uom_id, String.Empty, new { @style = "color:red;!important", @id = "vmuom_id" })
                                }
                                else
                                {
                                    @Html.TextBoxFor(model => model.uom_Name, new { @id = "UOM", @name = "UOM", @class = "form-control", @placeholder = "UOM", disabled = "disabled" })
                                    @Html.HiddenFor(model => model.uom_id, new { @id = "UOMID" })
                                    @Html.ValidationMessageFor(model => model.uom_id, String.Empty, new { @style = "color:red;!important", @id = "vmuom_id" })
                                }

                            </div>
                            <div class="col-md-1 col-sm-12 pl-0">
                                <label class="col-form-label label-align">@Resource.Quantity <span class="required">*</span> </label>

                                @if (Disable)
                                {
                                    @Html.TextBoxFor(model => model.qty, new { @id = "txt_Quantity", @class = "form-control num_right", @placeholder = "0000.00", autocomplete = "off", onchange = "OnChangetxt_Quantity()", @onpaste = "return CopyPasteAvoidFloat(event)", @disabled = "disabled" })
                                    @Html.ValidationMessageFor(model => model.qty, String.Empty, new { @style = "color:red;!important", @id = "vm_Quantity" })
                                }
                                else
                                {
                                    if (Model.CommandBOM == "Edit")
                                    {
                                        @Html.TextBoxFor(model => model.qty, new { @id = "txt_Quantity", @class = "form-control num_right", @placeholder = "0000.00", autocomplete = "off", onchange = "OnChangetxt_Quantity()", @onpaste = "return CopyPasteAvoidFloat(event)", @disabled = "disabled" })
                                        @Html.ValidationMessageFor(model => model.qty, String.Empty, new { @style = "color:red;!important", @id = "vm_Quantity" })
                                    }
                                    else
                                    {
                                        @Html.TextBoxFor(model => model.qty, new { @id = "txt_Quantity", @class = "form-control num_right", @placeholder = "0000.00", autocomplete = "off", onchange = "OnChangetxt_Quantity()", @onpaste = "return CopyPasteAvoidFloat(event)", @onkeypress = "return numValueOnly(this,event)", onkeyup = "OnChangetxt_Quantity()", @maxlength = "10" })
                                        @Html.ValidationMessageFor(model => model.qty, String.Empty, new { @style = "color:red;!important", @id = "vm_Quantity" })
                                    }
                                }
                            </div>

                            <div class="col-md-7 no-padding">
                                <div class="col-md-2 pl-0">
                                    <label class="col-form-label label-align">@Resource.RevisionNumber </label>

                                    @if (Disable)
                                    {
                                        @Html.TextBoxFor(model => model.rev_no, new { @id = "txt_RevisionNumber", @class = "form-control num_right", @placeholder = "Revision Number", autocomplete = "off", @readonly = "readonly" })
                                        @Html.ValidationMessageFor(model => model.rev_no, String.Empty, new { @style = "color:red;!important", @id = "vm_RevisionNumber" })
                                    }
                                    else
                                    {
                                        @Html.TextBoxFor(model => model.rev_no, new { @id = "txt_RevisionNumber", @class = "form-control num_right", @placeholder = "Revision Number", autocomplete = "off", @readonly = "readonly" })
                                        @Html.ValidationMessageFor(model => model.rev_no, String.Empty, new { @style = "color:red;!important", @id = "vm_RevisionNumber" })
                                    }
                                </div>
                                <div class="col-md-3 col-sm-12 pl-0">
                                    <label class="col-form-label label-align"> @Resource.ReplicateWith</label>
                                    @if (Disable || Model.CommandBOM == "Edit")
                                    {
                                        <select class="form-control" id="ddlReplicateWith" name="ReplicateWith" onchange="ddlReplicateWith_onchange()" disabled>
                                        </select>

                                        @* @Html.DropDownListFor(model => model.ReplicateWith, new SelectList(Model.ReplicateWithLists, "item_id", "item_name"), new
                                            {
                                                @id = "ddlReplicateWith",
                                                @class = "form-control",
                                                @disabled = "disabled"@onchange = "ddlReplicateWith_onchange()"})*@
                                        @Html.HiddenFor(model => model.ReplicateWith, new { @id = "hdn_ReplicateWith" })


                                    }
                                    else
                                    {
                                        <select class="form-control" id="ddlReplicateWith" name="ReplicateWith" onchange="ddlReplicateWith_onchange()">
                                        </select>
                                        //  @Html.DropDownListFor(model => model.ReplicateWith, new SelectList(Model.ReplicateWithLists, "item_id", "item_name"), new { @class = "form-control", id = "ddlReplicateWith", @disabled = "disabled", @onchange = "ddlReplicateWith_onchange()" })
                                        @Html.HiddenFor(model => model.ReplicateWith, new { @id = "hdn_ReplicateWith" })
                                    }
                                </div>
                                <div class="col-md-3 col-sm-12 pl-0 pr-0">
                                    <label class="col-form-label label-align">@Resource.Default @Resource.Shopfloor </label>
                                    @*<select class="form-control"  id="" name="">
                                            <option value="0">---Select---</option>
                                            <option value="10079">11</option>
                                            <option value="10086">121</option>
                                        </select>*@
                                    @if ((Disable || Model.bom_status == "A"))
                                    {
                                        if (Model.CommandBOM != "Revision")
                                        {
                                            @Html.DropDownListFor(model => model.ddl_ShopfloorName, new SelectList(Model.ShopFloorList, "shfl_id", "shfl_name"), new { @id = "ddl_ShopfloorName", @class = "form-control", @disabled = "disabled" })
                                            ///@Html.ValidationMessageFor(model => model.ddl_ShopfloorName, String.Empty, new { @style = "color:red;!important", @id = "vm_ddl_ShopfloorName" })
                                            @Html.HiddenFor(model => model.ddl_ShopfloorName, new { @id = "hdn_ShopfloorName" })
                                        }
                                        else
                                        {
                                            @Html.DropDownListFor(model => model.ddl_ShopfloorName, new SelectList(Model.ShopFloorList, "shfl_id", "shfl_name"), new { @class = "form-control", id = "ddl_ShopfloorName", @onchangeshopfloore = "ddl_ShopfloorName_onchange()" })
                                            //@Html.ValidationMessageFor(model => model.ddl_ShopfloorName, String.Empty, new { @style = "color:red;!important", @id = "vm_ddl_ShopfloorName" })
                                            @Html.HiddenFor(model => model.ddl_ShopfloorName, new { @id = "hdn_ShopfloorName" })
                                        }

                                    }
                                    else
                                    {
                                        @Html.DropDownListFor(model => model.ddl_ShopfloorName, new SelectList(Model.ShopFloorList, "shfl_id", "shfl_name"), new { @class = "form-control", id = "ddl_ShopfloorName", @onchangeshopfloore = "ddl_ShopfloorName_onchange()" })
                                        //@Html.ValidationMessageFor(model => model.ddl_ShopfloorName, String.Empty, new { @style = "color:red;!important", @id = "vm_ddl_ShopfloorName" })
                                        @Html.HiddenFor(model => model.ddl_ShopfloorName, new { @id = "hdn_ShopfloorName" })
                                    }
                                </div>
                                <div class="col-md-2 col-sm-12">
                                    <div class="custom-control custom-switch margin25" style="margin-left:15px;">

                                        @if (Disable)
                                        {

                                            @Html.CheckBoxFor(modal => modal.act_status, new
                                            {
                                                @class = "custom-control-input col-md-3 col-sm-12 margin-switch",
                                                @checked = "checked",
                                                @id = "chk_act_status",
                                                disabled = "disabled"
                                            })
                                        }
                                        else
                                        {
                                            if (Model.TransTypeBOM == "Save")
                                            {
                                                @Html.CheckBoxFor(modal => modal.act_status, new
                                                {
                                                    @class = "custom-control-input col-md-3 col-sm-12 margin-switch",
                                                    @checked = "checked",
                                                    @id = "chk_act_status",
                                                    disabled = "disabled"
                                                })
                                            }
                                            if (Model.CommandBOM == "Edit" && Model.DocumentStatus == "D")
                                            {
                                                @Html.CheckBoxFor(modal => modal.act_status, new
                                           {
                                               @class = "custom-control-input col-md-3 col-sm-12 margin-switch",
                                               @checked = "checked",
                                               @id = "chk_act_status",
                                               disabled = "disabled"
                                                })
                                            }
                                            else if (Model.CommandBOM == "Edit" && Model.DocumentStatus == "A")
                                            {
                                                @Html.CheckBoxFor(modal => modal.act_status, new
                                           {
                                               @class = "custom-control-input col-md-3 col-sm-12 margin-switch",
                                               @checked = "checked",
                                               @id = "chk_act_status",
                                               onclick = "onclick_chk_act_status()"
                                           })
                                            }
                                            if (Model.TransTypeBOM == "Revision")
                                            {
                                                @Html.CheckBoxFor(modal => modal.act_status, new
                                                   {
                                                       @class = "custom-control-input col-md-3 col-sm-12 margin-switch",
                                                       @checked = "checked",
                                                       @id = "chk_act_status",
                                                       disabled = "disabled"
                                                })
                                            }
                                        }

                                        <label class="custom-control-label col-md-9 col-sm-12" for="chk_act_status" style="padding: 3px 0px;"> @Resource.Active  </label>
                                    </div>
                                </div>
                                <div class="col-md-2 col-sm-12">
                                    <div class="custom-control custom-switch margin25">
                                        @if (Disable || Model.act_status == false)
                                        {

                                            @Html.CheckBoxFor(modal => modal.def_status, new
                                            {
                                                @class = "custom-control-input col-md-3 col-sm-12 margin-switch",
                                                @checked = "checked",
                                                @id = "chk_def_status",
                                                disabled = "disabled"
                                            })
                                        }
                                        else
                                        {
                                            if (Model.TransTypeBOM == "Save")
                                            {
                                                @Html.CheckBoxFor(modal => modal.def_status, new
                                                {
                                                    @class = "custom-control-input col-md-3 col-sm-12 margin-switch",
                                                    @checked = "checked",
                                                    @id = "chk_def_status",
                                                    disabled = "disabled"
                                                })
                                            }
                                            else
                                            {
                                                if (Model.TransTypeBOM == "Revision")
                                                {

                                                    @Html.CheckBoxFor(modal => modal.def_status, new
                                                    {
                                                        @class = "custom-control-input col-md-3 col-sm-12 margin-switch",
                                                        @checked = "checked",
                                                        @id = "chk_def_status",
                                                        disabled = "disabled"
                                                    })
                                                }
                                                else if (Model.CommandBOM == "Edit" && Model.DocumentStatus == "A")
                                                {
                                                    @Html.CheckBoxFor(modal => modal.def_status, new
                                                    {
                                                        @class = "custom-control-input col-md-3 col-sm-12 margin-switch",
                                                        @checked = "checked",
                                                        @id = "chk_def_status"
                                                    })
                                                }
                                                else
                                                {

                                                    @Html.CheckBoxFor(modal => modal.def_status, new
                                               {
                                                   @class = "custom-control-input col-md-3 col-sm-12 margin-switch",
                                                   @checked = "checked",
                                                   @id = "chk_def_status",
                                                   disabled = "disabled"
                                               })
                                                }
                                            }
                                        }

                                        <label class="custom-control-label col-md-9 col-sm-12" for="chk_def_status" style="padding: 3px 0px;"> @Resource.Default </label>
                                    </div>
                                </div>
                                <div class="clear"></div>
                            </div>
                            <div class="col-md-2">
                                <label class="col-form-label label-align"> @Resource.OperationName <span class="required">*</span></label>
                                @if (Disable)
                                {
                                    @Html.DropDownListFor(model => model.OperationNameStatus, new SelectList(Model.OperationNameList, "op_id", "op_name"), new { @id = "ddl_opName", @class = "form-control", disabled = "disabled" })
                                    @Html.ValidationMessageFor(model => model.OperationNameStatus, String.Empty, new { @style = "color:red;!important", @id = "vm_ddl_opName" })

                                }
                                else
                                {
                                    if (Model.DocumentStatus == "A")
                                    {
                                        if (Model.TransTypeBOM == "Revision")
                                        {
                                            @Html.DropDownListFor(model => model.OperationNameStatus, new SelectList(Model.OperationNameList, "op_id", "op_name"), new
                                       {
                                           @class = "form-control",
                                           id = "ddl_opName",
                                                onchange = "ddl_OPNameChange()"
                                            })
                                            @Html.ValidationMessageFor(model => model.OperationNameStatus, String.Empty, new { @style = "color:red;!important", @id = "vm_ddl_opName" })
                                        }
                                        else
                                        {
                                            @Html.DropDownListFor(model => model.OperationNameStatus, new SelectList(Model.OperationNameList, "op_id", "op_name"), new { @id = "ddl_opName", @class = "form-control", disabled = "disabled" })
                                            @Html.ValidationMessageFor(model => model.OperationNameStatus, String.Empty, new { @style = "color:red;!important", @id = "vm_ddl_opName" })
                                        }
                                    }
                                    else
                                    {
                                        @Html.DropDownListFor(model => model.OperationNameStatus, new SelectList(Model.OperationNameList, "op_id", "op_name"), new
                                        {
                                            @class = "form-control",
                                            id = "ddl_opName",
                                            onchange = "ddl_OPNameChange()"
                                        })
                                        @Html.ValidationMessageFor(model => model.OperationNameStatus, String.Empty, new { @style = "color:red;!important", @id = "vm_ddl_opName" })
                                    }
                                }
                            </div>
                            <div class="col-md-2 col-sm-12">
                                <label class="col-form-label label-align"> @Resource.ItemType <span class="required">*</span></label>
                                @if (Disable)
                                {
                                    <select class="form-control" id="ddlItemType" disabled>
                                        <option value="0">---Select---</option>
                                        <option value="IW">Input-SFG</option>
                                        <option value="IR">Input-RM</option>
                                        @*<option value="A">Input-Alternate Item</option>*@ @*commented by Suraj on 13-10-2023*@
                                        <option value="P">Input-Packaging</option>
                                        <option value="OW">Output-SFG</option>
                                        <option value="B">Output-By Product</option>
                                        <option value="OF">Output-FG</option>
                                        <option value="OS">Output-Scrap</option>
                                    </select>
                                }
                                else
                                {
                                    if (Model.DocumentStatus == "A")
                                    {
                                        if (Model.TransTypeBOM == "Revision")
                                        {
                                            <select class="form-control" id="ddlItemType" onchange="ddlItemType_onchange()">
                                                <option value="0">---Select---</option>
                                                <option value="IW">Input-SFG</option>
                                                <option value="IR">Input-RM</option>
                                                @*<option value="A">Input-Alternate Item</option>*@ @*commented by Suraj on 13-10-2023*@
                                                <option value="P">Input-Packaging</option>
                                                <option value="OW">Output-SFG</option>
                                                <option value="B">Output-By Product</option>
                                                <option value="OF">Output-FG</option>
                                                <option value="OS">Output-Scrap</option>
                                            </select>
                                        }
                                        else
                                        {
                                            <select class="form-control" id="ddlItemType" disabled>
                                                <option value="0">---Select---</option>
                                                <option value="IW">Input-SFG</option>
                                                <option value="IR">Input-RM</option>
                                                @*<option value="A">Input-Alternate Item</option>*@ @*commented by Suraj on 13-10-2023*@
                                                <option value="P">Input-Packaging</option>
                                                <option value="OW">Output-SFG</option>
                                                <option value="B">Output-By Product</option>
                                                <option value="OF">Output-FG</option>
                                                <option value="OS">Output-Scrap</option>
                                            </select>
                                        }
                                    }
                                    else
                                    {
                                        <select class="form-control" id="ddlItemType" onchange="ddlItemType_onchange()">
                                            <option value="0">---Select---</option>
                                            <option value="IW">Input-SFG</option>
                                            <option value="IR">Input-RM</option>
                                            @*<option value="A">Input-Alternate Item</option>*@ @*commented by Suraj on 13-10-2023*@
                                            <option value="P">Input-Packaging</option>
                                            <option value="OW">Output-SFG</option>
                                            <option value="B">Output-By Product</option>
                                            <option value="OF">Output-FG</option>
                                            <option value="OS">Output-Scrap</option>
                                        </select>
                                    }
                                }
                                <span id="spanItemType" class="error_message"></span>
                            </div>
                            <div class="col-md-3 col-sm-12">
                                <label class="col-form-label label-align"> @Resource.ItemName <span class="required">*</span></label>
                                @if (Disable)
                                {
                                    <select class="form-control" id="ddl_ItemName" name="ddl_ItemName" onchange="ddl_ItemName_onchange()" disabled>
                                    </select>
                                    @Html.HiddenFor(model => model.id_ItemName, new { @id = "hdn_ddl_ItemNameId" })
                                    @Html.ValidationMessageFor(model => model.id_ItemName, String.Empty, new { @style = "color:red;!important", @id = "vmddl_ItemName" })
                                }
                                else
                                {
                                    if (Model.DocumentStatus == "A")
                                    {
                                        if (Model.TransTypeBOM == "Revision")
                                        {
                                            <select class="form-control" id="ddl_ItemName" name="ddl_ItemName" onchange="ddl_ItemName_onchange()">
                                            </select>
                                            @Html.HiddenFor(model => model.id_ItemName, new { @id = "hdn_ddl_ItemNameId" })
                                            @Html.ValidationMessageFor(model => model.id_ItemName, String.Empty, new { @style = "color:red;!important", @id = "vmddl_ItemName" })
                                        }
                                        else
                                        {
                                            <select class="form-control" id="ddl_ItemName" name="ddl_ItemName" onchange="ddl_ItemName_onchange()" disabled>
                                            </select>
                                            @Html.HiddenFor(model => model.id_ItemName, new { @id = "hdn_ddl_ItemNameId" })
                                            @Html.ValidationMessageFor(model => model.id_ItemName, String.Empty, new { @style = "color:red;!important", @id = "vmddl_ItemName" })
                                        }
                                    }
                                    else
                                    {
                                        <select class="form-control" id="ddl_ItemName" name="ddl_ItemName" onchange="ddl_ItemName_onchange()">
                                        </select>
                                        @Html.HiddenFor(model => model.id_ItemName, new { @id = "hdn_ddl_ItemNameId" })
                                        @Html.ValidationMessageFor(model => model.id_ItemName, String.Empty, new { @style = "color:red;!important", @id = "vmddl_ItemName" })
                                    }
                                }
                            </div>

                            <div class="col-md-2 col-sm-12">
                                <label class="col-form-label label-align"> @Resource.UOM</label>

                                @if (Disable)
                                {
                                    <select id="Txt_UOM_itemName" class="form-control date" onchange="OnChangeTxtUom('Txt_UOM_itemName','ddl_ItemName')" name="UOM_itemName" disabled>
                                        <option value="0">---Select---</option>
                                    </select>
                                    @*<input id="Txt_UOM_itemName" class="form-control date" autocomplete="off" type="text" name="UOM_itemName" value="" required="required" placeholder="@Resource.UOM" disabled>*@
                                    @Html.HiddenFor(model => model.uomItemName_id, new { @id = "hdn_Txt_UOM_itemName" })
                                    @Html.ValidationMessageFor(model => model.uomItemName_id, String.Empty, new { @style = "color:red;!important", @id = "vmTxt_UOM_itemName" })
                                }
                                else
                                {
                                    <select id="Txt_UOM_itemName" class="form-control date" onchange="OnChangeTxtUom('Txt_UOM_itemName','ddl_ItemName')" name="UOM_itemName">
                                        <option value="0">---Select---</option>
                                    </select>
                                    @*<input id="Txt_UOM_itemName" class="form-control date" autocomplete="off" type="text" name="UOM_itemName" value="" required="required" placeholder="@Resource.UOM" disabled>*@
                                    @Html.HiddenFor(model => model.uomItemName_id, new { @id = "hdn_Txt_UOM_itemName" })
                                    @Html.ValidationMessageFor(model => model.uomItemName_id, String.Empty, new { @style = "color:red;!important", @id = "vmTxt_UOM_itemName" })
                                }
                            </div>
                            <div class="col-md-2 col-sm-12">
                                <label class="col-form-label label-align">@Resource.Quantity <span class="required">*</span></label>
                                @if (Disable)
                                {
                                    <input id="txtQuantityItemName" class="form-control date num_right" autocomplete="off" type="text" name="Quantity" placeholder="0000:00" disabled>
                                }
                                else
                                {
                                    if (Model.DocumentStatus == "A")
                                    {
                                        if (Model.TransTypeBOM == "Revision")
                                        {
                                            <input id="txtQuantityItemName" class="form-control date num_right" autocomplete="off" type="text" name="Quantity" placeholder="0000:00" onchange="OnclickReqQty(event)" onkeypress="return AmtFloatQtyonly(this,event)" oninput="OnChangeTxtQty()" maxlength="10">
                                        }
                                        else
                                        {
                                            <input id="txtQuantityItemName" class="form-control date num_right" autocomplete="off" type="text" name="Quantity" placeholder="0000:00" disabled>
                                        }
                                    }
                                    else
                                    {
                                        <input id="txtQuantityItemName" class="form-control date num_right" autocomplete="off" type="text" name="Quantity" placeholder="0000:00" onchange="OnclickReqQty(event)" onkeypress="return AmtFloatQtyonly(this,event)" oninput="OnChangeTxtQty()" maxlength="10">
                                    }
                                }
                                <span id="spanQuantityItemName" class="error_message"></span>
                            </div>

                            @if (Model.TransTypeBOM == "Save" || Model.CommandBOM == "Edit" || Model.TransTypeBOM == "Revision")
                            {
                                if (Model.DocumentStatus == "A")
                                {
                                    if (Model.TransTypeBOM == "Revision")
                                    {
                                        <div class="col-md-1 col-sm-12" id="divAddNew">
                                            <a href="#">
                                                <div class="plus_icon2"> <i class="fa fa-plus" id="ParaNewAddBtn" onclick="AddNewRow(@Session["compid"].ToString(),@Session["BranchId"].ToString())" title="@Resource.AddNew" aria-describedby="tooltip449856"></i> </div>
                                            </a>
                                        </div>
                                        <div class="col-md-1 col-sm-12" id="divUpdate">
                                            <a href="#" style="color:#ffffff;">
                                                <div class="plus_icon2"> <i class="fa fa-refresh ref" id="ParaItemUpdateBtn" onclick="OnClickParaItemUpdateBtn(this)" title="@Resource.Update"></i> </div>
                                                <input type="hidden" id="hdnUpdateInTable" />
                                            </a>
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="col-md-1 col-sm-12" id="divAddNew">
                                            <a href="#">    </a>
                                        </div>
                                        <div class="col-md-1 col-sm-12" id="divUpdate">
                                            <a href="#" style="color:#ffffff;">

                                                <input type="hidden" id="hdnUpdateInTable" />
                                            </a>
                                        </div>
                                    }
                                }
                                else
                                {
                                    <div class="col-md-1 col-sm-12" id="divAddNew">
                                        <a href="#">
                                            <div class="plus_icon2"> <i class="fa fa-plus" id="ParaNewAddBtn" onclick="AddNewRow(@Session["compid"].ToString(),@Session["BranchId"].ToString())" title="@Resource.AddNew" aria-describedby="tooltip449856"></i> </div>
                                        </a>
                                    </div>
                                    <div class="col-md-1 col-sm-12" id="divUpdate">
                                        <a href="#" style="color:#ffffff;">
                                            <div class="plus_icon2"> <i class="fa fa-refresh ref" id="ParaItemUpdateBtn" onclick="OnClickParaItemUpdateBtn(this)" title="@Resource.Update"></i> </div>
                                            <input type="hidden" id="hdnUpdateInTable" />
                                        </a>
                                    </div>
                                }
                            }

                        </div>
                        <input type="hidden" id="hdnitemcost" name="hdnitemcost" value="" />
                        @Html.HiddenFor(model => model.bomitemattr, new { @id = "hdnbomitemattr" })
                        @*<div class="card-box table-responsive dy_table margin25">
                            <div class="sticky-table sticky-ltr-cells sb-container container-example1">
                                <div class="tableFixHead height50VH">*@
                        <input type="hidden" id="hdn_Item_Value" />
                        <div class="card-box table-responsive dy_table margin10">
                            @*<div class="price_item_detail ">*@
                            <div class="tableFixHead height55VH ">
                                <table class="table table-bordered margin5" id="tbladd">
                                    <thead>
                                        <tr class="headings">
                                            <th width="1%">&nbsp; </th>
                                            <th width="3%">@Resource.SrNo</th>
                                            <th width="15%">
                                                @Resource.OperationName
                                            </th>
                                            @*<th width="20"> &nbsp; </th>
                                                <th width="20"> &nbsp; </th>*@
                                            <th width="18%">
                                                @Resource.ItemType
                                            </th>
                                            <th hidden="hidden"></th>
                                            <th width="25%">
                                                @Resource.ItemName
                                            </th>
                                            <th hidden="hidden"></th>
                                            <th width="8%" title="@Resource.UnitOfMeasure">
                                                @Resource.UOM
                                            </th>
                                            <th hidden="hidden"></th>
                                            <th width="10%">
                                                @Resource.Quantity
                                            </th>
                                            <th width="10%">@Resource.ItemCost</th>
                                            <th width="10%">@Resource.Value</th>
                                            <th hidden="hidden"></th>
                                            <th hidden="hidden"></th>
                                        </tr>
                                    </thead>
                                    <tbody id="tbladd_body">
                                        @{
                                            Int32 first_loop = 1;
                                            Int32 contain_row = 0;
                                            Int32 countrow = 0;
                                            Int32 k = 0;
                                            int srno = 0;
                                            float totalVal = 0;

                                        }
                                        @if (Model != null && Model.BOM_Item_Detail_List != null)
                                        {
                                            Int32 lengthcount = Model.BOM_Item_Detail_List.Count;
                                            if (lengthcount == 1)
                                            {
                                                first_loop = 0;
                                            }
                                            Int32 opid = 0;
                                            string opname = "";

                                            for (int i = first_loop; i < Model.BOM_Item_Detail_List.Count; i++)
                                            {
                                                countrow = 0;
                                                srno = srno + 1;
                                                if (first_loop == 0)
                                                {
                                                    opid = Model.BOM_Item_Detail_List[i].op_op_id;
                                                    opname = Model.BOM_Item_Detail_List[i].op_op_name;
                                                    contain_row = Model.BOM_Item_Detail_List[i].op_contain_row;
                                                    i = i + 1;
                                                }
                                                else
                                                {
                                                    opid = Model.BOM_Item_Detail_List[i - 1].op_op_id;
                                                    opname = Model.BOM_Item_Detail_List[i - 1].op_op_name;
                                                    contain_row = Model.BOM_Item_Detail_List[i - 1].op_contain_row;
                                                }
                                                int j = 0;
                                                <tr id="tr_@opid">
                                                    @if (Disable)
                                                    {
                                                        <td width="20" class="red center bom_width_td"> <i class="fa fa-trash" disabled style="filter: grayscale(100%)" aria-hidden="true" title="@Resource.Delete"></i></td>
                                                    }
                                                    else
                                                    {
                                                        if (Model.DocumentStatus == "A")
                                                        {
                                                            if (Model.TransTypeBOM == "Revision")
                                                            {
                                                                <td width="20" class="red center bom_width_td"> <i class="fa fa-trash" aria-hidden="true" title="@Resource.Delete" onclick="deleteMainRow(this, event, @opid, '@Model.BOM_Item_Detail_List[i - 1].op_item_id', '@Model.BOM_Item_Detail_List[i - 1].op_Item_type')"></i></td>
                                                            }
                                                            else
                                                            {
                                                                <td width="20" class="red center bom_width_td"> <i class="fa fa-trash" disabled style="filter: grayscale(100%)" aria-hidden="true" title="@Resource.Delete"></i></td>
                                                            }
                                                        }
                                                        else
                                                        {
                                                            <td width="20" class="red center bom_width_td"> <i class="fa fa-trash" aria-hidden="true" title="@Resource.Delete" onclick="deleteMainRow(this, event, @opid, '@Model.BOM_Item_Detail_List[i - 1].op_item_id', '@Model.BOM_Item_Detail_List[i - 1].op_Item_type')"></i></td>
                                                        }
                                                    }
                                                    <td id="srno" class="sr_padding">@srno</td>
                                                    <td id="opname">@opname</td>
                                                    <td hidden="hidden"><input type="hidden" id="tbl_hdn_ddl_op_id" value="@opid"></td>
                                                    <td colspan="6" class="no-padding">
                                                        <table id="tbl_@opid" border="0" width="100%">
                                                            <tbody id="tbody_@opid">

                                                                @for (j = contain_row; j > 0; j--)
                                                                {
                                                                    countrow++;
                                                                    i = first_loop++;
                                                                    totalVal += (float)Convert.ToDecimal(Model.BOM_Item_Detail_List[k].op_item_value);
                                                                    <tr>
                                                                        @if (Disable)
                                                                        {
                                                                            <td width="20" class="red center bom_width_td"> <i class="fa fa-trash" disabled style="filter: grayscale(100%)" aria-hidden="true" title="@Resource.Delete"></i></td>
                                                                        }
                                                                        else
                                                                        {
                                                                            if (Model.DocumentStatus == "A")
                                                                            {
                                                                                if (Model.TransTypeBOM == "Revision")
                                                                                {
                                                                                    <td class="red center bom_width_td"> <i class="fa fa-trash" aria-hidden="true" title="@Resource.Delete" onclick="deleteRow(this, event, @opid, '@Model.BOM_Item_Detail_List[k].op_item_id', '@Model.BOM_Item_Detail_List[k].op_Item_type')"></i></td>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <td class="red center bom_width_td"> <i class="fa fa-trash" disabled style="filter: grayscale(100%)" aria-hidden="true" title="@Resource.Delete"></i></td>
                                                                                }
                                                                            }
                                                                            else
                                                                            {
                                                                                <td class="red center bom_width_td"> <i class="fa fa-trash" aria-hidden="true" title="@Resource.Delete" onclick="deleteRow(this, event, @opid, '@Model.BOM_Item_Detail_List[k].op_item_id', '@Model.BOM_Item_Detail_List[k].op_Item_type')"></i></td>
                                                                            }
                                                                        }
                                                                        @if (Disable)
                                                                        {
                                                                            <td class="bom_width_td">
                                                                                @if (Model.BOM_Item_Detail_List[k].op_Item_type != "OF" && Model.BOM_Item_Detail_List[k].op_Item_type != "IW")
                                                                                {
                                                                                    <i class="fa fa-edit" aria-hidden="true" id="" title="@Resource.Edit"></i>
                                                                                }
                                                                            </td>
                                                                        }
                                                                        else
                                                                        {
                                                                            if (Model.DocumentStatus == "A")
                                                                            {
                                                                                if (Model.TransTypeBOM == "Revision")
                                                                                {
                                                                                    <td class="bom_width_td">
                                                                                        @if (Model.BOM_Item_Detail_List[k].op_Item_type != "OF" && Model.BOM_Item_Detail_List[k].op_Item_type != "IW")
                                                                                        {
                                                                                            <i class="fa fa-edit" aria-hidden="true" id="" title="@Resource.Edit" onclick="editRow(this, event, @opid)"></i>
                                                                                        }

                                                                                    </td>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <td class="bom_width_td">
                                                                                        @if (Model.BOM_Item_Detail_List[k].op_Item_type != "OF" && Model.BOM_Item_Detail_List[k].op_Item_type != "IW")
                                                                                        {
                                                                                            <i class="fa fa-edit" aria-hidden="true" id="" title="@Resource.Edit"></i>
                                                                                        }
                                                                                    </td>
                                                                                }
                                                                            }
                                                                            else
                                                                            {
                                                                                <td class="bom_width_td">
                                                                                    @if (Model.BOM_Item_Detail_List[k].op_Item_type != "OF" && Model.BOM_Item_Detail_List[k].op_Item_type != "IW")
                                                                                    {
                                                                                        <i class="fa fa-edit" aria-hidden="true" id="" title="@Resource.Edit" onclick="editRow(this, event, @opid)"></i>
                                                                                    }
                                                                                </td>
                                                                            }
                                                                        }
                                                                        <td id="op_Item_type_name" width="17%">
                                                                            <div class="col-sm-10 no-padding">
                                                                                @Model.BOM_Item_Detail_List[k].op_Item_type_name
                                                                            </div>
                                                                            @if (Model.BOM_Item_Detail_List[k].op_Item_type == "IR" || Model.BOM_Item_Detail_List[k].op_Item_type.Trim() == "P")
                                                                            {
                                                                                <div class="col-sm-2 i_Icon">
                                                                                    <button type="button" id="btnAltItemInfo" class="calculator alter @(Model.BOM_Item_Detail_List[k].alt_fill=="Y"?"green1":"")" onclick="OnClickAlternateItem(event)" data-toggle="modal" data-target="#AlternateItemDetail" data-backdrop="static" data-keyboard="false" title="@Resource.Alternate @Resource.ItemDetail"> <i class="fa fa-th-large" aria-hidden="true"></i> @*<img src="/Content/Images/alternate.png" alt="" title="@Resource.Alternate @Resource.ItemDetail">*@ </button>
                                                                                </div>
                                                                            }

                                                                        </td>
                                                                        <td hidden="hidden"><input type="hidden" id="tbl_hdn_ddl_ItemType_ID" value="@Model.BOM_Item_Detail_List[k].op_Item_type"></td>
                                                                        <td id="op_item_name" width="32%">
                                                                            <div class="col-sm-11 no-padding">@Model.BOM_Item_Detail_List[k].op_item_name</div>
                                                                            <div class="col-sm-1 i_Icon">
                                                                                <button type="button" id="ItmInfoBtnIcon" class="calculator" onclick="OnClickIconBtn(event,'@Model.BOM_Item_Detail_List[k].op_item_id','@Model.BOM_Item_Detail_List[k].op_item_name','edit');" data-toggle="modal" data-target="#ItemInfo" data-backdrop="static" data-keyboard="false"> <img src="/Content/Images/iIcon1.png" alt="" title="@Resource.ItemInformation"> </button>
                                                                            </div>
                                                                        </td>
                                                                        <td hidden="hidden"><input type="hidden" id="tbl_hdn_ddl_ItemName_ID" value="@Model.BOM_Item_Detail_List[k].op_item_id"></td>
                                                                        <td id="op_uom_name" width="12%">@Model.BOM_Item_Detail_List[k].op_uom_name</td>
                                                                        <td hidden="hidden"><input type="hidden" id="tbl_hdn_UOM_itemName" value="@Model.BOM_Item_Detail_List[k].op_uom_id"></td>
                                                                        <td id="op_qty" width="13%" class="num_right">@Model.BOM_Item_Detail_List[k].op_qty</td>
                                                                        <td hidden="hidden"><input type="hidden" id="tbl_hdn_txtQuantityItemName" value="@Model.BOM_Item_Detail_List[k].op_qty"></td>
                                                                        <td id="op_item_cost" width="13%" class="num_right">@Model.BOM_Item_Detail_List[k].op_item_cost</td>
                                                                        <td hidden="hidden"><input type="hidden" id="tbl_hdn_itemcost" value="@Model.BOM_Item_Detail_List[k].op_item_cost"></td>
                                                                        <td id="op_item_value" width="13%" class="num_right">@Model.BOM_Item_Detail_List[k].op_item_value</td>
                                                                        <td hidden="hidden"><input type="hidden" id="tbl_hdn_totalitemvalue" value="@Model.BOM_Item_Detail_List[k].op_item_value"></td>
                                                                        <td hidden="hidden"><input type="hidden" name="ChildRowNo" id="ChildRowNo"><input type="hidden" name="ChildTableId" id="ChildTableId"> </td>
                                                                        <td hidden="hidden"><input type="hidden" name="tbl_hdn_id" id="tbl_hdn_id" value="@opid"> </td>
                                                                        <td hidden='hidden'><input type='hidden' name='tbl_hdn_seq_no' id='tbl_hdn_seq_no' value="@Model.BOM_Item_Detail_List[k].seq_no" /></td>
                                                                    </tr>
                                                                    k++;
                                                                }
                                                            </tbody>
                                                        </table>
                                                    </td>
                                                </tr>
                                                contain_row = 0;
                                            }
                                        }
                                    </tbody>
                                    <tfoot>
                                        @*<tr class="total">
                                                <td colspan='8' class="num_right"><strong>@Resource.Total</strong> </td>
                                                <td class="num_right"><strong><span id="TotalVal">@totalVal</span></strong></td>
                                            </tr>*@
                                    </tfoot>
                                </table>
                            </div>
                            @*</div>*@
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
}