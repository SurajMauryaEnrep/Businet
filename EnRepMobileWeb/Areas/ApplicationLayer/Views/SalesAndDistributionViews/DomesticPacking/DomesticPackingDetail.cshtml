@model EnRepMobileWeb.MODELS.ApplicationLayer.SalesAndDistribution.DomesticPacking.DomesticPackingDetail_Model
@using EnRepMobileWeb.Resources;
@using EnRepMobileWeb.MODELS.Common;
@using System.Data;
<script src="~/Content/Css/jquery/dist/jquery.min.js"></script>
<script src="~/Content/Css/build/js/sweetalert.js"></script>
<script src="~/Content/Scripts/ApplicationLayer/SalesAndDistribution/DomesticPacking/DomesticPackingDetail.js"></script>
@*/*start Add by Hina on 16-02-2024 to chk Financial year exist or not*/*@
@{
    if (TempData["Message"] != null)
    {
        if (TempData["Message"].ToString() == "Financial Year not Exist")
        {
            <script type="text/javascript">
                swal("", $("#FinancialYearDoesNotExistTransactionCanNotBeDone").text(), "warning");
            </script>
        }

    }
    /*Add by Hina sharma on 08-05-2025 to check Existing with previous year transaction*/
    if (TempData["Message1"] != null)
    {
        if (TempData["Message1"].ToString() == "TransNotAllow")
        {
            <script type="text/javascript">
                swal("", $("#NomodificationisallowedinpreviousFYdocument").text(), "warning");
            </script>
        }

    }
}
@*/*End to chk Financial year exist or not*/*@
@if (Session["UserId"] == null)
{
    Response.Redirect("~/Login");
}
<style>
    .Hidden {
        display: none;
    }

    button#PackingBoxbtn {
        padding: 0px;
        padding-left: 1px;
    }

    .packing {
        border: solid 2px #dc3545 !important;
    }

    /*#PDItmDetailsTbl .tableFixHead thead th {
        position: sticky;
        top: 0;
        left: 0;
        z-index: 5;
        text-align: center;
    }

    #PDItmDetailsTbl td:nth-child(4) {
        position: sticky;
        top: 0;
        left: 0;
        z-index: 5;
        text-align: center;
    }

    #PDItmDetailsTbl th:nth-child(4) {
        position: sticky;
        left: 0;
        z-index: 20;
    }*/

    .select2-results div.OrderNumber {
        width: auto !important;
        min-width: 750px;
    }
</style>


@{
    Layout = "~/Views/Shared/_MasterLayout.cshtml";
}
@{
    //var rowId = 0;
    //var srrow = 0;
    var Disable = true;
    var ForDisable = "Enable";
    var disablePrintbtn = "";
    //if (Model.TransType == "Update")
    if (Model.TransType == "Update")
    {
        if (Model.Command == "Edit")
        {
            Disable = false;
        }
        else
        {
            Disable = true;
        }
    }
    else
    {
        if (Model.Command == "Refresh")
        {
            Disable = true;

        }
        else
        {
            Disable = false;
        }
    }
    if (Disable)
    {
        ForDisable = "Disable";
    }
    Model.Disable = Disable;
    //if (Model.StatusCode == "C" || Model.pack_no == null || ((Model.StatusCode == "D" || Model.StatusCode == "A") && Model.Command == "Edit"))/*Add by Hina sharma on 11-10-2024*/
    if (Model.pack_no == null || ((Model.StatusCode == "D" || Model.StatusCode == "A") && Model.Command == "Edit"))/*Add by Hina sharma on 11-10-2024*/
    {

        disablePrintbtn = "disabled style=filter:grayscale(100%)";
    }
    else if (Model.pack_no != null)
    {
        if (Model.pack_no.Split('(').Count() > 1)
        {
            disablePrintbtn = "disabled style=filter:grayscale(100%)";
        }
    }
}
@{
    if (Model.Message != null)
    {
        Model.hdnsaveApprovebtn = null;
        if (Model.Message == "Save")
        {
            <script type="text/javascript">
                swal("", $("#savemsg").text(), "success");
            </script>
        }
        if (Model.Message == "Deleted")
        {
            <script type="text/javascript">
                swal("", $("#deletemsg").text(), "success");
            </script>
        }
        if (Model.Message == "Approved")
        {
            <script type="text/javascript">
                swal("", $("#approvemsg").text(), "success");
            </script>
        }
        if (Model.Message == "Cancelled")
        {
            <script type="text/javascript">
                swal("", $("#cancelmsg").text(), "success");
            </script>
        }
        if (Model.Message == "StockNotAvail")
        {
            <script type="text/javascript">
                swal("", $("#SelectedlotqtyhasbeenchangedDoccantbesaved").text(), "warning");
            </script>
        }
        if (Model.Message == "Used")
        {
            <script type="text/javascript">
                swal("", $("#ShipmentHasBnPrcsdCanNotBeMdfd").text(), "warning");
            </script>
        }
        if (Model.Message == "DocModify")
        {
            <script type="text/javascript">
                swal("", $("#SourceDocumentHasBeenModifiedCanNotProceed").text(), "warning");
            </script>
        }
        if (Model.Message == "StockNotAvailable")
        {
            <script type="text/javascript">
                swal("", $("#SelectedlotqtyhasbeenchangedDoccantbesaved").text(), "warning");
            </script>
        }
        if (Model.Message == "ErrorInMail")
        {
            <script type="text/javascript">
                swal("", $("#Emailsendingfailedduetotechnicalissue").text(), "warning");
            </script>
        }
        Model.Message = null;
    }
}
<title>@Model.Title</title>
@using (Html.BeginForm("PackingListSave", "DomesticPacking", FormMethod.Post, new { enctype = "multipart/form-data", id = "PackingListForm" }))
{
    @Html.AntiForgeryToken()
    {
        ;<div class="row">
    <!-- Item Information -->
    <div id="ItemInfo" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            @Html.Partial("~/Areas/Common/Views/_ItemInfomation.cshtml")
        </div>
    </div>
    <!-- Customer Information -->
    <div id="CustomerInformation" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="price_item_detail">
                <!-- Modal content-->
                @Html.Partial("~/Areas/Common/Views/_CustomerInformation.cshtml")
            </div>
        </div>
    </div>
    <!-- WareHouse Information -->
    <div id="WareHouse" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Warehouse WiseStock-->
            <div id="ItemStockWareHouseWise">
                @Html.Partial("~/Areas/Common/Views/PartialItemStockWareHouseWise.cshtml")
            </div>
        </div>
    </div>
    <!-- Workflow Information -->
    <div id="WorkflowInformation" class="modal fade" role="dialog">
        <div class="modal-dialog" style="max-width:700px;">
            <!-- Modal content-->
            @Html.Partial("~/Areas/Common/Views/_WorkFlow.cshtml")
        </div>
    </div>
    <!-- Sales Invoice Print -->
    <div id="SalesInvoicePrint" class="modal fade" role="dialog">
        <div class="modal-dialog" style="max-width:700px;">
            <!-- Modal content-->
            @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/PartialSalesInvoiceForPrint.cshtml")
        </div>
    </div>
    <!-- Forward Information -->
    <div id="Forward_Pop" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            @Html.Partial("~/Areas/Common/Views/PartialForward.cshtml")
        </div>
    </div>
    <!-- Mail Information -->
    <div id="MailInfo" class="modal fade" role="dialog">
        <div class="modal-dialog" style="max-width:600px;">
            <!-- Modal content-->
            @Html.Partial("~/Areas/Common/Views/Cmn_MailInfomation.cshtml")
        </div>
    </div>
    <!-- Multiple Mail Information -->
    <div id="MultipleMailInfo" class="modal fade" role="dialog">
        <div class="modal-dialog" style="max-width:800px;">
            <!-- Modal content-->
            @Html.Partial("~/Areas/Common/Views/Cmn_MultipleMailInfo.cshtml")
        </div>
    </div>

    <!-- Mail View -->
    <div id="MailView" class="modal fade" role="dialog">
        <div class="modal-dialog" style="max-width:800px;">
            <!-- Modal content-->
            @Html.Partial("~/Areas/Common/Views/Cmn_MailView.cshtml")
        </div>
    </div>

    <!-- Log View -->
    <div id="LogView" class="modal fade" role="dialog">
        <div id="IdLogView" class="modal-dialog" style="max-width:800px;">
            <!-- Modal content-->
            @Html.Partial("~/Areas/Common/Views/Cmn_LogView.cshtml")
        </div>
    </div>
    <!-- Batch Number -->
    <div id="BatchNumber" class="modal fade" role="dialog">
        <div class="modal-dialog" style=" max-width:1200px;">
            <!-- Modal content-->
            <div id="ItemStockBatchWisePaking">
                @*@Html.Partial("~/Areas/ApplicationLayer/Views/Shared/PartialPackingListItemStockBatchWise.cshtml")*@
            </div>
            @Html.HiddenFor(model => model.ItemBatchWiseDetail, new { @id = "HDSelectedBatchwise" })
            <table id="SaveItemBatchTbl" class="table table-bordered" style="display:none">
                <thead>
                    <tr>
                        <th>LOTNo</th>
                        <th>ItemId</th>
                        <th>UOMID</th>
                        <th>BatchNO</th>
                        <th>BatchResStock</th>
                        <th>BatchAvlStock</th>
                        <th>PackedQuantity</th>
                        <th>expiryDate</th>
                        <th>Saleble</th>
                    </tr>
                </thead>
                <tbody>
                    @if (ViewBag.ItemStockBatchWise != null)
                    {
                        foreach (System.Data.DataRow Row in ViewBag.ItemStockBatchWise.Rows)
                        {
                            <tr>
                                <td><input type="text" id="PD_BatchLotNo" value="@Row["lot_id"].ToString()" /></td>
                                <td><input type="text" id="PD_BatchItemId" value="@Row["item_id"].ToString()" /></td>
                                <td><input type="text" id="PD_BatchUOMId" value="@Row["uom_id"].ToString()" /></td>
                                <td><input type="text" id="PD_BatchBatchNo" value="@Row["batch_no"].ToString()" /></td>
                                <td><input type="text" id="PD_BatchResAvlStk" value="@Row["resqty"].ToString()" /></td>
                                <td><input type="text" id="PD_BatchBatchAvlStk" value="@Row["avl_batch_qty"].ToString()" /></td>
                                <td><input type="text" id="PD_BatchIssueQty" value="@Row["issue_qty"].ToString()" /></td>
                                <td><input type="text" id="PD_BatchExpiryDate" value="@Row["expiry_date"].ToString()" /></td>
                                <td><input type="text" id="PD_bt_sale" value="@Row["bt_sale"].ToString()" /></td>
                                <td><input type="text" id="PD_bt_mfg_name" value="@Row["mfg_name"].ToString()" /></td>
                                <td><input type="text" id="PD_bt_mfg_mrp" value="@Row["mfg_mrp"].ToString()" /></td>
                                <td><input type="text" id="PD_bt_mfg_date" value="@Row["mfg_date"].ToString()" /></td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
    <!-- Serial Detail -->
    <div id="SerialDetail" class="modal fade" role="dialog">
        <div class="modal-dialog" style=" max-width:500px;">
            <!-- Modal content-->
            <div id="ItemStockSerialWise">
                @*Commented by Suraj Maurya on 28-11-2025 due to not in use*@
                @*@Html.Partial("~/Areas/Common/Views/Comn_PartialItemStockSerialWise.cshtml")*@
            </div>
            @Html.HiddenFor(model => model.ItemSerialWiseDetail, new { @id = "HDSelectedSerialwise" })
            <table id="SaveItemSerialTbl" class="table table-bordered" style="display:none">
                <thead>
                    <tr class="headings" disabled="disabled">
                        <th>ItemId</th>
                        <th>UOMID</th>
                        <th>LOTNO</th>
                        <th>PackedQuantity</th>
                        <th>SerialNO</th>
                    </tr>
                </thead>
                <tbody>
                    @if (ViewBag.ItemStockSerialWise != null)
                    {
                        foreach (System.Data.DataRow Row in ViewBag.ItemStockSerialWise.Rows)
                        {
                            if (@Row["SerailSelected"].ToString() == "Y")
                            {
                                <tr>
                                    <td><input type="text" id="PD_SerialItemId" value="@Row["item_id"].ToString()" /></td>
                                    <td><input type="text" id="PD_SerialUOMId" value="@Row["uom_id"].ToString()" /></td>
                                    <td><input type="text" id="PD_SerialLOTNo" value="@Row["lot_id"].ToString()" /></td>
                                    <td><input type="text" id="PD_SerialIssueQty" value="1" /></td>
                                    <td><input type="text" id="PD_BatchSerialNO" value="@Row["serial_no"].ToString()" /></td>
                                    <td><input type="text" id="PD_SerialMfgName" value="@Row["mfg_name"].ToString()" /></td>
                                    <td><input type="text" id="PD_SerialMfgMrp" value="@Row["mfg_mrp"].ToString()" /></td>
                                    <td><input type="text" id="PD_SerialMfgDate" value="@Row["mfg_date"].ToString()" /></td>
                                </tr>
                            }
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
    <!-- Packaging Detail -->
    <div id="PackagingDetail" class="modal fade" role="dialog">
        <div class="modal-dialog" style=" max-width:700px;">
            <!-- Modal content-->
            <div id="ItemPackagingDetails">
                @Html.Partial("~/Areas/Common/Views/Comn_PartialPackagingDetail.cshtml")
            </div>
            @Html.HiddenFor(model => model.ItemPackagingDetail, new { @id = "hdPackagingDetails" })
            <table id="SaveItemPackagingDetails" class="table table-bordered" style="display:none">
                <thead>
                    <tr>
                        <th>ItemID</th>
                        <th>PackagingItemID</th>
                        <th>Dimension</th>
                        <th>PackedQty</th>
                        <th>NoOfPacks</th>
                        <th>TotalCBM</th>
                    </tr>
                </thead>
                <tbody>
                    @if (ViewBag.ItemPackagingDetails != null)
                    {
                        foreach (System.Data.DataRow Row in ViewBag.ItemPackagingDetails.Rows)
                        {
                            <tr>
                                <td><input type="text" id="PD_ItemID" value="@Row["item_id"].ToString()" /></td>
                                <td><input type="text" id="PD_PackagingItemID" value="@Row["packagingitem_id"].ToString()" /></td>
                                <td><input type="text" id="PD_PackagingDimension" value="@Row["packaging_dim"].ToString()" /></td>
                                <td><input type="text" id="PD_PackagingPackedQty" value="@Row["ackaging_packedqty"].ToString()" /></td>
                                <td><input type="text" id="PD_PackagingNoofPacks" value="@Row["packaging"].ToString()" /></td>
                                <td><input type="text" id="PD_PackagingTotalCBM" value="@Row["packaging"].ToString()" /></td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
    <!-- Packing Detail -->
    <div id="PackingListDetail" class="modal fade" role="dialog">
        <div class="modal-dialog TaxCalculatorPop" style=" max-width:1000px;">
            <!-- Modal content-->
            @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/PartialPackingDetail.cshtml")
        </div>
    </div>
    <input hidden value="@ViewBag.PackSerialization" id="HdnPackSerialization" />
    @Html.HiddenFor(model => model.PackingSrlznDetail, new { @id = "hdn_PackingSrlzn" })
    <!-- Quantity Detail -->
    <div id="QuantityDetail" class="modal fade" role="dialog">
        <div class="modal-dialog" style=" max-width:1100px;">
            <!-- Modal content-->
            <div id="ItemOrderQuantityDetail">
                @Html.Partial("~/Areas/Common/Views/Comn_PartialQuantityDetail.cshtml")
            </div>
            @Html.HiddenFor(model => model.ItemOrderQtyDetail, new { @id = "hdOrderQtyDetails" })
            <table id="SaveItemOrderQtyDetails" class="table table-bordered" style="display:none">
                <thead>
                    <tr>
                        <th>ItemID</th>
                        <th>UomID</th>
                        <th>DocNo</th>
                        <th>DocDate</th>
                        <th>OrderQty</th>
                        <th>PendingQty</th>
                        <th>PackedQty</th>
                    </tr>
                </thead>
                <tbody>
                    @if (ViewBag.ItemOrderQtyDetail != null)
                    {
                        foreach (System.Data.DataRow Row in ViewBag.ItemOrderQtyDetail.Rows)
                        {
                            <tr>
                                <td><input type="text" id="PD_OrderQtyItemID" value="@Row["item_id"].ToString()" /></td>
                                <td><input type="text" id="PD_OrderQtyUomID" value="@Row["uom_id"].ToString()" /></td>
                                <td><input type="text" id="PD_OrderQtyDocNo" value="@Row["so_no"].ToString()" /></td>
                                <td><input type="text" id="PD_OrderQtyDocDate" value="@Row["so_dt"].ToString()" /></td>
                                <td><input type="text" id="PD_OrderQty" value="@Row["ord_qty"].ToString()" /></td>
                                <td><input type="text" id="PD_OrderQtyPendingQty" value="@Row["bal_qty"].ToString()" /></td>
                                <td><input type="text" id="PD_OrderQtyPackedQty" value="@Row["pack_qty"].ToString()" /></td>
                                <td><input type="text" id="PD_OrdFocQty" value="@Row["ord_foc_qty"].ToString()" /></td>
                                <td><input type="text" id="PD_OrdFocPendingQty" value="@Row["bal_foc_qty"].ToString()" /></td>
                                <td><input type="text" id="PD_OrdFocPackedQty" value="@Row["pack_foc_qty"].ToString()" /></td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
    <!-- Partial Packing Order Wise Reserved Detail -->
    <div id="OrderWiseReserved" class="modal fade" role="dialog">
        <div class="modal-dialog" style=" max-width:700px;">
            <div class="price_item_detail">
                <!-- Modal content-->
                <div id="ItemOrderWiseReservedDetails">
                    @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/PartialPackingOrderWiseReservedDetail.cshtml")
                </div>
            </div>
            @Html.HiddenFor(model => model.OrderReservedItemBatchWiseDetail, new { @id = "HDSelectedOrderReservedBatchwiseDetails" })
            <table id="hdn_Sub_ItemResDetailTbl" hidden>
                <tbody>
                    @if (ViewBag.SubItemResDetails != null)
                    {
                        foreach (System.Data.DataRow dr in ViewBag.SubItemResDetails.Rows)
                        {
                            <tr>
                                <td><input type="text" id="ItemId" value='@dr["item_id"]'></td>
                                <td><input type="text" id="subItemId" value='@dr["sub_item_id"]'></td>
                                <td><input type="text" id="subItemQty" value='@dr["Qty"]'></td>
                                <td><input type="text" id="subItemSrcDocNo" value='@dr["src_doc_number"]'></td>
                                <td><input type="text" id="subItemSrcDocDate" value='@dr["src_doc_date"]'></td>
                                <td><input type="text" id="subItemResQty" value='@dr["res_qty"]'></td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
            @Html.HiddenFor(model => model.SubItemResDetailsDt, new { @id = "SubItemResDetailsDt" })
            <table id="hdn_Sub_ItemPackResDetailTbl" hidden>
                <tbody>
                    @if (ViewBag.SubItemPackResDetails != null)
                    {
                        foreach (System.Data.DataRow dr in ViewBag.SubItemPackResDetails.Rows)
                        {
                            <tr>
                                <td><input type="text" id="ItemId" value='@dr["item_id"]'></td>
                                <td><input type="text" id="subItemId" value='@dr["sub_item_id"]'></td>
                                <td><input type="text" id="subItemQty" value='@dr["Qty"]'></td>
                                <td><input type="text" id="subItemOrdPackQty" value='@dr["ord_pack_qty"]'></td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
            @Html.HiddenFor(model => model.SubItemPackResDetailsDt, new { @id = "SubItemPackResDetailsDt" })
            <table id="SaveOrderReservedItemBatchTbl" class="table table-bordered" style="display:none">
                <thead>
                    <tr>
                        <th>OrderNo</th>
                        <th>OrderDate</th>
                        <th>ItemId</th>
                        <th>UOMId</th>
                        <th>LotNo</th>
                        <th>BatchNo</th>
                        <th>BatchResStock</th>
                        @*<th>BatchAvlStock</th>*@
                        <th>PackedQuantity</th>
                        @*<th>expiryDate</th>*@
                    </tr>
                </thead>
                <tbody>
                    @if (ViewBag.OrderReservedItemStockBatchWise != null)
                    {
                        foreach (System.Data.DataRow Row in ViewBag.OrderReservedItemStockBatchWise.Rows)
                        {
                            <tr>
                                <td><input type="text" id="POR_OrderNo" value="@Row["srcno"].ToString()" /></td>
                                <td><input type="text" id="POR_OrderDate" value="@Row["src_date"].ToString()" /></td>
                                <td><input type="text" id="POR_ItemId" value="@Row["item_id"].ToString()" /></td>
                                <td><input type="text" id="POR_UOMId" value="@Row["uom_id"].ToString()" /></td>
                                <td><input type="text" id="POR_LotNo" value="@Row["lot_no"].ToString()" /></td>
                                <td><input type="text" id="POR_BatchNo" value="@Row["batch_no"].ToString()" /></td>
                                <td><input type="text" id="POR_ResAvlStk" value="@Row["Qty"].ToString()" /></td>
                                <td><input type="text" id="POR_IssueQty" value="@Row["issue_qty"].ToString()" /></td>
                                <td><input type="text" id="POR_MfgName" value="@Row["mfg_name"].ToString()" /></td>
                                <td><input type="text" id="POR_MfgMrp" value="@Row["mfg_mrp"].ToString()" /></td>
                                <td><input type="text" id="POR_MfgDate" value="@Row["mfg_date"].ToString()" /></td>
                            </tr>
                        }
                    }
                </tbody>
            </table>
        </div>
    </div>
    <!-- Partial Packing Order Wise Reserved Detail -->
    <div id="OrderWiseSubItemReserved" class="modal fade" role="dialog">
        <div class="modal-dialog" style=" max-width:700px;">
            <div class="price_item_detail">
                <!-- Modal content-->
                <div id="ItemOrderWiseSubItemReservedDetails">
                    @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/PartialPackingOrderWiseSubItemReservedDetail.cshtml")
                </div>
            </div>
        </div>
    </div>
    <!-- Sub Item Detail -->
    <div id="SubItem" class="modal fade" role="dialog">
        <div class="modal-dialog" id="SubItemPopUp" style=" max-width:750px;">
            <!-- Modal content-->
            @{
                SubItemPopupDt mdl = new SubItemPopupDt();
            }
            @Html.Partial("~/Areas/Common/Views/Cmn_PartialSubItemDetail.cshtml", mdl)
        </div>
        <table id="hdn_Sub_ItemDetailTbl" hidden>
            <tbody>
                @if (ViewBag.SubItemDetails != null)
                {
                    foreach (System.Data.DataRow dr in ViewBag.SubItemDetails.Rows)
                    {
                        <tr>
                            <td><input type="text" id="ItemId" value='@dr["item_id"]'></td>
                            <td><input type="text" id="subItemId" value='@dr["sub_item_id"]'></td>
                            <td><input type="text" id="subItemQty" value='@dr["Qty"]'></td>
                            <td><input type="text" id="subItemSrcDocNo" value='@dr["src_doc_number"]'></td>
                            <td><input type="text" id="subItemSrcDocDate" value='@dr["src_doc_date"]'></td>
                            <td><input type="text" id="subItemOrdQty" value='@dr["ord_qty"]'></td>
                            <td><input type="text" id="subItemPendQty" value='@dr["pend_qty"]'></td>
                            <td><input type="text" id="subItemFocQty" value='@dr["FocQty"]'></td>
                            <td><input type="text" id="subItemOrdFocQty" value='@dr["ord_foc_qty"]'></td>
                            <td><input type="text" id="subItemPendFocQty" value='@dr["pend_foc_qty"]'></td>
                        </tr>
                    }
                }
            </tbody>
        </table>
        <table id="hdn_Sub_ItemPackResDetailTblTemp" hidden><tbody></tbody></table>
        @Html.HiddenFor(model => model.SubItemDetailsDt, new { @id = "SubItemDetailsDt" })
    </div>
    <!-- Sub Item Stock Detail -->
    <div id="SubItemStock" class="modal fade" role="dialog">
        <div class="modal-dialog" id="SubItemStockPopUp" style=" max-width:600px;">
            <!-- Modal content-->
            @Html.Partial("~/Areas/Common/Views/Cmn_PartialSubItemStkDetail.cshtml")
        </div>
    </div>
    <!-- Error Detail -->
    <!--Partial Import Customer Data Start-->

    <div id="PackingListSerializationImportData" class="modal fade" role="dialog">
        <div class="modal-dialog" style="min-width:1200px;">
            <!-- Modal content-->
            @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/Partial_PackingListSerializationImportData.cshtml")
        </div>
    </div>
    <div id="ErrorDetail" class="modal fade show" role="dialog" aria-modal="true">
        <div class="modal-dialog" id="" style="min-width:600px;">
            <!-- Modal content-->
            <div id="divErrorDetail">
                @Html.Partial("~/Areas/Common/Views/Cmn_PartialExportErrorDetail.cshtml")

            </div>
        </div>
    </div>
    <!-- End Partial Import Customer Data Start-->
    <div class="col-md-12 col-sm-12 ">
        <div class="x_panel mar_pad1 ">
            <div class="x_content mar_pad1">
                <h2 class="col-md-5 col-sm-12 heading_left_padding ">@ViewBag.MenuPageName</h2>
                <div id="wizard" class="form_wizard wizard_horizontal col-md-3 col-sm-12 work_flow">
                    @Html.Partial("~/Areas/Common/Views/_PartialWorkflowBar.cshtml")
                </div>
                <input type="hidden" id="DocumentMenuId" value="@ViewBag.DocumentMenuId" />
                @Html.HiddenFor(model => model.DocumentMenuId, new { @id = "DocumentMenuId" })
                @Html.HiddenFor(model => model.WFBarStatus, new { @id = "WFBarStatus" })
                @Html.HiddenFor(model => model.WFStatus, new { @id = "WFStatus" })
                @Html.HiddenFor(model => model.create_id, new { @id = "Create_ID" })
                @Html.HiddenFor(model => model.WF_Status1, new { @id = "WF_Status1" })
                @Html.HiddenFor(model => model.TransType, new { @id = "qty_TransType" })
                @Html.HiddenFor(model => model.Qty_pari_Command, new { @id = "Qty_pari_Command" })
                @Html.HiddenFor(model => model.hdnsaveApprovebtn, new { @id = "hdnsavebtn" })
                @Html.HiddenFor(model => model.StockMessage, new { @id = "StockMessage" })
                <input id="HdnForDisable" value="@ForDisable" hidden="hidden" />
                <div id="" class="col-md-4 col-sm-12 work_flow heading_right_padding">
                    @{
                        //var btnName = Session["BtnName"].ToString();
                        var btnName = Model.BtnName;
                        switch (btnName)
                        {
                            case "BtnAddNew":
                                        <ul>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105103130001" || Row["feature_id"].ToString() == "105103145115001")
                                                    {
                                                        <li>
                                                            <button class="add" title="@Resource.AddNew" disabled style="filter: grayscale(100%)" type="submit" id="btn_add" name="Command" value="AddNewDeliveryNote" onclick="EnableAddkBtn()"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105103130002" || Row["feature_id"].ToString() == "105103145115002")
                                                    {
                                                        <li>
                                                            <button class="edit" title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit" onclick="EnableEditkBtn()"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105103130004" || Row["feature_id"].ToString() == "105103145115004")
                                                    {
                                                        <li>
                                                            <button class="delete" title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105103130008" || Row["feature_id"].ToString() == "105103145115008")
                                                    {
                                                        <li>
                                                            <button class="amendment"
                                                                    title="@Resource.Amendment" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Amendment" name="Command" value="Amendment"></button>
                                                        </li>
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="save" title="@Resource.Save" type="submit" onclick="return  CheckFormValidation();" id="btn_save" name="Command" value="Save"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="forward" title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                </li>
                                            }

                                            <li>
                                                <button class="approve" title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="workflow" title="@Resource.Workflow" disabled style="filter: grayscale(100%)" type="submit" id="btn_workflow" name="Command" value="Workflow"></button>
                                                </li>
                                            }

                                            <li>
                                                <button class="refresh" title="@Resource.Refresh" type="submit" id="btn_refresh" name="Command" value="Refresh" onclick="EnableRefreshBtn()"></button>
                                            </li>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105103130005" || Row["feature_id"].ToString() == "105103145115005")
                                                    {
                                        <li>
                                            @if (ViewBag.DocumentCode != "C" && Model.Command != "Edit" && Model.StatusCode != null && Model.StatusCode != "")
                                            {
                                                if (ViewBag.PackSerialization == "N")
                                                {
                                                    <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                                }
                                                else
                                                {
                                                    <button class="print" @disablePrintbtn title="@Resource.Print" type="button" id="" onclick="ForwardHistoryBtnClick();" name="Command" value="print" data-toggle="modal" data-target="#SalesInvoicePrint" data-backdrop="static" data-keyboard="false"></button>
                                                }
                                            }
                                            else
                                            {
                                                if (ViewBag.PackSerialization == "N")
                                                {
                                                    <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                                }
                                                else
                                                {
                                                    <button class="print" @disablePrintbtn title="@Resource.Print" type="button" id="" onclick="ForwardHistoryBtnClick();" name="Command" value="print" data-toggle="modal" data-target="#SalesInvoicePrint" data-backdrop="static" data-keyboard="false"></button>
                                                }


                                              
                                            }
                                        </li>
                                                        }
                                                    }
                                                }
                                            @if (Model.create_id == Model.UserID || ViewBag.Approve_id == Model.UserID)
                                            {
                                                if (Model.Status == "Approved" || Model.Status == "Cancelled" || Model.Amend == "Amendment")
                                                {
                                                    if (Model.Amend != "Amend")
                                                    {
                                                        <li>
                                                            <button class="email_tool" title="@Resource.Email" data-toggle="modal" data-target="#MailInfo" data-backdrop="static" data-keyboard="false" type="button" id="Btn_Mail" name="Command" value="Mail" onclick="SendEmail();"></button>
                                                        </li>
                                                    }
                                                }
                                            }
                                            else
                                            {
                                                <li>
                                                    <button class="email_tool" title="@Resource.Email" disabled style="filter: grayscale(100%)" data-toggle="modal" data-target="#MailInfo" data-backdrop="static" data-keyboard="false" type="button" id="Btn_Mail" name="Command" value="Mail"></button>
                                                </li>
                                            }
                                            <li>
                                                <button class="back" title="@Resource.Back" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                            </li>
                                        </ul>
                                break;
                            case "BtnEdit":
                                <ul>
                                    @if (ViewBag.VBRoleList != null)
                                    {
                                        foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                        {
                                            if (Row["feature_id"].ToString() == "105103130001" || Row["feature_id"].ToString() == "105103145115001")
                                            {
                                                if ((Model.Command == "Edit" && Model.StatusCode == "A"))
                                                {
                                                    <li>
                                                        <button class="add" title="@Resource.AddNew" disabled style="filter: grayscale(100%)" type="submit" id="btn_add" name="Command" value="AddNewDeliveryNote" onclick=""></button>
                                                    </li>
                                                }
                                                else
                                                {
                                                    if (Model.Command == "Edit")
                                                    {
                                                        <li>
                                                            <button class="add" title="@Resource.AddNew" disabled style="filter: grayscale(100%)" type="submit" id="btn_add" name="Command" value="AddNewDeliveryNote" onclick=""></button>
                                                        </li>
                                                    }
                                                    else
                                                    {
                                                        <li>
                                                            <button class="add" title="@Resource.AddNew" type="submit" id="btn_add" name="Command" value="AddNewDeliveryNote" onclick="EnableAddkBtn()"></button>
                                                        </li>
                                                    }

                                                }

                                            }
                                            if (Row["feature_id"].ToString() == "105103130002" || Row["feature_id"].ToString() == "105103145115002")
                                            {
                                                <li>
                                                    @if (Model.StatusCode == "A" || Model.StatusCode == "D")
                                                    {
                                                        if (Model.Command == "Edit")
                                                        {
                                                            <button class="edit" title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit" onclick="EnableEditkBtn()"></button>
                                                        }
                                                        else
                                                        {
                                                            <button class="edit" title="@Resource.Edit"
                                                                    type="submit" id="btn_edit" name="Command" value="Edit"></button>
                                                        }
                                                    }
                                                    else
                                                    {
                                                        <button class="edit" title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit" onclick="EnableEditkBtn()"></button>
                                                    }
                                                </li>
                                            }
                                            if (Row["feature_id"].ToString() == "105103130004" || Row["feature_id"].ToString() == "105103145115004")
                                            {
                                                <li>
                                                    @if (Model.StatusCode == "D")
                                                    {
                                                        if (Model.Command == "Edit")
                                                        {
                                                            <button class="delete" title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                        }
                                                        else
                                                        {
                                                            <button class="delete" title="@Resource.Delete" onclick="return  functionConfirm();" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                        }
                                                    }
                                                    else
                                                    {
                                                        <button class="delete" title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                    }
                                                    @Html.HiddenFor(m => m.DeleteCommand, new { @id = "HdDeleteCommand" })
                                                </li>
                                            }
                                            if (Row["feature_id"].ToString() == "105103130008" || Row["feature_id"].ToString() == "105103145115008")
                                            {
                                                if (Model.create_id == Model.UserID && Model.StatusCode == "A" && Model.CmdType != "Edit")
                                                {
                                                    <li>
                                                        <button class="amendment"
                                                                title="@Resource.Amendment" type="submit" id="Btn_Amendment" onclick="return OnClickBtnAmendment();" name="Command" value="Amendment"></button>
                                                    </li>
                                                }
                                                else
                                                {
                                                    <li>
                                                        <button class="amendment"
                                                                title="@Resource.Amendment" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Amendment" name="Command" value="Amendment"></button>
                                                    </li>
                                                }
                                            }
                                        }
                                    }
                                    <li>
                                        @if (Model.StatusCode == "A" || Model.StatusCode == "D")
                                        {
                                            if (Model.Command == "Edit")
                                            {
                                                if (ViewBag.DocumentCode == "A")
                                                {

                                                    <button class="save" title="@Resource.Save" disabled style="filter: grayscale(100%)" type="submit" id="btn_save" name="Command" value="Save"></button>
                                                }
                                                else
                                                {
                                                    <button class="save" title="@Resource.Save" onclick="return  CheckFormValidation();" type="submit" id="btn_save" name="Command" value="Save"></button>
                                                }

                                            }
                                            else
                                            {

                                                <button class="save" title="@Resource.Save" disabled style="filter: grayscale(100%)" onclick="return  CheckFormValidation();" type="submit" id="btn_save" name="Command" value="Save"></button>

                                            }
                                        }
                                        else
                                        {
                                            <button class="save" title="@Resource.Save" disabled style="filter: grayscale(100%)" type="submit" id="btn_save" name="Command" value="Save"></button>
                                        }
                                    </li>
                                    @if (ViewBag.AppLevel.Rows.Count > 0)
                                    {
                                        <li>
                                            @if (Model.StatusCode == "D" || Model.StatusCode == "F")
                                            {
                                                if (ViewBag.ForwardEnbl == "Y")
                                                {/*start Add by Hina on 16-02-2024 to chk Financial year exist or not*/
                                                    //if (ViewBag.Message == "Financial Year not Exist")
                                                    /*Above Commented and modify by Hina sharma on 08-05-2025 to check Existing with previous year transaction*/

                                                    if (ViewBag.Message == "TransNotAllow")
                                                    {/*data-target="" value will be balnk in this case*/
                                                        <button class="forward"
                                                                title="@Resource.Forward" type="button" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="" data-backdrop="static" data-keyboard="false" id="btn_forward" name="Command" value="Forward"></button>

                                                    }/*End to chk Financial year exist or not*/
                                                    else
                                                    {
                                                        if (ViewBag.Message == "PLSerialiizationDTValidate")
                                                        {
                                                            <button class="forward"
                                                                    title="@Resource.Forward" type="button" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="" data-backdrop="static" data-keyboard="false" id="btn_forward" name="Command" value="Forward"></button>
                                                        }

                                                        else
                                                        {
                                                            <button class="forward"
                                                                    title="@Resource.Forward" type="button" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" id="btn_forward" name="Command" value="Forward"></button>
                                                        }
                                                        @*<button class="forward"
                                                            title="@Resource.Forward" type="submit" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" id="btn_forward" name="Command" value="Forward"></button>*@

                                                    }/*commented by Hina on 16-02-2024 to chk Financial year exist or not*/
                                                    @*<button class="forward"
                                                        title="@Resource.Forward" type="submit" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" id="btn_forward" name="Command" value="Forward"></button>*@
                                                }
                                                else
                                                {
                                                    <button class="forward"
                                                            title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                }
                                            }
                                            else
                                            {
                                                <button class="forward"
                                                        title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                            }
                                        </li>
                                    }

                                    <li>
                                        @if (Model.StatusCode == "D" || Model.StatusCode == "F")
                                        {
                                            if (ViewBag.Approve == "Y" && Model.Command != "Edit")
                                            {
                                                if (ViewBag.AppLevel.Rows.Count > 0)
                                                {/*start Add by Hina on 16-02-2024 to chk Financial year exist or not*/
                                                    //if (ViewBag.Message == "Financial Year not Exist")
                                                    /*Above Commented and modify by Hina sharma on 08-05-2025 to check Existing with previous year transaction*/

                                                    if (ViewBag.Message == "TransNotAllow")
                                                    {/*data-target="" value will be balnk in this case*/
                                                        <button class="approve"
                                                                title="@Resource.Approve" type="button" id="btn_approve" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="" data-backdrop="static" data-keyboard="false" name="Command" value="Approve"></button>

                                                    }/*End to chk Financial year exist or not*/
                                                    else
                                                    {
                                                        if (ViewBag.Message == "PLSerialiizationDTValidate")
                                                        {
                                                            <button class="approve"
                                                                    title="@Resource.Approve" type="button" id="btn_approve" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="" data-backdrop="static" data-keyboard="false" name="Command" value="Approve"></button>
                                                        }
                                                        else
                                                        {
                                                            <button class="approve"
                                                                    title="@Resource.Approve" type="button" id="btn_approve" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" name="Command" value="Approve"></button>
                                                        }
                                                        @*<button class="approve"
                                                            title="@Resource.Approve" type="submit" id="btn_approve" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" name="Command" value="Approve"></button>*@
                                                    }
                                                    /*commented by Hina on 16-02-2024 to chk Financial year exist or not*/
                                                    @*<button class="approve"
                                                        title="@Resource.Approve" type="submit" id="btn_approve" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" name="Command" value="Approve"></button>*@
                                                }
                                                else
                                                {
                                                    <button class="approve"
                                                            title="@Resource.Approve" type="submit" onclick="return approveonclick()" id="btn_approve" name="Command" value="Approve"></button>

                                                }
                                                @*<a class="tooltip-test" href="#" title="@Resource.Approve"><img src="~/Content/Images/approve_green.png" width="28" height="28" alt="Approve" onclick="ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" id="Btn_Approve"></a>*@
                                            }
                                            else
                                            {
                                                <button class="approve"
                                                        title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                            }
                                        }
                                        else
                                        {
                                            <button class="approve"
                                                    title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                        }
                                    </li>
                                    @if (ViewBag.AppLevel.Rows.Count > 0)
                                    {
                                        <li>
                                            <button class="workflow" title="@Resource.Workflow"
                                                    type="submit" id="btn_workflow" onclick="return ForwardHistoryBtnClick();" data-toggle="modal" data-target="#WorkflowInformation" data-backdrop="static" data-keyboard="false" name="Command" value="Workflow"></button>
                                        </li>
                                    }
                                    <li>
                                        @if (Model.Command == "Edit")
                                        {
                                            <button class="refresh" title="@Resource.Refresh" type="submit" id="btn_refresh" name="Command" value="Refresh" onclick="EnableRefreshBtn()"></button>
                                        }
                                        else
                                        {
                                            <button class="refresh" title="@Resource.Refresh" disabled style="filter: grayscale(100%)" type="submit" id="btn_refresh" name="Command" value="Refresh" onclick="EnableRefreshBtn()"></button>
                                        }
                                    </li>
                                    @if (ViewBag.VBRoleList != null)
                                    {
                                        foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                        {
                                            if (Row["feature_id"].ToString() == "105103130005" || Row["feature_id"].ToString() == "105103145115005")
                                            {
                                <li>
                                    @if (ViewBag.DocumentCode != "C" && Model.Command != "Edit")
                                    {
                                        if (ViewBag.PackSerialization == "N" || ViewBag.PackSerialization == "")
                                        {
                                            <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                        }
                                        else
                                        {
                                            <button class="print" @disablePrintbtn title="@Resource.Print" type="button" id="" onclick="ForwardHistoryBtnClick();" name="Command" value="print" data-toggle="modal" data-target="#SalesInvoicePrint" data-backdrop="static" data-keyboard="false"></button>
                                        }
                                    }
                                    else
                                    {
                                        if (ViewBag.PackSerialization == "N")
                                        {
                                            <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                        }
                                        else
                                        {
                                            <button class="print" @disablePrintbtn title="@Resource.Print" type="button" id="" onclick="ForwardHistoryBtnClick();" name="Command" value="print" data-toggle="modal" data-target="#SalesInvoicePrint" data-backdrop="static" data-keyboard="false"></button>
                                        }
                                    }
                                </li>
                                            }
                                        }
                                    }
                                    @if (Model.create_id == Model.UserID || ViewBag.Approve_id == Model.UserID)
                                    {
                                        if (Model.Status == "Approved" || Model.Status == "Cancelled")
                                        {
                                            if (Model.Amend != "Amend")
                                            {
                                                <li>
                                                    <button class="email_tool" title="@Resource.Email" data-toggle="modal" data-target="#MailInfo" data-backdrop="static" data-keyboard="false" type="button" id="Btn_Mail" name="Command" value="Mail" onclick="SendEmail();"></button>
                                                </li>
                                            }
                                        }
                                    }
                                    else
                                    {
                                        <li>
                                            <button class="email_tool" title="@Resource.Email" disabled style="filter: grayscale(100%)" data-toggle="modal" data-target="#MailInfo" data-backdrop="static" data-keyboard="false" type="button" id="Btn_Mail" name="Command" value="Mail"></button>
                                        </li>
                                    }
                                    <li>
                                        <button class="back" title="@Resource.Back" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                    </li>
                                </ul>
                                break;
                            case "BtnRefresh":
                                <ul>
                                    @if (ViewBag.VBRoleList != null)
                                    {
                                        foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                        {
                                            if (Row["feature_id"].ToString() == "105103130001" || Row["feature_id"].ToString() == "105103145115001")
                                            {
                                                <li>
                                                    <button class="add" title="@Resource.AddNew" disabled style="filter: grayscale(100%)" type="submit" id="btn_add" name="Command" value="AddNewDeliveryNote" onclick="EnableAddkBtn()"></button>
                                                </li>
                                            }
                                            if (Row["feature_id"].ToString() == "105103130002" || Row["feature_id"].ToString() == "105103145115002")
                                            {
                                                <li>
                                                    <button class="edit" title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit" onclick="EnableEditkBtn()"></button>
                                                </li>
                                            }
                                            if (Row["feature_id"].ToString() == "105103130004" || Row["feature_id"].ToString() == "105103145115004")
                                            {
                                                <li>
                                                    <button class="delete" title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                </li>
                                            }
                                            if (Row["feature_id"].ToString() == "105103130008" || Row["feature_id"].ToString() == "105103145115008")
                                            {
                                                <li>
                                                    <button class="amendment"
                                                            title="@Resource.Amendment" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Amendment" name="Command" value="Amendment"></button>
                                                </li>
                                            }
                                        }
                                    }
                                    <li>
                                        <button class="save" title="@Resource.Save" disabled onclick="return  CheckFormValidation();" style="filter: grayscale(100%)" type="submit" id="btn_save" name="Command" value="Save"></button>
                                    </li>
                                    @if (ViewBag.AppLevel.Rows.Count > 0)
                                    {
                                        <li>
                                            <button class="forward" title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                        </li>
                                    }
                                    <li>
                                        <button class="approve" title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve" onclick="EnableApproveBtn()"></button>
                                    </li>
                                    @if (ViewBag.AppLevel.Rows.Count > 0)
                                    {
                                        <li>
                                            <button class="workflow" title="@Resource.Workflow"
                                                    type="submit" id="btn_workflow" onclick="return ForwardHistoryBtnClick();" data-toggle="modal" data-target="#WorkflowInformation" data-backdrop="static" data-keyboard="false" name="Command" value="Workflow"></button>
                                        </li>
                                    }
                                    <li>
                                        <button class="refresh" title="@Resource.Refresh" disabled style="filter: grayscale(100%)" type="submit" id="btn_refresh" name="Command" value="Refresh" onclick="EnableRefreshBtn()"></button>
                                    </li>
                                    @if (ViewBag.VBRoleList != null)
                                    {
                                        foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                        {
                                            if (Row["feature_id"].ToString() == "105103130005" || Row["feature_id"].ToString() == "105103145115005")
                                            {
                                <li>
                                    @if (ViewBag.DocumentCode != "C" && Model.Command != "Edit")
                                    {
                                        if (ViewBag.PackSerialization == "N")
                                        {
                                            <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                        }
                                        else
                                        {
                                            <button class="print" @disablePrintbtn title="@Resource.Print" type="button" id="" onclick="ForwardHistoryBtnClick();" name="Command" value="print" data-toggle="modal" data-target="#SalesInvoicePrint" data-backdrop="static" data-keyboard="false"></button>
                                        }
                                    }
                                    else
                                    {
                                        if (ViewBag.PackSerialization == "N")
                                        {
                                            <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                        }
                                        else
                                        {
                                            <button class="print" @disablePrintbtn title="@Resource.Print" type="button" id="" onclick="ForwardHistoryBtnClick();" name="Command" value="print" data-toggle="modal" data-target="#SalesInvoicePrint" data-backdrop="static" data-keyboard="false"></button>
                                        }
                                    }
                                </li>
                                            }
                                        }
                                    }
                                    @if (Model.create_id == Model.UserID || ViewBag.Approve_id == Model.UserID)
                                    {
                                        if (Model.Status == "Approved" || Model.Status == "Cancelled" || Model.Amend == "Amendment")
                                        {
                                            if (Model.Amend != "Amend")
                                            {
                                                <li>
                                                    <button class="email_tool" title="@Resource.Email" data-toggle="modal" data-target="#MailInfo" data-backdrop="static" data-keyboard="false" type="button" id="Btn_Mail" name="Command" value="Mail" onclick="SendEmail();"></button>
                                                </li>
                                            }
                                        }
                                    }
                                    else
                                    {
                                        <li>
                                            <button class="email_tool" title="@Resource.Email" disabled style="filter: grayscale(100%)" data-toggle="modal" data-target="#MailInfo" data-backdrop="static" data-keyboard="false" type="button" id="Btn_Mail" name="Command" value="Mail"></button>
                                        </li>
                                    }
                                    <li>
                                        <button class="back" title="@Resource.Back" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                    </li>
                                </ul>
                                break;
                            case "BtnDelete":
                                <ul>
                                    @if (ViewBag.VBRoleList != null)
                                    {
                                        foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                        {
                                            if (Row["feature_id"].ToString() == "105103130001" || Row["feature_id"].ToString() == "105103145115001")
                                            {
                                                <li>
                                                    <button class="add" title="@Resource.AddNew" type="submit" id="btn_add" name="Command" value="AddNewDeliveryNote"></button>
                                                </li>
                                            }
                                            if (Row["feature_id"].ToString() == "105103130002" || Row["feature_id"].ToString() == "105103145115002")
                                            {
                                                <li>
                                                    <button class="edit" title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit"></button>
                                                </li>
                                            }
                                            if (Row["feature_id"].ToString() == "105103130004" || Row["feature_id"].ToString() == "105103145115004")
                                            {
                                                <li>
                                                    <button class="delete" title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                </li>
                                            }
                                            if (Row["feature_id"].ToString() == "105103130008" || Row["feature_id"].ToString() == "105103145115008")
                                            {
                                                <li>
                                                    <button class="amendment"
                                                            title="@Resource.Amendment" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Amendment" name="Command" value="Amendment"></button>
                                                </li>
                                            }
                                        }
                                    }
                                    <li>
                                        <button class="save" title="@Resource.Save" onclick="CheckFormValidation()" disabled style="filter: grayscale(100%)" type="submit" id="btn_save" name="Command" value="Save"></button>
                                    </li>
                                    @if (ViewBag.AppLevel.Rows.Count > 0)
                                    {
                                        <li>
                                            <button class="forward" title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                        </li>
                                    }

                                    <li>
                                        <button class="approve" title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                    </li>
                                    @if (ViewBag.AppLevel.Rows.Count > 0)
                                    {
                                        <li>
                                            <button class="workflow" title="@Resource.Workflow"
                                                    type="submit" id="btn_workflow" onclick="return ForwardHistoryBtnClick();" data-toggle="modal" data-target="#WorkflowInformation" data-backdrop="static" data-keyboard="false" name="Command" value="Workflow"></button>
                                        </li>
                                    }

                                    <li>
                                        <button class="refresh" title="@Resource.Refresh" disabled style="filter: grayscale(100%)" type="submit" id="btn_refresh" name="Command" value="Refresh"></button>
                                    </li>
                                    @if (ViewBag.VBRoleList != null)
                                    {
                                        foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                        {
                                            if (Row["feature_id"].ToString() == "105103130005" || Row["feature_id"].ToString() == "105103145115005")
                                            {
                                <li>
                                    @if (ViewBag.DocumentCode != "C" && Model.Command != "Edit")
                                    {
                                        if (ViewBag.PackSerialization == "N")
                                        {
                                            <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                        }
                                        else
                                        {
                                            <button class="print" @disablePrintbtn title="@Resource.Print" type="button" id="" onclick="ForwardHistoryBtnClick();" name="Command" value="print" data-toggle="modal" data-target="#SalesInvoicePrint" data-backdrop="static" data-keyboard="false"></button>
                                        } 
                                    }
                                    else
                                    {
                                        if (ViewBag.PackSerialization == "N")
                                        {
                                            <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                        }
                                        else
                                        {
                                            <button class="print" @disablePrintbtn title="@Resource.Print" type="button" id="" onclick="ForwardHistoryBtnClick();" name="Command" value="print" data-toggle="modal" data-target="#SalesInvoicePrint" data-backdrop="static" data-keyboard="false"></button>
                                        }
                                    }
                                </li>
                                            }
                                        }
                                    }
                                    <li>
                                        <button class="back" title="@Resource.Back" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                    </li>
                                </ul>
                                break;
                            case "Refresh":
                                <ul>
                                    @if (ViewBag.VBRoleList != null)
                                    {
                                        foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                        {
                                            if (Row["feature_id"].ToString() == "105103130001" || Row["feature_id"].ToString() == "105103145115001")
                                            {
                                                <li>
                                                    <button class="add" title="@Resource.AddNew" type="submit" id="btn_add" name="Command" value="AddNewDeliveryNote"></button>
                                                </li>
                                            }
                                            if (Row["feature_id"].ToString() == "105103130002" || Row["feature_id"].ToString() == "105103145115002")
                                            {
                                                <li>
                                                    <button class="edit" title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit"></button>
                                                </li>
                                            }
                                            if (Row["feature_id"].ToString() == "105103130004" || Row["feature_id"].ToString() == "105103145115004")
                                            {
                                                <li>
                                                    <button class="delete" title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                </li>
                                            }
                                            if (Row["feature_id"].ToString() == "105103130008" || Row["feature_id"].ToString() == "105103145115008")
                                            {
                                                <li>
                                                    <button class="amendment"
                                                            title="@Resource.Amendment" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Amendment" name="Command" value="Amendment"></button>
                                                </li>
                                            }
                                        }
                                    }
                                    <li>
                                        <button class="save" title="@Resource.Save" disabled style="filter: grayscale(100%)" onclick="CheckFormValidation()" type="submit" id="btn_save" name="Command" value="Save"></button>
                                    </li>
                                    @if (ViewBag.AppLevel.Rows.Count > 0)
                                    {
                                        <li>
                                            <button class="forward" title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                        </li>
                                    }

                                    <li>
                                        <button class="approve" title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                    </li>
                                    @if (ViewBag.AppLevel.Rows.Count > 0)
                                    {
                                        <li>
                                            <button class="workflow" title="@Resource.Workflow"
                                                    type="submit" id="btn_workflow" onclick="return ForwardHistoryBtnClick();" data-toggle="modal" data-target="#WorkflowInformation" data-backdrop="static" data-keyboard="false" name="Command" value="Workflow"></button>
                                        </li>
                                    }

                                    <li>
                                        <button class="refresh" title="@Resource.Refresh" disabled style="filter: grayscale(100%)" type="submit" id="btn_refresh" name="Command" value="Refresh"></button>
                                    </li>
                                    @if (ViewBag.VBRoleList != null)
                                    {
                                        foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                        {
                                            if (Row["feature_id"].ToString() == "105103130005" || Row["feature_id"].ToString() == "105103145115005")
                                            {
                                <li>
                                    @if (ViewBag.PackSerialization == "N")
                                    {
                                        <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                    }
                                    else
                                    {
                                        <button class="print" @disablePrintbtn title="@Resource.Print" type="button" id="" onclick="ForwardHistoryBtnClick();" name="Command" value="print" data-toggle="modal" data-target="#SalesInvoicePrint" data-backdrop="static" data-keyboard="false"></button>
                                    }



                                    @*@if (ViewBag.DocumentCode != "C" && Model.Command != "Edit")
        {
            <button class="print" title="@Resource.Print" type="submit" id="btn_print" name="Command" value="Print"></button>
        }
        else
        {
            <button class="print" title="@Resource.Print" disabled style="filter: grayscale(100%)" type="submit" id="btn_print" name="Command" value="Print"></button>
        }*@
                                </li>
                                            }
                                        }
                                    }
                                    @if (Model.create_id == Model.UserID || ViewBag.Approve_id == Model.UserID)
                                    {
                                        if (Model.Status == "Approved" || Model.Status == "Cancelled" || Model.Amend == "Amendment")
                                        {
                                            if (Model.Amend != "Amend")
                                            {
                                                <li>
                                                    <button class="email_tool" title="@Resource.Email" data-toggle="modal" data-target="#MailInfo" data-backdrop="static" data-keyboard="false" type="button" id="Btn_Mail" name="Command" value="Mail" onclick="SendEmail();"></button>
                                                </li>
                                            }
                                        }
                                    }
                                    else
                                    {
                                        <li>
                                            <button class="email_tool" title="@Resource.Email" disabled style="filter: grayscale(100%)" data-toggle="modal" data-target="#MailInfo" data-backdrop="static" data-keyboard="false" type="button" id="Btn_Mail" name="Command" value="Mail"></button>
                                        </li>
                                    }
                                    <li>
                                        <button class="back" title="@Resource.Back" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                    </li>
                                </ul>
                                break;
                        }
                    }
                </div>
                <div class="x_title pad_mar ">
                    <div class="col-md-12 col-sm-12 icon_tool heading_left_padding  ">
                        <div class="approved_by">
                            <ul>
                                <li><span>@Resource.CreatedBy<br><b>@Html.DisplayFor(model => model.CreatedBy)</b></span></li>
                                <li><span>@Resource.Createdon<br><b>@Html.DisplayFor(model => model.CreatedOn)</b></span></li>
                                <li><span>@Resource.ApprovedBy<br><b>@Html.DisplayFor(model => model.ApprovedBy)</b></span></li>
                                <li><span>@Resource.ApprovedOn<br><b>@Html.DisplayFor(model => model.ApprovedOn)</b></span></li>
                                <li><span>@Resource.AmendedBy<br><b>@Html.DisplayFor(model => model.AmmendedBy)</b></span></li>
                                <li><span>@Resource.AmendedOn<br><b>@Html.DisplayFor(model => model.AmmendedOn)</b></span></li>
                                <li>
                                    <span>@Resource.Status<br><b>@Html.DisplayFor(model => model.Status)</b></span>
                                    @Html.HiddenFor(model => model.StatusCode, new { @id = "hd_Status" })
                                </li>
                            </ul>
                        </div>
                        @if ((Model.StatusCode == "D" || Model.StatusCode == "F" || string.IsNullOrEmpty(Model.StatusCode) == true))
                        {
                            if (Disable)
                            {

                                <input id="DisableSubItem" value="Y" hidden />
                            }
                            else
                            {
                                <input id="DisableSubItem" value="N" hidden />
                            }

                        }
                        else
                        {
                            <input id="DisableSubItem" value="Y" hidden />
                        }
                        @Html.HiddenFor(m => m.ListFilterData1, new { @id = "ListFilterData1", value = Model.ListFilterData1 })
                        @Html.HiddenFor(m => m.checkpreameter, new { @id = "hdn_checkpreameter", })
                        @Html.HiddenFor(model => model.Amend, new { @id = "Amend" })
                        @Html.HiddenFor(model => model.PrintFormat, new { @id = "PrintFormat", @value = "F1" })
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Replicate with all Item Start -->
    <div id="ReplicateWithAllSamples" class="modal fade" role="dialog">
        <div class="modal-dialog" id="" style=" max-width:300px;">
            <!-- Modal content-->
            @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/PartialReplicateWithAllSamples.cshtml")
        </div>
    </div>
    <!-- Replicate with all Item End -->


    <div class="col-md-12 col-sm-12 ">
        <div class="x_panel mar_pad1 ">
            <div class="x_content mar_pad1">
                <article class="panel-group bs-accordion" id="accordion" role="tablist" aria-multiselectable="true">
                    <section class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingOne">
                            <h4 class="panel-title"> <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne"> @Resource.PackingDetail <span class="glyphicon glyphicon-chevron-right pull-right" aria-hidden="true"></span> </a></h4>
                        </div>
                        <div id="collapseOne" class="panel-collapse in collapse show" role="tabpanel" aria-labelledby="headingOne" style="">
                            <div class="panel-body">
                                <div class="col-md-12">
                                    <p class="po col-md-4 col-sm-12">
                                        <label class="col-form-label label-align" style="padding-right:10px;">@Resource.Packing @Resource.Type</label>
                                        @*@if (Session["MenuDocumentId"] != null)*@
                                        @if (Model.MenuDocumentId != null)
                                        {
                                            if (Model.MenuDocumentId == "105103130")
                                            {
                                                <span class="d_right">@Resource.Domestic</span>
                                                @Html.RadioButtonFor(model => model.pack_type, "D", new { @id = "rbDomestic", @class = "flat", Checked = "checked", onclick = "OnPackTypeChaneg();" })
                                                <span class="e_right"> @Resource.Export</span>
                                                @Html.RadioButtonFor(model => model.pack_type, "E ", new { disabled = "disabled", @class = "flat", @id = "rbExport", onclick = "OnPackTypeChaneg();" })

                                                @Html.ValidationMessageFor(model => model.pack_type, String.Empty, new { @style = "color:red;!important", @id = "vmpack_type" })
                                                @Html.HiddenFor(model => model.Customer_type, new { @id = "hdCustomer_type" })
                                            }
                                            if (Model.MenuDocumentId == "105103145115")
                                            {

                                                <span class="d_right">@Resource.Domestic</span>
                                                @Html.RadioButtonFor(model => model.pack_type, "D", new { disabled = "disabled", @id = "rbDomestic", @class = "flat", onclick = "OnPackTypeChaneg();" })
                                                <span class="e_right">@Resource.Export</span>
                                                @Html.RadioButtonFor(model => model.pack_type, "E ", new { @class = "flat", @id = "rbExport", Checked = "checked", onclick = "OnPackTypeChaneg();" })

                                                @Html.ValidationMessageFor(model => model.pack_type, String.Empty, new { @style = "color:red;!important", @id = "vmpack_type" })
                                                @Html.HiddenFor(model => model.Customer_type, new { @id = "hdCustomer_type" })

                                            }
                                        }
                                    </p>
                                    @*<div class="col-md-6 col-sm-12 pt-1"></div>*@
                                    <div class="col-md-6 col-sm-12 pt-1">
                                        <label class="col-form-label label-align font-weight-bold" style="padding-right:10px;">
                                            @Resource.Item @Resource.Orientation
                                        </label>

                                        @if ((Model.StatusCode == "" || Model.StatusCode == null) && Model.Amend != "Amend")
                                        {
                                            if (Disable)
                                            {
                                                <span class="d_right"> @Resource.Order @Resource.Wise</span>
                                                @Html.RadioButtonFor(m => m.Itemorientation, "OW", new { @class = "ddlItemOrientation", disabled = "disabled", @id = "ddlOrderWise", @checked = "checked", @name = "Itemorientation", @onclick = "onclickItemorientation()" })
                                                <span class="e_right">@Resource.Item @Resource.Wise </span>
                                                @Html.RadioButtonFor(m => m.Itemorientation, "IW", new { @class = "ddlItemOrientation", disabled = "disabled", @id = "ddlItemWise", @name = "Itemorientation", @onclick = "onclickItemorientation()" })
                                            }
                                            else
                                            {
                                                <span class="d_right"> @Resource.Order @Resource.Wise</span>
                                                @Html.RadioButtonFor(m => m.Itemorientation, "OW", new { @class = "ddlItemOrientation", @id = "ddlOrderWise", @name = "Itemorientation", @checked = "checked", @onclick = "onclickItemorientation()" })
                                                <span class="e_right">@Resource.Item @Resource.Wise </span>
                                                @Html.RadioButtonFor(m => m.Itemorientation, "IW", new { @class = "ddlItemOrientation", @id = "ddlItemWise", @name = "Itemorientation", @onclick = "onclickItemorientation()" })
                                            }

                                        }
                                        else
                                        {

                                            <span class="d_right"> @Resource.Order @Resource.Wise</span>
                                            @Html.RadioButtonFor(m => m.Itemorientation, "OW", new { @class = "ddlItemOrientation", disabled = "disabled", @id = "ddlOrderWise", @name = "Itemorientation", @onclick = "onclickItemorientation()" })
                                            <span class="e_right">@Resource.Item @Resource.Wise </span>
                                            @Html.RadioButtonFor(m => m.Itemorientation, "IW", new { @class = "ddlItemOrientation", disabled = "disabled", @id = "ddlItemWise", @name = "Itemorientation", @onclick = "onclickItemorientation()" })
                                        }
                                        @Html.HiddenFor(Model => Model.hdnItemorientation, new { @id = "hdn_Itemorientation" })

                                    </div>
                                    <div class="col-md-2 col-sm-12">
                                        <div class="cancelled">
                                            <label>
                                                @Resource.Cancelled
                                                @if (ViewBag.DocumentCode == "A" && Model.Command == "Edit")
                                                {
                                                    @Html.CheckBoxFor(model => model.CancelFlag, new { @class = "js-switch", onclick = "OnClickCancelFlag()" })
                                                }
                                                else
                                                {
                                                    @Html.CheckBoxFor(model => model.CancelFlag, new { @class = "js-switch", @disabled = "disabled" })
                                                }
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="clear"></div>
                                <div class="col-md-55 col-sm-12">
                                    <label class="col-form-label label-align">@Resource.PackingListNumber</label>
                                    @Html.HiddenFor(model => model.pack_no, new { @id = "hdpack_no" })
                                    @Html.TextBoxFor(model => model.pack_no, new { @readonly = "readonly", @Value = @Model.pack_no, @id = "PackingNumber", @maxlength = "20", @class = "form-control", @placeholder = "Packing List Number", disabled = "disabled" })
                                    @Html.HiddenFor(model => model.pack_no, new { @id = "hdpack_no" })

                                </div>
                                <div class="col-md-55 col-sm-12">
                                    <label class="col-form-label label-align">@Resource.PackingDate <span class="required">*</span></label>

                                    @Html.TextBoxFor(model => model.pack_dt, "{0:yyyy-MM-dd}", new { @class = "form-control", disabled = "disabled", @id = "txtpack_dt", type = "date" })
                                    @Html.HiddenFor(model => model.pack_dt, new { @id = "hdpack_dt" })
                                    <span id="inputSuccess2Status" class="sr-only">(success)</span>



                                </div>
                                <div class="col-md-55 col-sm-12">
                                    <div id="CustomerName">
                                        @Html.HiddenFor(model => model.CustomerID, new { @id = "hdcust_Id" })
                                        @Html.HiddenFor(model => model.CustomerName, new { @id = "hdcust_Name" })
                                        <label class="col-form-label label-align">@Resource.CustomerName <span class="required">*</span></label>
                                        @*@if (Disable || Model.DocumentStatus == "Drafted")*@
                                        @if (Disable || Model.DocumentStatus == "Drafted")
                                        {
                                            if (ViewBag.DocumentCode == "A")
                                            {
                                                @Html.DropDownListFor(model => model.cust_id, new SelectList(Model.CustomerNameList, "cust_id", "cust_name"), new { @class = "form-control", @onchange = "OnChangeCustomer()", disabled = "disabled", @id = "ddlCustomerName" });
                                            }
                                            else
                                            {
                                                if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                                {
                                                    @Html.DropDownListFor(model => model.cust_id, new SelectList(Model.CustomerNameList, "cust_id", "cust_name"), new { @class = "form-control", @onchange = "OnChangeCustomer()", disabled = "disabled", @id = "ddlCustomerName" })
                                                }
                                                else
                                                {
                                                    if (Model.Command == "Refresh")
                                                    {
                                                        @Html.DropDownListFor(model => model.cust_id, new SelectList(Model.CustomerNameList, "cust_id", "cust_name"), new { @class = "form-control", @onchange = "OnChangeCustomer()", @id = "ddlCustomerName", disabled = "disabled" })
                                                    }
                                                    else
                                                    {
                                                        @Html.DropDownListFor(model => model.cust_id, new SelectList(Model.CustomerNameList, "cust_id", "cust_name"), new { @class = "form-control", @onchange = "OnChangeCustomer()", disabled = "disabled", @id = "ddlCustomerName" })
                                                    }
                                                }
                                            }
                                        }
                                        else
                                        {
                                            if (Model.Command == "Edit")
                                            {
                                                @Html.DropDownListFor(model => model.cust_id, new SelectList(Model.CustomerNameList, "cust_id", "cust_name"), new { @class = "form-control", @onchange = "OnChangeCustomer()", disabled = "disabled", @id = "ddlCustomerName" })
                                            }
                                            else
                                            {
                                                if (Model.Command == "Refresh")
                                                {
                                                    @Html.DropDownListFor(model => model.cust_id, new SelectList(Model.CustomerNameList, "cust_id", "cust_name"), new { @class = "form-control", @onchange = "OnChangeCustomer()", @id = "ddlCustomerName", disabled = "disabled" })
                                                }
                                                else
                                                {
                                                    @Html.DropDownListFor(model => model.cust_id, new SelectList(Model.CustomerNameList, "cust_id", "cust_name"), new { @class = "form-control", @onchange = "OnChangeCustomer()", @id = "ddlCustomerName" })
                                                }
                                            }
                                        }
                                        <input type="hidden" id="hdCustomerList" value='@Url.Action("GetAutoCompleteCustomerName", "DomesticPacking")' />
                                    </div>
                                    @Html.ValidationMessageFor(model => model.cust_id, String.Empty, new { @style = "color:red;!important", @id = "vmcust_id" })
                                </div>
                                <div class="col-md-4 col-sm-12">
                                    <label class="col-form-label label-align">@Resource.remarks</label>
                                    @if (Disable)
                                    {
                                        @Html.TextAreaFor(model => model.pack_remarks, new { @id = "txtPackRemarks", @maxlength = "100", @class = "form-control remarksmessage", @name = "remarks", @readonly = "readonly", @placeholder = Resource.remarks, })
                                    }
                                    else
                                    {
                                        if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                        {
                                            @Html.TextAreaFor(model => model.pack_remarks, new { @id = "txtPackRemarks", @maxlength = "100", @class = "form-control remarksmessage", @readonly = "readonly", @name = "remarks", @placeholder = Resource.remarks, })
                                        }
                                        else
                                        {
                                            @Html.TextAreaFor(model => model.pack_remarks, new { @id = "txtPackRemarks", @maxlength = "100", @class = "form-control remarksmessage", @name = "remarks", @placeholder = Resource.remarks, })
                                        }
                                    }
                                </div>

                                <div class="clearfix"></div>

                                <div class="col-md-55 col-sm-12" style="display:none">
                                    <label class="col-form-label label-align">@Resource.Currency <span class="required">*</span></label>
                                    @if (Disable)
                                    {
                                        @Html.DropDownListFor(model => model.curr_id, new SelectList(Model.currLists, "curr_id", "curr_nm"), new { @class = "form-control", @disabled = "disabled", id = "ddlCurrencies" })
                                    }
                                    else
                                    {
                                        if (!string.IsNullOrEmpty(Model.StatusCode))
                                        {
                                            @Html.DropDownListFor(model => model.curr_id, new SelectList(Model.currLists, "curr_id", "curr_nm"), new { @class = "form-control", @disabled = "disabled", id = "ddlCurrencies" })
                                        }
                                        else
                                        {
                                            @Html.DropDownListFor(model => model.curr_id, new SelectList(Model.currLists, "curr_id", "curr_nm"), new { @class = "form-control", @onchange = "onChangeCurrency()", id = "ddlCurrencies" })
                                        }
                                    }
                                    @Html.HiddenFor(m => m.curr_id, new { @id = "Hdn_Curr_Id" })
                                    @Html.ValidationMessageFor(model => model.curr_id, String.Empty, new { @style = "color:red;!important", @id = "vmddlCurrencies" })
                                </div>
                                <div class="col-md-55 col-sm-12" id="Div_OrderNumber">
                                    @Html.HiddenFor(model => model.SO_Number, new { @id = "hd_so_no" })
                                    <label class="col-form-label label-align">@Resource.OrderNumber <span class="required">*</span></label>
                                    <div class="input-group">
                                        @if (Disable)
                                        {
                                            @Html.DropDownListFor(model => model.so_no, new SelectList(Model.OrderNumberList, "so_dt", "so_no", "so_no"), new { @class = "form-control", disabled = "disabled", id = "ddlOrderNumber" })
                                            @Html.ValidationMessageFor(model => model.so_no, String.Empty, new { @style = "color:red;!important", @id = "vmsrc_doc_no" })
                                        }
                                        else
                                        {
                                            if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                            {
                                                @Html.DropDownListFor(model => model.so_no, new SelectList(Model.OrderNumberList, "so_dt", "so_no", "so_no"), new { @class = "form-control", id = "ddlOrderNumber", disabled = "disabled" })
                                                @Html.ValidationMessageFor(model => model.so_no, String.Empty, new { @style = "color:red;!important", @id = "vmsrc_doc_no" })
                                            }
                                            else
                                            {
                                                @Html.DropDownListFor(model => model.so_no, new SelectList(Model.OrderNumberList, "so_dt", "so_no", "so_no"), new { @class = "form-control", id = "ddlOrderNumber", onchange = "ddlSONumberSelect()" })
                                                @Html.ValidationMessageFor(model => model.so_no, String.Empty, new { @style = "color:red;!important", @id = "vmsrc_doc_no" })
                                            }
                                        }
                                    </div>
                                    @Html.ValidationMessageFor(model => model.SO_Number, String.Empty, new { @style = "color:red;!important", @id = "vmso_no" })
                                </div>
                                <div class="col-md-55 col-sm-12" id="Div_OrderDate">
                                    <label class="col-form-label label-align">@Resource.OrderDate</label>
                                    @if (Disable)
                                    {
                                        @Html.TextBoxFor(model => model.so_dt, "{0:dd/MM/yyyy}", new { @class = "form-control", @readonly = "readonly", type = "date", @id = "txtso_dt", @placeholder = "Order Date" })
                                    }
                                    else
                                    {
                                        if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                        {
                                            @Html.TextBoxFor(model => model.so_dt, "{0:dd/MM/yyyy}", new { @class = "form-control", @readonly = "readonly", type = "date", @id = "txtso_dt", @placeholder = "Order Date" })
                                        }
                                        else
                                        {
                                            if (Model.so_no != null)
                                            {
                                                @Html.TextBoxFor(model => model.so_dt, "{0:dd/MM/yyyy}", new { @class = "form-control", @readonly = "readonly", type = "date", @id = "txtso_dt", @placeholder = "Order Date" })
                                            }
                                            else
                                            {
                                                @Html.TextBoxFor(model => model.so_dt, "{0:dd/MM/yyyy}", new { @class = "form-control", @readonly = "readonly", type = "date", @id = "txtso_dt", @placeholder = "Order Date" })
                                            }
                                        }
                                    }
                                    @Html.HiddenFor(model => model.SO_DATE, new { @id = "hdso_dt" })
                                    <span id="inputSuccess2Status" class="sr-only">(success)</span>
                                </div>

                                <div id="divExportData" style="display: none;">
                                    <div class="col-md-2 col-sm-12">
                                        <label class="col-form-label label-align">@Resource.ExportFileNumber</label>
                                        @if (Disable)
                                        {
                                            @Html.TextBoxFor(model => model.exp_file_no, new { @id = "txtexp_file_no", @maxlength = "100", disabled = "disabled", @class = "form-control", @placeholder = "Export File Number" })
                                        }
                                        else
                                        {
                                            if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                            {
                                                @Html.TextBoxFor(model => model.exp_file_no, new { @id = "txtexp_file_no", disabled = "disabled", @maxlength = "100", @class = "form-control", @placeholder = "Export File Number" })
                                            }
                                            else
                                            {
                                                @Html.TextBoxFor(model => model.exp_file_no, new { @id = "txtexp_file_no", @maxlength = "100", @class = "form-control", @placeholder = "Export File Number" })
                                            }
                                        }
                                    </div>
                                    @*<div class="col-md-2 col-sm-12">
                                            <label class="col-form-label label-align">@Resource.Currency</label>
                                            @if (Disable)
                                            {
                                                @Html.TextBoxFor(model => model.curr_id, new { @id = "txtcurr_id", @maxlength = "100", disabled = "disabled", @class = "form-control", @placeholder = "Currency" })
                                            }
                                            else
                                            {
                                                if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                                {
                                                    @Html.TextBoxFor(model => model.curr_id, new { @id = "txtcurr_id", disabled = "disabled", @maxlength = "100", @class = "form-control", @placeholder = "Currency" })
                                                }
                                                else
                                                {
                                                    @Html.TextBoxFor(model => model.curr_id, new { @id = "txtcurr_id", @maxlength = "100", @class = "form-control", @placeholder = "Currency" })
                                                }
                                            }
                                        </div>*@
                                    <div class="col-md-2 col-sm-12">
                                        <label class="col-form-label label-align">@Resource.ExchangeRate</label>
                                        @if (Disable)
                                        {
                                            @Html.TextBoxFor(model => model.Ex_rate, new { @id = "txtEx_rate", @maxlength = "100", disabled = "disabled", @class = "form-control", @placeholder = "Exchange Rate" })
                                        }
                                        else
                                        {
                                            if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                            {
                                                @Html.TextBoxFor(model => model.Ex_rate, new { @id = "txtEx_rate", disabled = "disabled", @maxlength = "100", @class = "form-control", @placeholder = "Exchange Rate" })
                                            }
                                            else
                                            {
                                                @Html.TextBoxFor(model => model.Ex_rate, new { @id = "txtEx_rate", @maxlength = "100", @class = "form-control", @placeholder = "Exchange Rate" })
                                            }
                                        }
                                    </div>
                                </div>

                                @if (Disable)
                                {
                                    <div class="col-md-1 col-sm-12 margin25" id="Div_AddIcon" style="display:none">
                                        <a href="#">
                                            <div class="plus_icon1" id="DivAddIcon" style="display:none"><i class="fa fa-plus" id="BtnAttribute" title="@Resource.PopulateItemDetail"></i></div>
                                        </a>
                                    </div>
                                }
                                else
                                {
                                    if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                    {
                                        <div class="col-md-1 col-sm-12 margin25" id="Div_AddIcon" style="display:none">
                                            <a href="#">
                                                <div class="plus_icon1" id="DivAddIcon" style="display:none"><i class="fa fa-plus" id="BtnAttribute" title="@Resource.PopulateItemDetail"></i></div>
                                            </a>
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="col-md-1 col-sm-12 margin25" id="Div_AddIcon">
                                            <a href="#">
                                                <div class="plus_icon1" id="DivAddIcon"><i class="fa fa-plus" id="BtnAttribute" onclick="AddDocumentDetails()" title="@Resource.PopulateItemDetail"></i></div>
                                            </a>
                                        </div>
                                    }
                                }

                                <div class="col-md-55 col-sm-12" id="Div_Cancelledremarks" style="display:none">
                                    <label class="col-form-label label-align">
                                        @Resource.Cancellation   @Resource.remarks <span class="required"> *</span>
                                    </label>
                                    @if (Disable)
                                    {
                                        @Html.TextAreaFor(model => model.CancelledRemarks, new
                                   {
                                       @id = "Cancelledremarks",
                                       @class = "form-control remarksmessage",
                                       @maxlength = "499"
                                       ,
                                       @name = "message",
                                       @placeholder = @Resource.Cancellation + " " + @Resource.remarks,
                                       @disabled = "disabled",
                                       @onchange = "onchangeCancelledRemarks()"
                                   })
                                    }
                                    else
                                    {
                                        @Html.TextAreaFor(model => model.CancelledRemarks, new
                                   {
                                       @id = "Cancelledremarks",
                                       @class = "form-control remarksmessage",
                                       @maxlength = "499"
                                       ,
                                       @name = "message",
                                       @placeholder = @Resource.Cancellation + " " + @Resource.remarks,
                                       @onchange = "onchangeCancelledRemarks()"
                                   })

                                    }
                                    @Html.ValidationMessageFor(model => model.CancelledRemarks, String.Empty, new { @style = "color:red;!important", @id = "SpanCancelledRemarks" })

                                </div>
                                <div class="clear"></div>
                                <div class="card-box table-responsive dy_table">
                                    <div class="col-md-12">
                                        <div class="price_item_detail">
                                            <div class="tableFixHead height30VH">
                                                <h2 class="col-md-8 col-sm-12 no-padding mt-3">@Resource.ItemDetail</h2>
                                                <div class="col-md-4 col-sm-12 no-padding num_right mt-3 mb-2">
                                                <label class="label pt-1 col-md-4 col-sm-12 num_right pr-0" for="SearchItmDetailsTbl">@Resource.Search @Resource.Item : </label>
                                                <input type="text" class="form-control col-md-7 col-sm-12" id="SearchItmDetailsTbl" onkeyup="FilterItemDetail(event)" /> 
                                                <a class="pl_excel" href="#" onclick=" return ExportItemsListOrSerializationDetailsToExcel('ITEMDETAILS')"><i class="fa fa-file-excel-o" aria-hidden="true"></i></a></div>


                                                @Html.HiddenFor(model => model.DnItemdetails, new { @id = "hdPackDetailList" })
                                                <div id="packItemDetailsttbl">
                                                    <table id="PDItmDetailsTbl" class="table table-bordered width2200 itmfrz">
                                                        <thead>
                                                            <tr class="sticky-header">
                                                                <th class="" width="2%">
                                                                    @if (Disable)
                                                                    {
                                                                        <input type="checkbox" class="tableflat float-left ml-1" id="AllPackingCheck" onclick="OnClickAllPackingCheck()" disabled>
                                                                    }
                                                                    else
                                                                    {
                                                                        if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                                                        {
                                                                            <input type="checkbox" class="tableflat float-left ml-1" id="AllPackingCheck" onclick="OnClickAllPackingCheck()" disabled>
                                                                        }
                                                                        else
                                                                        {
                                                                            <input type="checkbox" class="tableflat float-left ml-1" id="AllPackingCheck" onclick="OnClickAllPackingCheck()">
                                                                        }
                                                                    }
                                                                </th>
                                                                <th width="1%">
                                                                    @if (Disable)
                                                                    {
                                                                        <i class="fa fa-trash" style="filter: grayscale(100%)" aria-hidden="true" title="@Resource.Delete"></i>
                                                                    }
                                                                    else
                                                                    {
                                                                        if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                                                        {
                                                                            <i class="fa fa-trash" style="filter: grayscale(100%)" aria-hidden="true" title="@Resource.Delete"></i>
                                                                        }
                                                                        else
                                                                        {
                                                                            <i class="fa fa-trash red pl-2 float-left" id="AllDelete" onclick="OnClickAllPackingDelete()" aria-hidden="true" title="@Resource.Delete"></i>
                                                                        }
                                                                    }
                                                                </th>
                                                                <th width="2%">@Resource.SrNo</th>
                                                                @*<th width="14%" class="itmStick">@Resource.ItemName</th>*@
                                                                <th width="15%" class="itmStick">
                                                                    <div class="col-md-6 col-sm-12">
                                                                        <span class="item_add">
                                                                            @Resource.ItemName <span class="required">*</span>
                                                                        </span>
                                                                        @if (Model.Command == "Edit" && Model.StatusCode == "D" && Model.hdnItemorientation == "IW")
                                                                        {
                                                                            <div id="">
                                                                                <a href="#">
                                                                                    <div class="plus_icon1"> <i class="fa fa-plus" id="BtnAddItem" onclick="AddNewRow()" title="@Resource.AddNew"></i> </div>
                                                                                </a>
                                                                            </div>
                                                                        }
                                                                        else
                                                                        {
                                                                            <div id="Div_ItemPlusBtn">
                                                                                <a href="#">
                                                                                    <div class="plus_icon1"> <i class="fa fa-plus" id="BtnAddItem" onclick="AddNewRow()" title="@Resource.AddNew"></i> </div>
                                                                                </a>
                                                                            </div>
                                                                        }

                                                                    </div>
                                                                    @*<div class="col-md-3 col-sm-12"> </div>*@
                                                                </th>

                                                                <th width="3%" title="Unit Of Measure"> @Resource.UOM</th>
                                                                <th width="6%">@Resource.PackSize</th>
                                                                <th @*width="6%"*@ hidden="hidden">@Resource.Order <br /> @Resource.Quantity </th>
                                                                <th @*width="6%"*@ hidden="hidden">@Resource.Balance <br /> @Resource.Quantity</th>
                                                                <th width="8%">@Resource.Packed <br /> @Resource.Quantity <span class="required">*</span></th>
                                                                @if (ViewBag.PackSerialization == "Y")
                                                                {
                                                                    @*<th width="4%">@Resource.NumberOf <br /> @Resource.Packs </th>*@
                                                                    <th width="5%">@Resource.TotalOuterPacks</th>
                                                                    @*  <th width="3%">@Resource.Physical <br />  @Resource.Pack</th>*@
                                                                    <th width="5%">@Resource.PhysicalOuterPacks</th>
                                                                }
                                                                else
                                                                {
                                                                    @*<th width="4%">@Resource.NumberOf <br /> @Resource.Packs <span class="required">*</span></th>*@

                                                                    <th width="5%">@Resource.TotalOuterPacks <span class="required">*</span></th>
                                                                    @*  <th width="3%">@Resource.Physical <br />  @Resource.Pack</th>*@
                                                                    <th width="5%">@Resource.PhysicalOuterPacks <span class="required">*</span></th>

                                                                }

                                                                <th width="5%">@Resource.Net <br />  @Resource.Weight</th>
                                                                <th width="5%">@Resource.Gross <br /> @Resource.Weight</th>
                                                                <th width="11%">
                                                                    <div class="col-md-10 col-sm-12">
                                                                        @Resource.Warehouse
                                                                    </div>
                                                                    <div class="col-md-2 col-sm-12">
                                                                        @if (Disable)
                                                                        {
                                                                            <button type="button" class="calculator" disabled onclick="onclickReplicateWithAllItems()" data-toggle="modal" data-target="#ReplicateWithAllSamples" data-backdrop="static" data-keyboard="false"><i class="fa fa-files-o" aria-hidden="true" title="@Resource.ReplicateWithAllItems"></i> </button>
                                                                        }
                                                                        else
                                                                        {
                                                                            if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                                                            {
                                                                                <button type="button" class="calculator" disabled onclick="onclickReplicateWithAllItems()" data-toggle="modal" data-target="#ReplicateWithAllSamples" data-backdrop="static" data-keyboard="false"><i class="fa fa-files-o" aria-hidden="true" title="@Resource.ReplicateWithAllItems"></i> </button>
                                                                            }
                                                                            else
                                                                            {
                                                                                <button type="button" class="calculator" onclick="onclickReplicateWithAllItems()" data-toggle="modal" data-target="#ReplicateWithAllSamples" data-backdrop="static" data-keyboard="false"><i class="fa fa-files-o" aria-hidden="true" title="@Resource.ReplicateWithAllItems"></i> </button>
                                                                            }
                                                                        }
                                                                        <input hidden="" id="" value="">
                                                                    </div>
                                                                </th>
                                                                <th width="7%">@Resource.Available <br /> @Resource.Stock</th>
                                                                <th width="5%">@Resource.LotDetail @*<br /> @Resource.Detail*@</th>
                                                                @*<th width="5%" >@Resource.SerialNumber <br /> @Resource.Detail</th>*@
                                                                <th width="5%">@Resource.Packaging <br /> @Resource.Detail</th>
                                                                <th width="4%">@Resource.CBM</th>
                                                                <th width="12%">@Resource.remarks</th>

                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @if (ViewBag.ItemDetails != null)
                                                            {
                                                                var rowIdx = 0;
                                                                foreach (System.Data.DataRow Row in ViewBag.ItemDetails.Rows)
                                                                {
                                                                    var PhyDisable = "Enable";
                                                                    if (Convert.ToDecimal(Row["phy_pack"].ToString()) > 0)
                                                                    {
                                                                        //PhyDisable = "disabled";
                                                                    }
                                                                    else
                                                                    {
                                                                        PhyDisable = "disabled";
                                                                    }
                                                                    var subitmDisable = "";
                                                                    if (Row["sub_item"].ToString() != "Y")
                                                                    {
                                                                        subitmDisable = "disabled";
                                                                    }
                                                                    rowIdx++;
                                                                    var wh_id = "wh_id" + @rowIdx;
                                                                    var ItemID = "ItemName" + @rowIdx;
                                                                    <tr id="@rowIdx">
                                                                        @if (Disable)
                                                                        {
                                                                            <td class="center"><input type="checkbox" class="tableflat" id="PackingCheck" onclick="OnClickPackingCheck()" disabled></td>
                                                                        }
                                                                        else
                                                                        {
                                                                            if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                                                            {
                                                                                <td class="center"><input type="checkbox" class="tableflat" id="PackingCheck" onclick="OnClickPackingCheck()" disabled></td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td class="center"><input type="checkbox" class="tableflat" id="PackingCheck" onclick="OnClickPackingCheck()"></td>
                                                                            }
                                                                        }
                                                                        <td class="red center">
                                                                            @if (Disable)
                                                                            {
                                                                                <i class="fa fa-trash" style="filter: grayscale(100%)" aria-hidden="true" title="@Resource.Delete"></i>
                                                                            }
                                                                            else
                                                                            {
                                                                                if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                                                                {
                                                                                    <i class="fa fa-trash" style="filter: grayscale(100%)" aria-hidden="true" title="@Resource.Delete"></i>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <i class="deleteIcon fa fa-trash" aria-hidden="true" title="@Resource.Delete"></i>
                                                                                }
                                                                            }
                                                                        </td>
                                                                        <td class="sr_padding">
                                                                            <span id="SpanRowId">@rowIdx</span>
                                                                            <input type="hidden" id="hdSpanRowId" value="@rowIdx" style="display: none;" />
                                                                        </td>
                                                                        @if (Model.hdnItemorientation == "OW")
                                                                        {
                                                                            <td class="ItmNameBreak itmStick tditemfrz">
                                                                                <div class=" col-sm-10 no-padding">
                                                                                    <input id="@ItemID" value="@Row["item_name"].ToString()" class="form-control" autocomplete="off" type="text" name="ItemName" required="required" placeholder="ItemName" onblur="this.placeholder='ItemName'" disabled>
                                                                                    <input type="hidden" id="hdItemId" value="@Row["item_id"].ToString()" style="display: none;" />
                                                                                    <input type="hidden" id="ItemName" value="@Row["item_name"].ToString()" style="display: none;" />
                                                                                </div>
                                                                                <div class="col-sm-1 i_Icon">
                                                                                    <button type="button" class="calculator" onclick="OnClickIconBtn(event);" data-toggle="modal" data-target="#ItemInfo" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.ItemInformation"> </button>
                                                                                </div>
                                                                                <div class="col-sm-1 i_Icon"><button type="button" id="BuyerInfoIcon" class="calculator" onclick="OnClickBuyerInfoIconBtn(event);" data-toggle="modal" data-target="#CustomerInformation" data-backdrop="static" data-keyboard="false"> <i class="fa fa-user" aria-hidden="true" data-toggle="" title="@Resource.CustomerInformation"></i> </button></div>
                                                                            </td>
                                                                        }
                                                                        else
                                                                        {
                                                                            if (Disable || (Model.Command == "Edit" && ViewBag.DocumentCode.ToString() == "A"))
                                                                            {

                                                                                <td class="ItmNameBreak itmStick tditemfrz">
                                                                                    <div class=" col-sm-10 no-padding">

                                                                                        <select class="form-control" id="@ItemID" name="ItemName" disabled onchange="OnChangePackingItemName(@rowIdx,event)">
                                                                                            <option value="@Row["item_id"].ToString()">@Row["item_name"].ToString()</option>
                                                                                        </select>
                                                                                        <input type="hidden" id="hdItemId" value="@Row["item_id"].ToString()" style="display: none;" />
                                                                                        <input type="hidden" id="ItemName" value="@Row["item_name"].ToString()" style="display: none;" />
                                                                                    </div>
                                                                                    <div class="col-sm-1 i_Icon">
                                                                                        <button type="button" class="calculator" onclick="OnClickIconBtn(event);" data-toggle="modal" data-target="#ItemInfo" data-backdrop="static" data-keyboard="false"> <img src="/Content/Images/iIcon1.png" alt="" title="${$(" #Span_ItemInformation_Title").text()}"> </button>
                                                                                    </div><div class="col-sm-1 i_Icon"><button type="button" id="BuyerInfoIcon" class="calculator" onclick="OnClickBuyerInfoIconBtn(event);" data-toggle="modal" data-target="#CustomerInformation" data-backdrop="static" data-keyboard="false"> <i class="fa fa-user" aria-hidden="true" title="${$(" #Span_CustomerInformation_Title").text()}"></i> </button></div>
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td class="ItmNameBreak itmStick tditemfrz">
                                                                                    <div class=" col-sm-10 no-padding">

                                                                                        <select class="form-control" id="@ItemID" name="ItemName" onchange="OnChangePackingItemName(@rowIdx,event)">
                                                                                            <option value="@Row["item_id"].ToString()">@Row["item_name"].ToString()</option>
                                                                                        </select>
                                                                                        <input type="hidden" id="hdItemId" value="@Row["item_id"].ToString()" style="display: none;" />
                                                                                        <input type="hidden" id="ItemName" value="@Row["item_name"].ToString()" style="display: none;" />
                                                                                    </div>
                                                                                    <div class="col-sm-1 i_Icon">
                                                                                        <button type="button" class="calculator" onclick="OnClickIconBtn(event);" data-toggle="modal" data-target="#ItemInfo" data-backdrop="static" data-keyboard="false"> <img src="/Content/Images/iIcon1.png" alt="" title="${$(" #Span_ItemInformation_Title").text()}"> </button>
                                                                                    </div><div class="col-sm-1 i_Icon"><button type="button" id="BuyerInfoIcon" class="calculator" onclick="OnClickBuyerInfoIconBtn(event);" data-toggle="modal" data-target="#CustomerInformation" data-backdrop="static" data-keyboard="false"> <i class="fa fa-user" aria-hidden="true" title="${$(" #Span_CustomerInformation_Title").text()}"></i> </button></div>
                                                                                </td>
                                                                            }
                                                                        }

                                                                        <td>
                                                                            <input id="UOM" value="@Row["uom_name"].ToString()" class="form-control" autocomplete="off" type="text" name="UOM" required="required" placeholder="@Resource.UOM" disabled>
                                                                            <input type="hidden" id="hdUOMId" value="@Row["uom_id"].ToString()" style="display: none;" />
                                                                        </td>
                                                                        @if (Disable || (Model.Command == "Edit" && ViewBag.DocumentCode.ToString() == "A"))
                                                                        {
                                                                            <td>
                                                                                <input id="PackSize" maxlength="50" class="form-control remarksmessage" autocomplete="off" type="text" name="PackSize" placeholder="@Resource.PackSize" value="@Row["PackSize"].ToString()" onmouseover="OnMouseOver(this.value)" disabled>
                                                                            </td>
                                                                        }
                                                                        else
                                                                        {
                                                                            <td>
                                                                                <input id="PackSize" maxlength="50" class="form-control" autocomplete="off" type="text" name="PackSize" placeholder="@Resource.PackSize" value="@Row["PackSize"].ToString()" onmouseover="OnMouseOver(this.value)">
                                                                            </td>
                                                                        }
                                                                        <td style="display:none">
                                                                            <div class="col-sm-9 lpo_form no-padding">
                                                                                <input id="OrderQuantity" value="@Convert.ToDecimal(Row["ord_qty"]).ToString(Model.QtyDigit)" class="form-control num_right" autocomplete="off" type="text" step="" name="OrderQuantity" required="required" placeholder="0000.00" disabled>
                                                                            </div>
                                                                            <div class="col-sm-3 i_Icon" id="div_SubItemOrdQty">
                                                                                <input hidden type="text" id="sub_item" value="@Row["sub_item"].ToString()" />
                                                                                <button type="button" id="SubItemOrdQty" @subitmDisable class="calculator subItmImg" onclick="return SubItemDetailsPopUp('Order',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                            </div>
                                                                        </td>
                                                                        <td style="display:none">
                                                                            <div class="col-sm-9 lpo_form no-padding">
                                                                                <input id="BalanceQuantity" value="@Convert.ToDecimal(Row["bal_qty"]).ToString(Model.QtyDigit)" class="form-control num_right" autocomplete="off" type="text" name="ord_qty_spec" required="required" placeholder="0000.00" disabled>
                                                                                <span id="ord_qty_specError" class="error-message is-visible"></span>
                                                                            </div>
                                                                            <div class="col-sm-3 i_Icon" id="div_SubItemBalncQty">
                                                                                <button type="button" id="SubItemBalncQty" @subitmDisable class="calculator subItmImg" onclick="return SubItemDetailsPopUp('Pending',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="lpo_form">
                                                                                @if (ViewBag.PackSerialization == "Y")
                                                                                {
                                                                                    <div class=" col-sm-8 no-padding">
                                                                                        <input id="PackedQuantity" value="@Convert.ToDecimal(Row["pack_qty"]).ToString(Model.QtyDigit)" class="form-control num_right" autocomplete="off" type="text" name="PackedQuantity" placeholder="0000.00" disabled>
                                                                                        <span id="PackedQuantity_Error" class="error-message is-visible"></span>
                                                                                    </div>
                                                                                    <div class=" col-sm-4 no-padding">
                                                                                        <div class="col-sm-6 i_Icon">
                                                                                            <button type="button" class="calculator" onclick="OnClickItemOrderQtyIconBtn(event);" data-toggle="modal" data-target="#QuantityDetail" data-backdrop="static" data-keyboard="false"> <img src="/Content/Images/iIcon1.png" alt="" title="@Resource.Quantity @Resource.Detail"> </button>
                                                                                        </div>
                                                                                        <div class="col-sm-6 i_Icon">
                                                                                            <button type="button" id="PackingBoxbtn" class="calculator" onclick="OnClickPackingDetailsBtn(event);" data-toggle="modal" data-target="#PackingListDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/packing.png" alt="" title="@Resource.Pack @Resource.Serialization @Resource.Detail"> </button>
                                                                                        </div>
                                                                                    </div>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <div class="col-sm-8 no-padding">
                                                                                        <input id="PackedQuantity" value="@Convert.ToDecimal(Row["pack_qty"]).ToString(Model.QtyDigit)" class="form-control num_right" autocomplete="off" type="text" name="PackedQuantity" placeholder="0000.00" disabled>
                                                                                        <span id="PackedQuantity_Error" class="error-message is-visible"></span>
                                                                                    </div>
                                                                                    <div class=" col-sm-4 no-padding">
                                                                                        <div class="col-sm-6 i_Icon">
                                                                                            <button type="button" class="calculator" onclick="OnClickItemOrderQtyIconBtn(event);" data-toggle="modal" data-target="#QuantityDetail" data-backdrop="static" data-keyboard="false"> <img src="/Content/Images/iIcon1.png" alt="" title="@Resource.Quantity @Resource.Detail"> </button>
                                                                                        </div>
                                                                                    </div>
                                                                                }

                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="lpo_form">
                                                                                @if (Disable || ViewBag.PackSerialization == "Y")
                                                                                {
                                                                                    <input id="NumberOfPacks" value="@Convert.ToDecimal(Row["pack_nos"]).ToString(Model.ValDigit)" disabled class="form-control num_right" autocomplete="off" type="text" name="NumberOfPacks" placeholder="0000.00">
                                                                                }
                                                                                else
                                                                                {
                                                                                    if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                                                                    {
                                                                                        <input id="NumberOfPacks" value="@Convert.ToDecimal(Row["pack_nos"]).ToString(Model.ValDigit)" disabled class="form-control num_right" autocomplete="off" type="text" name="NumberOfPacks" placeholder="0000.00">
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input id="NumberOfPacks" value="@Convert.ToDecimal(Row["pack_nos"]).ToString(Model.ValDigit)" onchange="OnChangeNumberOfPacks(this,event)" class="form-control num_right" autocomplete="off" type="text" name="NumberOfPacks" placeholder="0000.00">
                                                                                    }
                                                                                }
                                                                                <span id="NumberOfPacks_Error" class="error-message is-visible"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="lpo_form">
                                                                                @if (Disable || ViewBag.PackSerialization == "Y")
                                                                                {
                                                                                    <input id="PhysicalPacks" value="@Convert.ToDecimal(Row["phy_pack"]).ToString(Model.ValDigit)" disabled class="form-control num_right" autocomplete="off" type="text" name="PhysicalPacks" placeholder="0000.00">

                                                                                }
                                                                                else
                                                                                {
                                                                                    if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                                                                    {
                                                                                        <input id="PhysicalPacks" value="@Convert.ToDecimal(Row["phy_pack"]).ToString(Model.ValDigit)" disabled class="form-control num_right" autocomplete="off" type="text" name="PhysicalPacks" placeholder="0000.00">
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input id="PhysicalPacks" value="@Convert.ToDecimal(Row["phy_pack"]).ToString(Model.ValDigit)" onchange="OnChangephy_pack(this,event)" class="form-control num_right" autocomplete="off" type="text" name="PhysicalPacks" placeholder="0000.00">
                                                                                    }
                                                                                }
                                                                                <span id="PhysicalPacks_Error" class="error-message is-visible"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="lpo_form">
                                                                                @if (Disable || ViewBag.PackSerialization == "Y")
                                                                                {
                                                                                    <input id="NetWeight" value="@Row["net_wght"].ToString()" disabled class="form-control num_right" autocomplete="off" type="text" name="NetWeight" placeholder="0000.00">
                                                                                    <input type="hidden" id="hditemnetwgt" value="@Row["itmnet_wght"].ToString()" style="display: none;" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                                                                    {
                                                                                        <input id="NetWeight" value="@Row["net_wght"].ToString()" disabled class="form-control num_right" autocomplete="off" type="text" name="NetWeight" placeholder="0000.00">
                                                                                        <input type="hidden" id="hditemnetwgt" value="@Row["itmnet_wght"].ToString()" style="display: none;" />
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input id="NetWeight" value="@Row["net_wght"].ToString()" onchange="OnChangeNetWeight(this,event)" onkeypress="return OnKeyPressNetWeight(this,event);" class="form-control num_right" autocomplete="off" type="text" name="NetWeight" placeholder="0000.00">
                                                                                        <input type="hidden" id="hditemnetwgt" value="@Row["itmnet_wght"].ToString()" style="display: none;" />
                                                                                    }
                                                                                }
                                                                                <span id="NetWeight_Error" class="error-message is-visible"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            @if (Disable || ViewBag.PackSerialization == "Y")
                                                                            {
                                                                                <input id="GrossWeight" value="@Row["gr_wght"].ToString()" disabled class="form-control num_right" autocomplete="off" type="text" name="GrossWeight" placeholder="0000.00">
                                                                                <input type="hidden" id="hditemgrosswgt" value="@Row["itmgross_wght"].ToString()" style="display: none;" />
                                                                            }
                                                                            else
                                                                            {
                                                                                if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                                                                {
                                                                                    <input id="GrossWeight" value="@Row["gr_wght"].ToString()" disabled class="form-control num_right" autocomplete="off" type="text" name="GrossWeight" placeholder="0000.00">
                                                                                    <input type="hidden" id="hditemgrosswgt" value="@Row["itmgross_wght"].ToString()" style="display: none;" />
                                                                                }
                                                                                else
                                                                                {
                                                                                    <input id="GrossWeight" value="@Row["gr_wght"].ToString()" onchange="OnChangeGrossWeight(this,event)" onkeypress="return OnKeyPressGrossWeight(this,event);" class="form-control num_right" autocomplete="off" type="text" name="GrossWeight" placeholder="0000.00">
                                                                                    <input type="hidden" id="hditemgrosswgt" value="@Row["itmgross_wght"].ToString()" style="display: none;" />
                                                                                }
                                                                            }
                                                                        </td>
                                                                        <td>
                                                                            <div class="col-sm-11 no-padding">
                                                                                <div class="lpo_form">
                                                                                    @if (Disable)
                                                                                    {
                                                                                        <select disabled class="form-control" id="@wh_id">
                                                                                            @foreach (var item in Model.WarehouseList)
                                                                                            {
                                                                                                if (@item.wh_id == @Row["wh_id"].ToString())
                                                                                                {
                                                                                                    <option value="@item.wh_id" selected="selected">@item.wh_name</option>
                                                                                                }
                                                                                                else
                                                                                                {
                                                                                                    <option value="@item.wh_id">@item.wh_name</option>
                                                                                                }
                                                                                            }
                                                                                        </select>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        if (Model.Command == "Edit" && ViewBag.DocumentCode.ToString() == "A")
                                                                                        {
                                                                                            <select disabled class="form-control" id="@wh_id">
                                                                                                @foreach (var item in Model.WarehouseList)
                                                                                                {
                                                                                                    if (@item.wh_id == @Row["wh_id"].ToString())
                                                                                                    {
                                                                                                        <option value="@item.wh_id" selected="selected">@item.wh_name</option>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <option value="@item.wh_id">@item.wh_name</option>
                                                                                                    }
                                                                                                }
                                                                                            </select>
                                                                                        }
                                                                                        else
                                                                                        {
                                                                                            <select class="form-control" id="@wh_id" onchange="OnChangeWarehouse(this,event)">
                                                                                                @foreach (var item in Model.WarehouseList)
                                                                                                {
                                                                                                    if (@item.wh_id == @Row["wh_id"].ToString())
                                                                                                    {
                                                                                                        <option value="@item.wh_id" selected="selected">@item.wh_name</option>
                                                                                                    }
                                                                                                    else
                                                                                                    {
                                                                                                        <option value="@item.wh_id">@item.wh_name</option>
                                                                                                    }
                                                                                                }
                                                                                            </select>
                                                                                        }
                                                                                    }
                                                                                    <input type="hidden" id="hdwh_name" value="" style="display: none;" />
                                                                                    <span id="wh_Error" class="error-message is-visible"></span>

                                                                                </div>
                                                                            </div>
                                                                            <div class="col-sm-1 i_Icon">
                                                                                <button type="button" class="calculator" onclick="ItemStockWareHouseWise(this,event)" data-toggle="modal" data-target="#WareHouse" data-backdrop="static" data-keyboard="false"> <img src="/Content/Images/iIcon1.png" alt="" title="@Resource.WarehouseWiseStock"> </button>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="col-sm-9 lpo_form no-padding">
                                                                                <input id="AvailableStock" class="form-control num_right" value="@Convert.ToDecimal(Row["Avlstock"]).ToString(Model.QtyDigit)" type="text" name="AvailableStock" required="required" placeholder="0000.00" disabled>
                                                                            </div>
                                                                            <div class="col-sm-3 i_Icon" id="div_SubItemAvlStk">
                                                                                <button type="button" id="SubItemAvlStk" @subitmDisable class="calculator subItmImg" onclick="return GetSubItemAvlStock(event)" data-toggle="modal" data-target="#SubItemStock" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                            </div>
                                                                        </td>
                                                                        @*@if (@Row["i_batch"].ToString() == "Y") commented by Suraj on 12-09-2024
                                                                            {
                                                                                <td class="center">
                                                                                    <button type="button" id="btnbatchdeatil" onclick="ItemStockBatchWise(this,event)" class="calculator" data-toggle="modal" data-target="#BatchNumber" data-backdrop="static" data-keyboard="false"><i class="fa fa-eye" aria-hidden="true" data-toggle="" title="@Resource.BatchDetail"></i></button>
                                                                                    <input type="hidden" id="hdi_batch" value="Y" style="display: none;">
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td class="center">
                                                                                    <button type="button" id="btnbatchdeatil" disabled class="calculator subItmImg " data-toggle="modal" data-target="#BatchNumber" data-backdrop="static" data-keyboard="false"><i class="fa fa-eye" aria-hidden="true" data-toggle="" title="@Resource.BatchDetail"></i></button>
                                                                                    <input type="hidden" id="hdi_batch" value="N" style="display: none;">
                                                                                </td>
                                                                            }*@
                                                                        <td class="center">
                                                                            <button type="button" id="btnbatchdeatil" onclick="ItemStockBatchWise(this,event)" class="calculator" data-toggle="modal" data-target="#BatchNumber" data-backdrop="static" data-keyboard="false"><i class="fa fa-eye" aria-hidden="true" data-toggle="" title="@Resource.BatchDetail"></i></button>
                                                                            <input type="hidden" id="hdi_batch" value="Y" style="display: none;">
                                                                            <input type="hidden" id="hdi_serial" value="N" style="display: none;">
                                                                        </td>
                                                                        @*@if (@Row["i_serial"].ToString() == "Y")
                                                                            {
                                                                                <td class="center" >
                                                                                    <button type="button" id="btnserialdeatil" onclick="ItemStockSerialWise(this,event)" class="calculator " data-toggle="modal" data-target="#SerialDetail" data-backdrop="static" data-keyboard="false"><i class="fa fa-eye" aria-hidden="true" data-toggle="" title="@Resource.SerialDetail"></i></button>
                                                                                    <input type="hidden" id="hdi_serial" value="Y" style="display: none;">
                                                                                </td>
                                                                            }
                                                                            else
                                                                            {
                                                                                <td class="center" >
                                                                                    <button type="button" id="btnserialdeatil" disabled class="calculator subItmImg " data-toggle="modal" data-target="#SerialDetail" data-backdrop="static" data-keyboard="false"><i class="fa fa-eye" aria-hidden="true" title="@Resource.SerialDetail"></i></button>
                                                                                    <input type="hidden" id="hdi_serial" value="N" style="display: none;">
                                                                                </td>
                                                                            }*@
                                                                        <td class="center">
                                                                            <button type="button" @PhyDisable id="PackagingDetail" onclick="OnClickPackagingDetailBtn(this,event)" class="calculator subItmImg" data-toggle="modal" data-target="#PackagingDetail" data-backdrop="static" data-keyboard="false"><i class="fa fa-eye" aria-hidden="true" data-toggle="" title="@Resource.PackagingDetail"></i></button>
                                                                        </td>
                                                                        <td>
                                                                            <input id="CBM" class="form-control num_right" autocomplete="" value="@Convert.ToDecimal(Row["tot_cbm"]).ToString(Model.QtyDigit)" type="text" name="CBM" placeholder="0000.00" disabled="">
                                                                            <input type="hidden" id="hdpackagingItemId" value="@Row["pack_item_id"].ToString()" style="display: none;" />
                                                                            <input type="hidden" id="hdpackagingItemName" value="@Row["pack_item_name"].ToString()" style="display: none;" />
                                                                        </td>
                                                                        <td>
                                                                            @if (Disable)
                                                                            {
                                                                                <textarea id="remarks" value="@Row["it_remarks"].ToString()" class="form-control remarksmessage" readonly name="remarks" maxlength="100" placeholder="@Resource.remarks">@Row["it_remarks"].ToString()</textarea>
                                                                            }
                                                                            else
                                                                            {
                                                                                if (Model.Command == "Edit" && ViewBag.DocumentCode == "A")
                                                                                {
                                                                                    <textarea id="remarks" value="@Row["it_remarks"].ToString()" maxlength="100" class="form-control remarksmessage" readonly name="remarks" placeholder="@Resource.remarks">@Row["it_remarks"].ToString()</textarea>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <textarea id="remarks" value="@Row["it_remarks"].ToString()" maxlength="100" class="form-control remarksmessage" name="remarks" placeholder="@Resource.remarks">@Row["it_remarks"].ToString()</textarea>
                                                                                }
                                                                            }
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="tableTotal ">
                                                    <table class="table table-bordered  " style="margin-bottom:0px; width:100%;">
                                                        <thead>
                                                            <tr>
                                                                <th class="right_aligh text_normal">
                                                                    @Resource.Total  @Resource.NetWeight
                                                                </th>
                                                                <th>
                                                                    @Html.TextBoxFor(model => model.TotalNetWgt, new { @readonly = "readonly", @Value = @Model.TotalNetWgt, @type = "text", @id = "TotalNetWeight", @class = "form-control tax_cal text_bold", @placeholder = "0000.00" })
                                                                </th>
                                                                <th class="right_aligh text_normal">
                                                                    @Resource.Total  @Resource.GrossWeight
                                                                </th>
                                                                <th>
                                                                    @Html.TextBoxFor(model => model.TotalGrossWgt, new { @readonly = "readonly", @Value = @Model.TotalGrossWgt, @type = "text", @id = "TotalGrossWeight", @class = "form-control tax_cal text_bold", @placeholder = "0000.00" })
                                                                </th>
                                                                <th class="right_aligh text_normal">
                                                                    @Resource.Total   @Resource.CBM
                                                                </th>
                                                                <th>
                                                                    @Html.TextBoxFor(model => model.TotalCBM, new { @readonly = "readonly", @Value = @Model.TotalCBM, @type = "text", @id = "TotalCBM", @class = "form-control tax_cal text_bold", @placeholder = "0000.00" })
                                                                </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                    @if (ViewBag.PackSerialization == "Y")
                    {
                        var dsbl = "";
                        if (Disable || Model.StatusCode == "A")
                        {
                            dsbl = "disabled";
                        }
                        <section class="panel panel-default">
                            <div class="panel-heading" role="tab" id="headingTwo">
                                <h4 class="panel-title"> <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" class="collapsed" aria-controls="collapseTwo"> @Resource.Pack @Resource.Serialization @Resource.Detail <span class="glyphicon glyphicon-chevron-right pull-right" aria-hidden="true"></span> </a></h4>
                            </div>
                            <div id="collapseTwo" class="panel-collapse collapse show" role="tabpanel" aria-labelledby="headingTwo" style="">
                                <div class="panel-body">
                                    <div class="row">
                                        <div class="col-md-12 col-sm-12">
                                            <div class="col-md-4 col-sm-12">
                                                <label class="col-form-label label-align">@Resource.ItemName</label>
                                                <select id="Pack_ItemName" class="form-control" @dsbl onchange="onChangePackItem()">
                                                    <option value="0">---Select---</option>
                                                </select>
                                                @*<input id="Pack_ItemName" disabled class="form-control" autocomplete="off" maxlength="25"  type="text" name="ItemName" placeholder="ItemName" onblur="this.placeholder='ItemName'">
            <input type="hidden" id="hd_Pack_ItemId" value="" />*@
                                            </div>
                                            <div class="col-md-1 col-sm-12" style="padding-left: 0px;">
                                                <label class="col-form-label label-align"> @Resource.UOM</label>
                                                <input id="Pack_UOM" disabled class="form-control" autocomplete="off" maxlength="25" type="text" name="UOM" placeholder="@Resource.UOM">
                                                <input type="hidden" id="hd_Pack_UOMId" value="" />
                                            </div>
                                            <div class="col-md-2 col-sm-12 pl-0">
                                                <label class="col-form-label label-align">@Resource.Packed @Resource.Quantity</label>
                                                <input id="Pack_Quantity" class="form-control num_right" @dsbl onchange="onchangePackedQuantitySerlization()" autocomplete="off" maxlength="25" type="text" name="OrderQuantity" placeholder="@Resource.OrderQuantity" onblur="this.placeholder = '@Resource.OrderQuantity'">
                                                <input type="hidden" id="hdnPack_QuantitySerialization" value="" />
                                                <input type="hidden" id="hdnPacked_Quantity" value="" />
                                                <span id="Pack_QuantityError" class="field-validation-valid" style="color:red !important;"></span>
                                            </div>
                                            @if (!Model.Disable && Model.StatusCode != "A")
                                            {
                                                <div id="" class="col-md-4 col-sm-12 text-right heading_right_padding float-right mt-4 p-2">
                                                    <ul>
                                                        <li>


                                                            @*<a class="tooltip-test"
                        title="@Resource.Download @Resource.Template" href="" onclick="OnclickDownExcelSerlization()"><img src="~/Content/Images/export_icon.png" width="32" id="" onclick="" height="32" alt="Download Data Template"></a>*@
                                                            <a href="javascript:void(0);"
                                                               class="tooltip-test"
                                                               title="@Resource.Download @Resource.Template"
                                                               onclick="return OnclickDownExcelSerlization();">
                                                                <img src="~/Content/Images/export_icon.png"
                                                                     width="32"
                                                                     height="32"
                                                                     alt="Download Data Template" />
                                                            </a>
                                                        </li>
                                                        <li>
                                                            <a class="tooltip-test"
                                                               title="@Resource.Import @Resource.Data" data-toggle="modal" data-target="#PackingListSerializationImportData" onclick="onclickImportData()" data-backdrop="static" data-keyboard="false"><img src="~/Content/Images/import_icon.png" width="32" id="ImportData" height="32" alt="Import Data"></a>
                                                        </li>
                                                    </ul>
                                                </div>
                                            }
                                            else
                                            {
                                                if (Model.Amend == "Amend")
                                                {
                                                    <div id="" class="col-md-4 col-sm-12 text-right heading_right_padding float-right mt-4 p-2">
                                                        <ul>
                                                            <li>


                                                                @*<a class="tooltip-test"
                            title="@Resource.Download @Resource.Template" href="" onclick="OnclickDownExcelSerlization()"><img src="~/Content/Images/export_icon.png" width="32" id="" onclick="" height="32" alt="Download Data Template"></a>*@
                                                                <a href="javascript:void(0);"
                                                                   class="tooltip-test"
                                                                   title="@Resource.Download @Resource.Template"
                                                                   onclick="return OnclickDownExcelSerlization();">
                                                                    <img src="~/Content/Images/export_icon.png"
                                                                         width="32"
                                                                         height="32"
                                                                         alt="Download Data Template" />
                                                                </a>
                                                            </li>
                                                            <li>
                                                                <a class="tooltip-test"
                                                                   title="@Resource.Import @Resource.Data" data-toggle="modal" data-target="#PackingListSerializationImportData" onclick="onclickImportData()" data-backdrop="static" data-keyboard="false"><img src="~/Content/Images/import_icon.png" width="32" id="ImportData" height="32" alt="Import Data"></a>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                }
                                            }

                                            <div class="clear pt-2"></div>

                                            <div class="col-md-7 col-sm-12 no-padding">
                                                <div class="col-md-55 col-sm-12">
                                                    <label class="col-form-label label-align">@Resource.SerialFrom</label>
                                                    <input id="Pack_SerialFrom" @dsbl class="form-control num_right" onkeypress="return Cmn_IntValueonly(this,event)" autocomplete="off" onchange="OnchangePackSerialFrom()" maxlength="25" type="text" name="SerialFrom" placeholder="0000.00">
                                                    <span id="Pack_SerialFromError" class="field-validation-valid" style="color:red !important;"></span>
                                                    <input hidden id="Hdn_PackSrNo" />
                                                </div>
                                                <div class="col-md-55 col-sm-12" style="padding-left: 0px;">
                                                    <label class="col-form-label label-align">@Resource.SerialTo</label>
                                                    <input id="Pack_SerialTo" @dsbl class="form-control num_right" onkeypress="return Cmn_IntValueonly(this,event)" autocomplete="off" onchange="OnchangePackSerialTo()" maxlength="25" type="text" name="SerialTo" placeholder="0000.00">
                                                    <span id="Pack_SerialToError" class="field-validation-valid" style="color:red !important;"></span>
                                                </div>

                                                <div class="col-md-55 col-sm-12" style="padding-left: 0px;">
                                                    <label class="col-form-label label-align">@*@Resource.QtyPack Outer*@</label>
                                                    <label class="col-form-label label-align"> @Resource.QtyOuterPack</label>
                                                    <input id="Pack_QtyPack" @dsbl class="form-control num_right" onkeydown="PackDetails_QtyFloatValueonly(this,event)" onkeypress="return PackDetails_QtyFloatValueonly(this,event)" onchange="OnchangeSrQtyPerPack()" autocomplete="off" type="text" name="QtyPack" placeholder="0000.00"
                                                           @*oninput="this.value = this.value.replace(/[^0-9]/g, '')"*@>
                                                    <span id="Pack_QtyPackError" class="field-validation-valid" style="color:red !important;"></span>
                                                </div>
                                                <div class="col-md-55 col-sm-12" style="padding-left: 0px;">
                                                    <label class="col-form-label label-align">@Resource.QtyInnerPack</label>
                                                    <input id="Qty_PerInner" @dsbl class="form-control num_right" onkeypress="return Cmn_IntValueonly(this,event)" onchange="OnchangeQtyPerinner()" autocomplete="off" type="text" name="QtyPerInner" placeholder="0000.00">
                                                    <span id="QtyPerInnerError" class="field-validation-valid error-message" style="color:red !important;"></span>
                                                </div>
                                                <div class="col-md-55 col-sm-12 pl-0">
                                                    <label class="col-form-label label-align">@Resource.TotalInnerPacks</label>
                                                    <input id="TotalInnerBox" disabled class="form-control num_right" autocomplete="off" type="text" name="QtyPerInner" placeholder="0000.00">

                                                </div>
                                            </div>
                                            <div class="col-md-3 col-sm-12 pl-0 pr-0">
                                              
                                                <div class="col-md-4 col-sm-12 pl-0">
                                                    @*<label class="col-form-label label-align">@Resource.NetWeight@Resource.PerPiece</label>*@                   
                                                    <label class="col-form-label label-align"> @Resource.NetWeightPerPiece</label>
                                                    <input id="netweightperpiece" @dsbl class="form-control num_right" onkeypress="return PackDetails_AmtFloatWghtValueonly(this,event)" onchange="OnchangeSrNetWeightperpiece()" autocomplete="off" type="text" name="GrossWeightPerPiece" placeholder="0000.00">
                                                    <span id="piece_NetWeightError" class="field-validation-valid" style="color:red !important;"></span>
                                                </div>
                                                <div class="col-md-4 col-sm-12 pl-0">
                                                    <label class="col-form-label label-align">@Resource.NetWeightPerPack@*@Resource.NetWeight*@</label>
                                                    <input id="Pack_NetWeight" @dsbl class="form-control num_right" onkeypress="return PackDetails_AmtFloatWghtValueonly(this,event)" onchange="OnchangeSrNetWeight()" autocomplete="off" type="text" name="NetWeight" placeholder="0000.00">
                                                    <span id="Pack_NetWeightError" class="field-validation-valid" style="color:red!important;"></span>
                                                </div>
                                                <div class="col-md-4 col-sm-12 pl-0">
                                                    <label class="col-form-label label-align">@Resource.GrossWeightPerPiece</label>
                                                    @*<label class="col-form-label label-align">@Resource.GrossWeight @Resource.PerPiece</label>*@
                                                    <input id="grossweightperpiece" disabled @dsbl class="form-control num_right" onkeypress="return PackDetails_AmtFloatWghtValueonly(this,event)" onchange="OnchangeSrGrossWeightperpiece()" autocomplete="off" type="text" name="GrossWeightPerPiece" placeholder="0000.00">
                                                    <span id="piece_GrossWeightError" class="field-validation-valid" style="color:red !important;"></span>
                                                </div>


                                            </div>
                                            <div class="col-md-2 col-sm-12 pl-0 pr-0">
                                                <div class="col-md-10 col-sm-12 pl-0">
                                                    <label class="col-form-label label-align">@Resource.GrossWeightPerPack</label>
                                                    <input id="Pack_GrossWeight" @dsbl class="form-control num_right" onkeypress="return PackDetails_AmtFloatWghtValueonly(this,event)" onchange="OnchangeSrGrossWeight()" autocomplete="off" type="text" name="GrossWeight" placeholder="0000.00">
                                                    <span id="Pack_GrossWeightError" class="field-validation-valid" style="color:red !important;"></span>
                                                </div>
                                                <div class="col-md-2 col-sm-12 pl-0 pr-0 ">
                                                    @if (!Model.Disable && Model.StatusCode != "A")
                                                    {
                                                        <a href="#">
                                                            <div class="plus_icon1" style="margin-top: 30px;" id="Icon_AddNewPackDetails"> <i class="fa fa-plus" onclick="OnClickAddPackDetail();" id="" title="Add New"></i> </div>
                                                        </a>
                                                    }
                                                    else
                                                    {
                                                        if (Model.Amend == "Amend")
                                                        {
                                                            <a href="#">
                                                                <div class="plus_icon1" style="margin-top: 30px;" id="Icon_AddNewPackDetails"> <i class="fa fa-plus" onclick="OnClickAddPackDetail();" id="" title="Add New"></i> </div>
                                                            </a>
                                                        }
                                                    }
                                                </div>
                                            </div>



                                        </div>
                                        <div class="clear"></div>

                                        <div class="col-md-12 col-sm-12">

                                            <div class="col-md-9 col-sm-12 no-padding">

                                                <div class="col-md-11 col-sm-12 pr-4 num_right">
                                                    @if (!Model.Disable && Model.StatusCode != "A")
                                                    {
                                                        if (Model.PL_SerialiizationDT != null)
                                                        {
                                                            <button type="button" class="btn btn-primary btn-xs serialization" id="AutoSerialization" onclick="onclickAutoSerialization()">
                                                                @Resource.Auto @Resource.Serialization
                                                            </button>
                                                        }
                                                        else
                                                        {
                                                            <button type="button" class="btn btn-primary btn-xs serialization" id="AutoSerialization" disabled onclick="onclickAutoSerialization()">
                                                                @Resource.Auto @Resource.Serialization
                                                            </button>
                                                        }
                                                    }
                                                    else
                                                    {
                                                        if (Model.Amend == "Amend")
                                                        {
                                                            if (Model.PL_SerialiizationDT != null)
                                                            {
                                                                <button type="button" class="btn btn-primary btn-xs serialization" id="AutoSerialization" onclick="onclickAutoSerialization()">
                                                                    @Resource.Auto @Resource.Serialization
                                                                </button>
                                                            }
                                                            else
                                                            {
                                                                <button type="button" class="btn btn-primary btn-xs serialization" id="AutoSerialization" disabled onclick="onclickAutoSerialization()">
                                                                    @Resource.Auto @Resource.Serialization
                                                                </button>
                                                            }
                                                        }
                                                        else
                                                        {
                                                            <button type="button" class="btn btn-primary btn-xs serialization" id="AutoSerialization" disabled onclick="onclickAutoSerialization()">
                                                                @Resource.Auto @Resource.Serialization
                                                            </button>
                                                        }
                                                    }

                                                    @*<label class="custom-control-label" for="qc_1"> @Resource.Auto @Resource.Serialization</label>*@

                                                </div>

                                            </div>
                                            <div class="col-md-3 col-sm-12 ">
                                                <div class="col-md-10 col-sm-12 no-padding num_right pr-0 mt-2">
                                                    <label class="col-md-3 col-sm-12 p-0 pt-1"> Search : </label> <span class="col-md-9 col-sm-12"> <input class="form-control" onkeyup="FilterSrlzsn(event)" /> </span>
                                                </div>
                                                <div class="col-md-2 col-sm-12 no-padding num_right row mt-2">
                                                    <div class="col-md-12 col-sm-12 no-padding num_right ">
                                                        <a class="pl_excel pr-2 " href="#" onclick=" return ExportItemsListOrSerializationDetailsToExcel('SERIALIZATIONDETAILS')"><i class="fa fa-file-excel-o pt-2" aria-hidden="true"></i></a>
                                                    </div>
                                                </div>

                                            </div>



                                            <div id="" class="card-box table-responsive dy_table margin10">
                                                <div id="" class="sticky-table sticky-ltr-cells sb-container container-example1 OrderHistory height30VH">
                                                    <div class="col-md-12 col-sm-12">

                                                        <table id="PackSrlzsnTable" class="table table-striped table-bordered rowhighlighttbl width1800 mt-2" style="width:100%">
                                                            <thead>
                                                                <tr class="sticky-header">
                                                                    <th width="2%">&nbsp;</th>
                                                                    <th width="2%">&nbsp;</th>
                                                                    <th width="3%">@Resource.SrNo</th>
                                                                    <th width="18%" class=" itmStick tditemfrz">
                                                                        @Resource.ItemName

                                                                    </th>
                                                                    <th hidden></th>
                                                                    <th width="5%">@Resource.UOM</th>
                                                                    <th hidden></th>
                                                                    <th style="display:none">@Resource.Packed @Resource.Quantity</th>
                                                                    <th>@Resource.SerialFrom</th>
                                                                    <th>@Resource.SerialTo</th>
                                                                    @*<th>@Resource.QtyPack</th>*@
                                                                    <th>@Resource.QtyOuterPack</th>
                                                                    @*<th>@Resource.TotalPacks</th>*@
                                                                    <th>@Resource.TotalOuterPacks</th>
                                                                    <th>@Resource.QtyInnerPack</th>
                                                                    <th>@Resource.TotalInnerPacks</th>
                                                                    @*<th>@Resource.Physical @Resource.Packs</th>*@
                                                                    <th>@Resource.PhysicalOuterPacks</th>
                                                                    <th>@Resource.PackedQuantity</th>
                                                                    <th hidden></th>  @*Added By Nitesh 24-11-2023 for Net_weight Per Piece*@
                                                                    <th>@Resource.NetWeight</th>
                                                                    <th>@Resource.Total @Resource.NetWeight</th>
                                                                    <th hidden></th>  @*Added By Nitesh 24-11-2023 for Gross_weight Per Piece*@
                                                                    <th>@Resource.GrossWeight</th>
                                                                    <th>@Resource.Total @Resource.GrossWeight</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody id="PackSrlzsnTbody">
                                                                @{ decimal TotalPacks = 0, TotalNetWeight = 0, TotalPhyscialQty = 0, TotalGrossWeight = 0, totalpackedQty = 0;}
                                                                @if (Model.PL_SerialiizationDT != null)
                                                                {
                                                                    var Pack_SrNo = 1;
                                                                    foreach (DataRow dr in Model.PL_SerialiizationDT.Rows)
                                                                    {
                                                                        <tr>
                                                                            <td class="red center">
                                                                                <i class="fa fa-trash @(dsbl=="disabled"?"":"deleteIcon")" style="filter: grayscale(@(dsbl=="disabled"?"100":"0")%)" aria-hidden="true" title="@Resource.Delete"></i>
                                                                            </td>
                                                                            <td class="edit_pencil center">
                                                                                <i class="fa fa-edit" onclick="@(dsbl=="disabled"?"":"EditPackingDetails(event)")" aria-hidden="true" title="@Resource.Edit"></i>
                                                                            </td>
                                                                            <td id="SrNo">@Pack_SrNo</td>
                                                                            <td id="ItemName" class="ItmNameBreak tditemfrz">@dr["item_name"]</td>
                                                                            <td id="ItemId" hidden>@dr["item_id"]</td>
                                                                            <td id="UOM">@dr["uom_name"]</td>
                                                                            <td id="UOMId" hidden>@dr["uom_id"]</td>
                                                                            <td hidden id="PackQty" class="num_right">@Convert.ToDecimal(dr["pack_qty"]).ToString(Model.QtyDigit)</td>
                                                                            <td id="SerialFrom" class="num_right">@dr["sr_from"]</td>
                                                                            <td id="SerialTo" class="num_right">@dr["sr_to"]</td>
                                                                            <td id="QtyPerPack" class="num_right">@Convert.ToDecimal(dr["qty_pr_pack"]).ToString(Model.QtyDigit)</td>
                                                                            <td id="TotalPacks" class="num_right">@Convert.ToDecimal(dr["total_packs"]).ToString()</td>
                                                                            <td id="QtyPerInner" class="num_right">@Convert.ToDecimal(dr["inner_qty"]).ToString(Model.QtyDigit)</td>
                                                                            <td id="tblTotalInnerBox" class="num_right">@Convert.ToDecimal(dr["tot_inner_qty"]).ToString(Model.QtyDigit)</td>
                                                                            <td id="PhyPerPack" class="num_right">@Convert.ToDecimal(dr["phy_pack"]).ToString()</td>
                                                                            <td id="TotalQty" class="num_right">@Convert.ToDecimal(dr["total_qty"]).ToString(Model.QtyDigit)</td>
                                                                            <td hidden id="Netweight_perpiece" class="num_right">@Convert.ToDecimal(dr["net_wt_pc"]).ToString(Model.WgtDigit)</td> @*Added By Nitesh 24-11-2023 for Net_weight Per Piece*@
                                                                            <td id="NetWeight" class="num_right">@Convert.ToDecimal(dr["net_wt"]).ToString(Model.WgtDigit)</td>
                                                                            <td id="TotalNetWeight" class="num_right">@Convert.ToDecimal(dr["total_net_wt"]).ToString(Model.WgtDigit)</td>
                                                                            <td hidden id="GrossWeight_perpiece" class="num_right">@Convert.ToDecimal(dr["gross_wt_pc"]).ToString(Model.WgtDigit)</td> @*Added By Nitesh 24-11-2023 for Gross_weight Per Piece*@
                                                                            <td id="GrossWeight" class="num_right">@Convert.ToDecimal(dr["gross_wt"]).ToString(Model.WgtDigit)</td>
                                                                            <td id="TotalGrossWeight" class="num_right">@Convert.ToDecimal(dr["total_gross_wt"]).ToString(Model.WgtDigit)</td>
                                                                        </tr>
                                                                        Pack_SrNo = Pack_SrNo + 1;
                                                                        TotalPacks = TotalPacks + @Convert.ToInt32(dr["total_packs"]);
                                                                        TotalPhyscialQty = TotalPhyscialQty + @Convert.ToInt32(dr["phy_pack"]);
                                                                        totalpackedQty = totalpackedQty + @Convert.ToDecimal(dr["total_qty"]);
                                                                        TotalNetWeight = TotalNetWeight + @Convert.ToDecimal(dr["total_net_wt"]);
                                                                        TotalGrossWeight = TotalGrossWeight + @Convert.ToDecimal(dr["total_gross_wt"]);
                                                                    }
                                                                }
                                                            </tbody>
                                                            <tfoot>
                                                                <tr class="total">
                                                                    <td colspan="7" style="text-align:right;"><strong> @Resource.Total</strong></td>

                                                                    <td class="num_right"><strong>&nbsp;</strong></td>
                                                                    <td class="num_right"><strong><span id="PackSRLZSN_TotalPacks">@TotalPacks.ToString()</span></strong></td>
                                                                    <td class="num_right"><strong>&nbsp;</strong></td>
                                                                    <td class="num_right" colspan="2"><strong><span id="PackSRLZSN_TotalPhyscialQty">@TotalPhyscialQty.ToString()</span></strong></td>
                                                                    <td class="num_right" colspan="1"><strong><span id="totalPacked_qty">@totalpackedQty.ToString(Model.QtyDigit)</span></strong></td>
                                                                    <td class="num_right" colspan="2"><strong><span id="PackSRLZSN_TotalNetWeight">@TotalNetWeight.ToString(Model.WgtDigit)</span></strong></td>
                                                                    <td class="num_right" colspan="3"><strong><span id="PackSRLZSN_TotalGrossWeight">@TotalGrossWeight.ToString(Model.WgtDigit)</span></strong></td>
                                                                </tr>
                                                            </tfoot>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </section>
                    }
                </article>
            </div>
        </div>
    </div>
</div>
    }
}