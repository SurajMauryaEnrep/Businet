@using EnRepMobileWeb.Resources;
@{
    decimal TotalIssueQty = 0;
    var Disable = true;

    if(ViewBag.TransType != null)
    {
        if (ViewBag.TransType=="Update")
        {
            if (ViewBag.Command=="Edit")
            {
                Disable = false;
            }
            else
            {
                Disable = true;
            }
        }
        else
        {
            if (ViewBag.Command == "Refresh")
            {
                Disable = true;
            }
            else
            {
                Disable = false;
            }
        }
    }
    string hideFOC = ViewBag.DocID == "105103130" ? "" : "hidden";
}
<div class="modal-content">
    <div class="modal-header">
        <h2>@Resource.QuantityDetail</h2>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
    </div>
    <div class="modal-body" style="padding-top: 0px;">
        <div class="row">
            <div class="col-md-4 col-sm-12">
                <label class="col-form-label label-align">@Resource.ItemName</label>
                <input id="OrderQtyItemName" disabled class="form-control" autocomplete="off" maxlength="25" tabindex="5" type="text" name="ItemName" placeholder="ItemName" onblur="this.placeholder='ItemName'">
                <input type="hidden" id="hd_OQtyItemId" value="" />
                <input type="hidden" id="hdn_PQDi_serial" value="" />
                <input hidden type="text" id="Packingsub_item" value="@ViewBag.SubItemId" />
            </div>
            <div class="col-md-2 col-sm-12" style="padding-left: 0px;">
                <label class="col-form-label label-align"> @Resource.UOM</label>
                <input id="OrderQtyUOM" disabled class="form-control" autocomplete="off" maxlength="25" tabindex="5" type="text" name="UOM" placeholder="@Resource.UOM">
                <input type="hidden" id="hd_OQtyUOMId" value="" />
            </div>
            <div class="col-md-3 col-sm-12" style="padding-left: 0px;">
                <label class="col-form-label label-align">@Resource.OrderQuantity</label>
                <input id="ItemOrderQuantity" disabled class="form-control num_right" autocomplete="off" maxlength="25" tabindex="5" type="text" name="OrderQuantity" placeholder="@Resource.OrderQuantity" onblur="this.placeholder = '@Resource.OrderQuantity'">
            </div>
            <div class="col-md-3 col-sm-12" style="padding-left: 0px;">
                <label class="col-form-label label-align"> @Resource.PendingQuantity</label>
                <input id="ItemPendingQuantity" disabled class="form-control num_right" autocomplete="off" maxlength="25" tabindex="5" type="text" name="PendingQuantity" placeholder="@Resource.PendingQuantity" onblur="this.placeholder = '@Resource.PendingQuantity'">
            </div>
        </div>
        @*<div id="QuantityDetail" class="price_item_detail tableFixHead height30VH margin10">
        <table class="table table-bordered" id="OrderQtyInfoTbl">
            <thead>
                <tr>*@

        <div id="QuantityDetail" class="card-box table-responsive dy_table margin10">
            <div id="" class="sticky-table sticky-ltr-cells price_item_detail sb-container container-example1 OrderHistory height30VH">
                <table id="OrderQtyInfoTbl" data-order="" class="table table-striped table-bordered rowhighlighttbl" style="width:100%">
                    <thead>
                        <tr class="sticky-header">
                            <th width="30%">@Resource.Order <br /> @Resource.Number</th>
                            <th>@Resource.Order <br /> @Resource.Date</th>
                            <th>@Resource.Ordered <br /> @Resource.Quantity</th>
                            <th @hideFOC>@Resource.Ordered @Resource.FOC <br /> @Resource.Quantity</th>
                            <th>@Resource.Pending <br /> @Resource.Quantity</th>
                            <th @hideFOC>@Resource.Pending @Resource.FOC <br /> @Resource.Quantity</th>
                            <th>@Resource.Packed <br /> @Resource.Quantity</th>
                            <th @hideFOC>@Resource.Packed @Resource.FOC <br /> @Resource.Quantity</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (ViewBag.ItemOrderQtyDetail != null)
                        {
                            var subitmDisable = "";
                            if (ViewBag.SubItemId != "Y")
                            {
                                subitmDisable = "disabled";
                            }
                            foreach (System.Data.DataRow Row in ViewBag.ItemOrderQtyDetail.Rows)
                            {
                                <tr>
                                    <td><input id="OrderQtyDocNo" disabled class="form-control" type="text" value="@Row["so_no"].ToString()"></td>
                                    <td><input id="OrderQtyDocDate" disabled class="form-control" type="text" value="@Row["so_dt"].ToString()"></td>
                                    <td><input id="OrderedQuantity" disabled class="form-control num_right" type="text" value="@Row["ord_qty"].ToString()"></td>
                                    <td @hideFOC><input id="OrderedFocQuantity" disabled class="form-control num_right" type="text" value="@Row["ord_foc_qty"].ToString()"></td>
                                    <td><input id="Order_PendingQty" disabled class="form-control num_right" type="text" value="@Row["bal_qty"].ToString()"></td>
                                    <td @hideFOC><input id="Order_PendingFocQty" disabled class="form-control num_right" type="text" value="@Row["bal_foc_qty"].ToString()"></td>
                                    <td>
                                        <div class="lpo_form col-sm-10 no-padding">
                                            
                                                @if (Disable)
                                                {
                                                    <input id="Order_PackedQty" class="form-control num_right" value="@Row["pack_qty"].ToString()" disabled type="text" placeholder="0000.00">
                                                }
                                                else
                                                {
                                                    //if (Session["Command"].ToString() == "Edit" && ViewBag.DocumentCode == "A")
                                                    if (ViewBag.Command == "Edit" && ViewBag.DocumentCode == "A" && ViewBag.Amend== "")
                                                    {
                                                        <input id="Order_PackedQty" class="form-control num_right" value="@Row["pack_qty"].ToString()" disabled type="text" placeholder="0000.00">
                                                    }
                                                    else
                                                    {
                                                        <input id="Order_PackedQty" class="form-control num_right" autocomplete="off" value="@Row["pack_qty"].ToString()" onkeypress="return OnKeyPressOrderPackedQty(this,event)" onchange="OnChangeOrderPackedQty(event);" maxlength="25" type="text" placeholder="0000.00">
                                                    }
                                                }
                                                <span id="Order_PackedQty_Error" class="error-message is-visible"></span>
                                            </div>
                                            
                                            <div class="col-sm-2 i_Icon" id="div_SubItemPackQty">
                                                <button type="button" id="SubItemPackQty" @subitmDisable class="calculator subItmImg" onclick="return SubItemDetailsPopUp('PackList',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                            </div>
                                    </td>
                                    <td @hideFOC>
                                        <div class="lpo_form col-sm-10 no-padding">
                                            
                                                @if (Disable)
                                                {
                                                    <input id="Order_PackedFocQty" class="form-control num_right" value="@Row["pack_foc_qty"].ToString()" disabled type="text" placeholder="0000.00">
                                                }
                                                else
                                                {
                                                    //if (Session["Command"].ToString() == "Edit" && ViewBag.DocumentCode == "A")
                                                    if (ViewBag.Command == "Edit" && ViewBag.DocumentCode == "A" && ViewBag.Amend== "")
                                                    {
                                                        <input id="Order_PackedFocQty" class="form-control num_right" value="@Row["pack_foc_qty"].ToString()" disabled type="text" placeholder="0000.00">
                                                    }
                                                    else
                                                    {
                                                        <input id="Order_PackedFocQty" class="form-control num_right" autocomplete="off" value="@Row["pack_foc_qty"].ToString()" onkeypress="return OnKeyPressOrderPackedQty(this,event)" onchange="OnChangeOrderPackedFocQty(event);" maxlength="25" type="text" placeholder="0000.00">
                                                    }
                                                }
                                                <span id="Order_PackedFocQty_Error" class="error-message is-visible"></span>
                                            </div>
                                            
                                            <div class="col-sm-2 i_Icon" id="div_SubItemPackFocQty">
                                                <button type="button" id="SubItemPackFocQty" @subitmDisable class="calculator subItmImg" onclick="return SubItemDetailsPopUp('FocPackList',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                            </div>
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
            </div>
            <table class="table table-bordered" id="">
                <tr class="total">
                    <th width="82%" class="num_right"><strong>@Resource.Total</strong></th>
                    <th class="num_right"><strong><span id="LblTotalOrderQty"></span></strong></th>
                    <th class="num_right"><strong><span id="LblTotalOrderFocQty"></span></strong></th>
                </tr>
            </table>
        </div>
        <div class="modal-footer">
            @if (Disable)
            {

            }
            else
            {
                //if (Session["Command"].ToString() == "Edit" && ViewBag.DocumentCode == "A")
                if (ViewBag.Command == "Edit" && ViewBag.DocumentCode == "A" && ViewBag.Amend == "")
                {

                }
                else
                {
                    <button type="button" id="btnOrderQtyReset" onclick="onclickbtnOrderQtyReset()" class="btn btn-primary btn-sm">@Resource.Reset</button>
                    <button type="button" id="btnOrderQtySaveAndExit" onclick="onclickbtnOrderQtySaveAndExit(event)" class="btn btn-primary btn-sm">@Resource.SaveAndExit</button>
                    <button type="button" id="btnOrderQtyDiscardAndExit" class="btn btn-primary btn-sm" data-dismiss="modal">@Resource.DiscardAndExit</button>
                }
            }

        </div>
    </div>



