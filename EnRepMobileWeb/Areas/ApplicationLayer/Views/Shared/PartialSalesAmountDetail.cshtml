@using EnRepMobileWeb.Resources;
@using System.Data
@{ 
    var rowId = 0;
    var TotalInvAmt = "";
    var TotalPaidAmt = "";
    var TotalBalAmt = "";
}

<script src="~/Content/Scripts/Common/CommonPartialJS.js"></script>
<div class="modal-content" id="">
    <div class="modal-header">
        <h2>@Resource.InvoiceDetail</h2>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
    </div>
    <div class="modal-body pop_top">
        <div class="row">
            <div class="col-md-4 col-sm-12">
                <label class="col-form-label label-align">
                    @Resource.CustomerName
                </label>
                <input id="CustomerName" class="form-control" autocomplete="off" type="text" name="CustomerName" placeholder="@Resource.CustomerName" disabled="">
                <input hidden="hidden" id="HdnCustomerNameForPaidAmt" />
            </div>
            <div class="col-md-2 col-sm-12">
                <label class="col-form-label label-align">
                    @Resource.Currency
                </label>
                <input id="Currency" class="form-control" autocomplete="off" type="text" name="Currency" placeholder="@Resource.Currency" disabled="">
            </div>
        </div>
        <div class="card-box table-responsive dy_table margin10">
            <div id="" class="sticky-table sticky-ltr-cells sb-container container-example1 OrderHistory height30VH pop_csv">
                <table id="tbl_SalesDetails" class="table table-striped table-bordered rowhighlighttbl width1800 itmfrz" style="width:100%">
                    <thead>
                        <tr class="sticky-header">
                            <th width="5%"> @Resource.SrNo</th>
                            <th width="25%" class="itmStick">@Resource.InvoiceNumber</th>
                            <th width="10%">@Resource.InvoiceDate</th>
                            <th style="display:none;">@Resource.Invoice <br /> @Resource.Date</th>
                            <th width="12%">@Resource.SalesPerson</th>
                            <th width="12%">@Resource.InvoiceAmount</th>
                            <th width="12%">@Resource.Paid @Resource.Amount</th>
                            <th width="12%">@Resource.Balance @Resource.Amount</th>
                            <th width="12%">@Resource.Payment @Resource.Terms <br /> @Resource.InDays</th>
                            <th width="12%">@Resource.Due @Resource.Date</th>
                            <th width="12%">@Resource.Overdue @Resource.Days</th>

                            @*<th width="3%"> @Resource.SrNo</th>
        <th width="10%" class="itmStick">@Resource.InvoiceNumber</th>
        <th width="5%">@Resource.Invoice @Resource.Date</th>
        <th width="8%">@Resource.Sales @Resource.Person</th>
        <th width="5%">@Resource.Currency</th>
        <th width="5%" hidden="hidden">@Resource.Currency</th>
        <th width="6%" hidden="hidden">@Resource.Branch</th>
        <th width="6%">@Resource.GrossAmount</th>
        <th width="6%">@Resource.Tax</th>
        <th width="6%">@Resource.OtherCharges</th>
        <th width="8%">@Resource.InvoiceAmount</th>
        <th width="6%">@Resource.Paid @Resource.Amount</th>
        <th width="6%">@Resource.Balance @Resource.Amount</th>
        <th width="8%">@Resource.Payment @Resource.Terms <br /> @Resource.InDays</th>
        <th width="6%">@Resource.Due @Resource.Date</th>
        <th width="6%">@Resource.Ove*@rdueDays</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (ViewBag.SalesAmountDetail != null)
                        {
                            foreach (System.Data.DataRow dr in ViewBag.SalesAmountDetail.Rows)
                            {
                                rowId++;
                                TotalInvAmt = dr["totalInvAmt"].ToString();
                                TotalPaidAmt = dr["totalPaidAmt"].ToString();
                                TotalBalAmt = dr["totalPendAmt"].ToString();
                        <tr>
                            <td>@rowId</td>
                            <td id="Inv_No" class="ItmNameBreak itmStick tditemfrz">
                                <div class="col-md-10 col-sm-12 no-padding">@dr["inv_no"].ToString()</div>
                                @if (dr["src_type"].ToString() == "SI")
                                {
                                    <div class="col-sm-2 i_Icon no-padding">
                                        <button type="button" id="" class="calculator" onclick="" data-toggle="modal" data-target="#" data-backdrop="static" data-keyboard="false">
                                            <img src="/Content/Images/pdf.png" alt="" onclick="AccRec_GetPopupInoviceDetailsPDF(event)" title="@Resource.Invoice @Resource.Detail">
                                        </button>
                                    </div>
                                }
                                <span hidden id="Hdn_InvNo">@dr["inv_no"].ToString()</span>
                            </td>
                            <td id="td_InvDt">@dr["inv_dt"].ToString()</td>
                            <td style="display: none;" id="InvDate">@dr["inv_date"].ToString()</td>
                            <td id="">@dr["salesPerson"].ToString()</td>
                            <td class="num_right" id="ApInvoice_Amt">@dr["inv_amt_sp"].ToString()</td>
                            <td class="num_right">
                                <div class="col-sm-11 lpo_form no-padding" id="multiWrapper">@dr["paid_amt"].ToString()</div>
                                <div class="col-sm-1 i_Icon">
                                    <button type="button" id="btn_PaidAmountDetails" class="calculator" data-toggle="modal" onclick="OnclickPaidAmtDetailIcon(event)" data-target="#PaidAmountDetails" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.Paid @Resource.Amount @Resource.Detail">  </button>
                                </div>
                            </td>
                            <td class="num_right" id="ApBalance_Amt">@dr["pend_amt"].ToString()</td>
                            <td class="num_right" id="">@dr["paym_term"].ToString()</td>

                            <td class="num_right" id="APdue_days">@dr["due_date"].ToString()</td>
                            <td id="Apdue_Date">@dr["due_days"].ToString()</td>
                        </tr>
                            }
                        }
                    </tbody>
                    <tfoot>
                        <tr class="total">
                            <td class="num_right"><strong>&nbsp;</strong></td>
                            <td class="num_right"><strong>&nbsp;</strong></td>
                            <td class="num_right"><strong>&nbsp;</strong></td>
                            <td class="num_right"><strong>@Resource.Total</strong></td>
                            <td class="num_right"><strong>@TotalInvAmt</strong></td>
                            <td class="num_right"><strong>@TotalPaidAmt</strong></td>
                            <td class="num_right"><strong>@TotalBalAmt</strong></td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                        </tr>           
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal" id="CloseBtn">@Resource.Close</button>
    </div>
</div>
