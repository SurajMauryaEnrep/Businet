@using EnRepMobileWeb.MODELS.Common;
@using EnRepMobileWeb.Resources;

@if (Session["UserId"] == null)
{
    Response.Redirect("~/Login");
}
@{
    Layout = "~/Views/Shared/_MasterLayout.cshtml";
}

<script>
    $(document).ready(function () {

        $('#SourceDocument').multiselect({
            includeSelectAllOption: true,
            enableFiltering: true,
            enableCaseInsensitiveFiltering: true,
            buttonWidth: '100%',
            nonSelectedText: "---All---",
            numberDisplayed: 1
        });

    });
</script>
<style>
    button.multiselect {
        width: 100% !important;
        max-width: 100% !important;
    }

    table#KickOffAttributes th, table#datatable-buttons1 th, table#parts th {
        background-color: #ffffff;
    }

    textarea.form-control {
        max-height: 26px !important;
    }
</style>
<div class="row">
    <!-- Description Information Start-->
    <div class="modal fade" id="textareaModal" tabindex="-1">
        <div class="modal-dialog" style="max-width:600px;">
            <!-- Modal content-->
            @Html.Partial("~/Areas/Common/Views/Comn_PartialDescription.cshtml")

        </div>
    </div>
    <!-- Description Information End-->
    <!-- Procurement Plan Order Detail Start -->
    <div id="ProcurementPlanOrderDetail" class="modal fade" role="dialog">
        <div class="modal-dialog" id="" style=" max-width:800px;">
            <!-- Modal content-->
            @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/PartialProcurementPlanOrderDetail.cshtml")
        </div>
    </div>
    <!-- Procurement Plan Order Detail End -->

    <!-- QC Product Description Detail Start -->
    <div id="QCProductDescription" class="modal fade" role="dialog">
        <div class="modal-dialog" id="" style=" max-width:800px;">
            <!-- Modal content-->
            @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/PartialQCProductDescriptionDetail.cshtml")
        </div>
    </div>
    <!-- QC Product Description Detail  End -->

    <div class="col-md-12 col-sm-12 ">
        <div class="x_panel mar_pad1 ">
            <div class="x_content mar_pad1">
                <h2 class="col-md-5 col-sm-12 heading_left_padding ">@ViewBag.MenuPageName</h2>
                @*<div id="wizard" class="form_wizard wizard_horizontal col-md-3 col-sm-12 work_flow">
                        <ul class="wizard_steps">
                            <li>
                                <a href="#step-1" class="disabled" isdone="1" onclick="ForwardBarHistoryClick()" data-toggle="modal" data-target="#WorkflowInformation" data-backdrop="static" data-keyboard="false" rel="1" id="a_1">
                                    <span class="step_no">1</span>
                                </a>
                            </li>
                        </ul>
                        <input type="hidden" id="hdDoc_No" value="">
                    </div>*@
                <div id="" class="col-md-7 col-sm-12 work_flow heading_right_padding">
                    <ul>
                        <li>
                            <button class="add"
                                    title="@Resource.AddNew" disabled type="submit" id="btn_add" name="Command" value="AddNew" onclick="RemoveSessionData()"></button>
                        </li>
                        <li>
                            <button class="edit"
                                    title="@Resource.Edit" disabled type="submit" id="btn_edit" name="Command" value="Edit" onclick="EnableEditkBtn()"></button>
                        </li>
                        <li>
                            <button class="delete"
                                    title="@Resource.Delete" disabled type="submit" id="btn_del" name="Command" value="Delete"></button>
                        </li>
                        <li>
                            <button class="save"
                                    title="@Resource.Save" type="submit" onclick="" id="btn_save" name="Command" value="Save"></button>
                        </li>
                        @*<li>
                                <button class="forward"
                                        title="@Resource.Forward" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                            </li>*@
                        <li>
                            <button class="approve"
                                    title="@Resource.Approve" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                        </li>
                        @*<li>
                                <button class="workflow" title="@Resource.Workflow" type="button" id="btn_workflow" onclick="" name="Command" value="Workflow" data-toggle="modal" data-target="#WorkflowInformation" data-backdrop="static" data-keyboard="false"></button>
                            </li>*@
                        <li>
                            <button class="refresh"
                                    title="@Resource.Refresh" type="submit" id="btn_refresh" name="Command" value="Refresh"></button>
                        </li>
                        <li>
                            <button class="print"
                                    title="@Resource.Print" type="submit" id="btn_print" name="Command" value="Print"></button>
                        </li>
                        <li>
                            <a class="back" href="/ApplicationLayer/QCSetup/QCSetup"
                                    title="@Resource.Back"  type="submit" id="btn_back" name="Command" value="BacktoList"></a>
                        </li>
                    </ul>
                </div>
                <div class="clearfix"></div>
                <div class="x_title pad_mar ">
                    <div class="col-md-12 col-sm-12 icon_tool ">
                        <!--<span>Collapsible / Accordion </span>-->
                        <div class="approved_by">
                            <ul>
                                <li>
                                    <span>@Resource.CreatedBy<br><b>Neeraj</b></span>
                                </li>
                                <li>
                                    <span>@Resource.Createdon<br><b>10-12-2025 15:43</b></span>
                                </li>
                                <li>
                                    <span>@Resource.ApprovedBy<br><b>Surendar Singh</b></span>
                                </li>
                                <li>
                                    <span>@Resource.ApprovedOn<br><b></b></span>
                                </li>
                                <li>
                                    <span>@Resource.AmendedBy<br><b>12-12-2025 13:50</b></span>
                                </li>
                                <li>
                                    <span>@Resource.AmendedOn<br><b></b></span>
                                </li>
                                <li>
                                    <span>@Resource.Status<br /><b>Approved</b></span>
                                </li>

                            </ul>
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-12 col-sm-12 ">
        <div class="x_panel mar_pad1 ">
            <div class="x_content mar_pad1">
                <article class="panel-group bs-accordion" id="accordion" role="tablist" aria-multiselectable="true">
                    <section class="panel panel-default">
                        <div class="panel-heading" role="tab" id="headingOne">
                            <h4 class="panel-title">  <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">Quality Parameters<span class="glyphicon glyphicon-chevron-right pull-right" aria-hidden="true"></span> </a></h4>
                        </div>
                        <div id="collapseOne" class="panel-collapse in collapse show" role="tabpanel" aria-labelledby="headingOne" style="">
                            <div class="panel-body">
                                <div class="col-md-12 col-sm-12 pl-0 pr-0">

                                    <div class="col-md-3 col-sm-12">
                                        <label class="col-form-label label-align">Product Description</label>
                                        <select class="form-control" id="ProductDescription" name="ProductDescription">
                                            <option value="">All</option>
                                            <option value="" selected>Engine Mount -TMT</option>
                                            <option value="">Engine Mount -TMT</option>
                                        </select>
                                    </div>
                                    <div class="col-md-2 col-sm-12 pl-0">
                                        <label class="col-form-label label-align">UOM</label>
                                        <input value="" class="form-control" id="UOM" maxlength="20" name="UOM" placeholder="Pcs" type="text" disabled="disabled">
                                    </div>
                                    <div class="col-md-1 col-sm-12 margin28">
                                        <a href="#">
                                            <div class="plus_icon1"> <i class="fa fa-plus" id="BtnAttribute" onclick="OnClickAddButton()" title="Populate Item Detail" data-original-title=""></i> </div>
                                        </a>
                                    </div>

                                </div>
                                <div class="clear"></div>
                                <div class="card-box table-responsive dy_table ">
                                    <div class="">
                                        <div class=" col-sm-12 mt-3">
                                            <div class="tableFixHead height60VH">
                                                <table id="parts" class="table table-bordered rowhighlighttbl">
                                                    <thead>
                                                        <tr class="headings">
                                                            <th width="40%">Product Description</th>
                                                            <th width="20%">UOM</th>
                                                            <th width="20%">Image</th>
                                                            <th width="20%">&nbsp;</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td>Engine Mount -TMT</td>
                                                            <td>Main</td>
                                                            <td> <img src="~/Content/Images/qc_setup_image.png" height="80" /></td>
                                                            <td class="center">
                                                                <button type="button" id="btnbatchdeatil" onclick="" class="calculator" data-toggle="modal" data-target="#QCProductDescription" data-backdrop="static" data-keyboard="false"><i class="fa fa-eye" aria-hidden="true" data-toggle="" title="Product Description Detail"></i></button>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Engine Mount -TMT</td>
                                                            <td>SG-9799HY</td>
                                                            <td> <img src="~/Content/Images/qc_setup_image1.png" height="80" /></td>
                                                            <td class="center">
                                                                <button type="button" id="btnbatchdeatil" onclick="" class="calculator" data-toggle="modal" data-target="#QCProductDescription" data-backdrop="static" data-keyboard="false"><i class="fa fa-eye" aria-hidden="true" data-toggle="" title="Product Description Detail"></i></button>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Engine Mount -TMT</td>
                                                            <td>SG-3213</td>
                                                            <td> <img src="~/Content/Images/qc_setup_image2.png" height="80" /></td>
                                                            <td class="center">
                                                                <button type="button" id="btnbatchdeatil" onclick="" class="calculator" data-toggle="modal" data-target="#QCProductDescription" data-backdrop="static" data-keyboard="false"><i class="fa fa-eye" aria-hidden="true" data-toggle="" title="Product Description Detail"></i></button>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Engine Mount -TMT</td>
                                                            <td>SG-3368</td>
                                                            <td> <img src="~/Content/Images/qc_setup_image3.png" height="80" /></td>
                                                            <td class="center">
                                                                <button type="button" id="btnbatchdeatil" onclick="" class="calculator" data-toggle="modal" data-target="#QCProductDescription" data-backdrop="static" data-keyboard="false"><i class="fa fa-eye" aria-hidden="true" data-toggle="" title="Product Description Detail"></i></button>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Engine Mount -TMT</td>
                                                            <td>SG-9959</td>
                                                            <td> <img src="~/Content/Images/qc_setup_image4.png" height="80" /></td>
                                                            <td class="center">
                                                                <button type="button" id="btnbatchdeatil" onclick="" class="calculator" data-toggle="modal" data-target="#QCProductDescription" data-backdrop="static" data-keyboard="false"><i class="fa fa-eye" aria-hidden="true" data-toggle="" title="Product Description Detail"></i></button>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Engine Mount -TMT</td>
                                                            <td>SG-3200</td>
                                                            <td> <img src="~/Content/Images/qc_setup_image5.png" height="80" /></td>
                                                            <td class="center">
                                                                <button type="button" id="btnbatchdeatil" onclick="" class="calculator" data-toggle="modal" data-target="#QCProductDescription" data-backdrop="static" data-keyboard="false"><i class="fa fa-eye" aria-hidden="true" data-toggle="" title="Product Description Detail"></i></button>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Engine Mount -TMT</td>
                                                            <td>SG-3233</td>
                                                            <td> <img src="~/Content/Images/qc_setup_image6.png" height="80" /></td>
                                                            <td class="center">
                                                                <button type="button" id="btnbatchdeatil" onclick="" class="calculator" data-toggle="modal" data-target="#QCProductDescription" data-backdrop="static" data-keyboard="false"><i class="fa fa-eye" aria-hidden="true" data-toggle="" title="Product Description Detail"></i></button>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </section>

                </article>
            </div>
        </div>
    </div>
</div>
<script>
    function open_popupdes(id) {
        debugger;
        const myModal = new bootstrap.Modal(document.getElementById("textareaModal"));
        $("#hdn_txtdes").val(id);
        var des = $("#" + id).val();
        document.getElementById("modalTextarea").value = des;
        myModal.show();
    }
    // Open modal when clicking the main textarea

    function onclick_save_close() {
        debugger
        var id = $("#hdn_txtdes").val();
        document.getElementById(id).value = document.getElementById("modalTextarea").value;
    }
</script>
<script>
    document.getElementById('imageUpload').addEventListener('change', function (e) {
        const file = e.target.files[0];
        if (!file) return;

        const reader = new FileReader();
        reader.onload = function (event) {
            const img = document.getElementById('preview');
            img.src = event.target.result;
            img.classList.remove('d-none');
        };
        reader.readAsDataURL(file);
    });
</script>
