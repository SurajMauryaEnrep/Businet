@using EnRepMobileWeb.Resources;
<script src="~/Content/Scripts/Common/CommonPartialJS.js"></script>
<div class="modal-content">
    <div class="modal-header">
        <h2>@Resource.BatchDetail</h2>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
    </div>
    <div class="modal-body">
        <div class="col-md-4 col-sm-12" style="padding-left:0px;">
            <label class="col-form-label label-align">@Resource.ItemName</label>
            <input id="BatchItemName" class="form-control" autocomplete="off" type="text" name="BatchItemName" placeholder="Item Name" onblur="this.placeholder='Item Name'" disabled="">
            <input type="hidden" id="BatchItemID" />
            <input type="hidden" id="hfItemSNo" />
            <input type="hidden" id="hfexpiryflag" />

        </div>
        <div class="col-md-2 col-sm-12" style="padding-left:0px;">
            <label class="col-form-label label-align">@Resource.UOM</label>
            <input id="batchUOM" class="form-control" autocomplete="off" type="text" name="batchUOM" placeholder="UOM" onblur="this.placeholder='UOM'" disabled="">
        </div>
        <div class="col-md-3 col-sm-12" style="padding-left:0px;">
            <label class="col-form-label label-align ">@Resource.Received @Resource.Quantity</label>
            <input id="BatchReceivedQuantity" class="form-control num_right" autocomplete="off" type="text" name="BatchReceivedQuantity" placeholder="0000.00" disabled="">
        </div>
     
        <div class="clearfix"></div>
        <hr style="margin-bottom:5px;">
        <div class="card-box table-responsive dy_table margin15">
            <div id="" class="sticky-table sticky-ltr-cells sb-container container-example1 OrderHistory height30VH">
                <table id="MISBatchDetailTbl" data-order="" class="table table-striped table-bordered rowhighlighttbl" style="width:100%">
                    <thead>
                        <tr class="sticky-header">
                            @*<th width="10%"> &nbsp;</th>*@
                            <th width="15%"> @Resource.BatchNumber</th>
                            <th width="25%">@Resource.Manufacturer @Resource.Name</th>
                            <th width="15%">@Resource.MRP</th>
                            <th width="15%">@Resource.Manufactured @Resource.Date</th>
                            <th width="15%"> @Resource.ExpiryDate</th>
                            <th hidden="hidden"> @Resource.ExpiryDate</th>
                            <th width="15%">@Resource.Received @Resource.Quantity</th>
                        </tr>
                    </thead>
                    <tbody>
                        @{ 
                            string totalQty = "0000.00";
                        }
                        @if (ViewBag.BatchDetailExternalReciptList != null)
                        {
                            //var rowIdx = 0;
                            foreach (System.Data.DataRow Row in ViewBag.BatchDetailExternalReciptList.Rows)
                            {
                                
                                totalQty =  @Row["total_qty"].ToString();
                        <tr>
                            @*<td></td>*@
                            <td id="BatchNo">@Row["batch_no"].ToString()</td>
                            <td >@Row["mfg_name"].ToString()</td>
                            <td class="num_right">@Row["mfg_mrp"].ToString()</td>
                            <td >@Row["mfg_date"].ToString()</td>
                            <td >@Row["exp_date"].ToString()</td>
                            <td id="BatchExDate" hidden="hidden"> @Row["exp_dt"].ToString()</td>
                            <td id="BatchQty" class="num_right">@Row["rec_qty"].ToString()</td>
                        </tr>
                            }
                        }
                    </tbody>
                    <tfoot>
                        <tr class="total">
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>
                            <td>&nbsp;</td>                            
                            <td>&nbsp;</td>
                            <td hidden="hidden">&nbsp;</td>
                            <td class="num_right"><strong id="BatchQtyTotal"> @totalQty</strong></td>

                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
    <div class="modal-footer">

       
        <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal" id="BatchClosebtn">@Resource.Close</button>
    </div>
        </div>
