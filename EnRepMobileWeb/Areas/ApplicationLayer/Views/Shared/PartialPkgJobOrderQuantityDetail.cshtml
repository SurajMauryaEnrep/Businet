
@model EnRepMobileWeb.MODELS.ApplicationLayer.ProductionAndPlanning.PackagingJobOrder.PackagingJobOrder_Model
@using EnRepMobileWeb.Resources;
@{
    var Disable = true;

    if (Model.TransType != null)
    {
        if (Model.TransType == "Update")
        {
            if ((Model.Status_Code == "D" || Model.DocumentStatus == "D") && Model.Command == "Edit")
            {
                Disable = false;
            }
            else
            {
                Disable = true;
            }
        }
        else
        {
            if (Model.Command == "Refresh")
            {
                Disable = true;
            }
            else
            {
                Disable = false;
            }
        }
    }

}
<script src="~/Content/Scripts/ApplicationLayer/ProductionAndPlanning/PackagingJobOrder/PackagingJobOrderDetail.js"></script>
@*<script src="~/Content/Scripts/Common/CommonPartialJS.js"></script>*@
<div class="modal-content" id="">
    <div class="modal-header">
       
            <h2> @Resource.Packing @Resource.Quantity @Resource.Detail </h2>
       
     
        <button type="button" class="close" data-dismiss="modal">&times;</button>
    </div>
    <div class="modal-body pop_top">
        <div class="row">
            <div class="col-md-4">
                <label class="col-form-label label-align">@Resource.ItemName</label>
                <input id="ReworkQtyItemName" disabled class="form-control" autocomplete="off" type="text" name="ItemName" placeholder="@Resource.ItemName" onblur="this.placeholder = '@Resource.ItemName'">
                <input type="hidden" id="hd_RewrkQtyItemId" value="" />
                <input type="hidden" id="HDItemNameRewrkQtyWise" />
                <input type="hidden" id="HDWhIDRewrkQtyWise" />
            </div>
            <div class="col-md-55 ">
                <label class="col-form-label label-align">@Resource.UOM</label>
                <input id="ReworkQtyUOM" class="form-control" autocomplete="off" type="text" name="UOM" placeholder="@Resource.UOM" onblur="this.placeholder = '@Resource.UOM'" disabled="">
                <input type="hidden" id="hd_RewrkQtyUOMId" value="" />
            </div>
            @*<div class="col-md-1 col-sm-12">
            <button type="button" class="btn btn-primary btn-sm margintop20" id="BtnSearch" onclick="OnclickHistorySearchBtn();"><i class="fa fa-search" aria-hidden="true"></i></button>
        </div>*@
        </div>
        <div id="ReworkQuantityDetail" class="card-box table-responsive dy_table mt-2">
            <div id="" class="sticky-table sticky-ltr-cells sb-container container-example1 OrderHistory height30VH">
                <table id="ReworkQtyInfoTbl" data-order="" class="table table-striped table-bordered rowhighlighttbl" style="width:100%">
                    <thead>
                        <tr class="sticky-header">
                            <th width="19%">@Resource.Lot</th>
                            <th width="19%">@Resource.Batch</th>
                            <th width="19%">@Resource.Serial</th>
                            <th width="14%">@Resource.ExpiryDate</th>
                            <th width="14%">@Resource.Available <br /> @Resource.Stock</th>
                             <th width="15%">@Resource.Packing <br /> @Resource.Quantity</th>
                         

                        </tr>
                    </thead>
                    <tbody>

                        @if (ViewBag.ItemPkgQtyDetail != null)
                        {
                            foreach (System.Data.DataRow Row in ViewBag.ItemPkgQtyDetail.Rows)
                            {
                                <tr>

                                    <td>
                                        <input id="ReworkQtyLotNo" disabled class="form-control" type="text" value="@Row["lot_id"].ToString()">
                                        <input id="hdn_Rework_WhIdtbl" hidden="hidden" value="@Row["wh_id"].ToString()" />
                                    </td>
                                    <td><input id="ReworkQtyBatchNo" disabled class="form-control" type="text" value="@Row["batch_no"].ToString()"></td>
                                    <td><input id="ReworkQtySerialNo" disabled class="form-control num_right" type="text" value="@Row["serial_no"].ToString()"></td>
                                    @*<td><input id="ReworkExpryDate" disabled class="form-control num_right" type="text" value="@Row["bal_qty"].ToString()"></td>*@
                                    <td>
                                        @if (@Row["expiry_date"].ToString() == "01-01-1900")
                                        {
                                            <input id="ReworkExpryDate" value="" class="form-control" autocomplete="off" type="text" name="ExpiryDate" placeholder="dd-mm-yyyy" onblur="this.placeholder='dd-mm-yyyy'" disabled="">
                                        }
                                        else
                                        {
                                            <input id="ReworkExpryDate" value="@Row["expiry_date"].ToString()" class="form-control" autocomplete="off" type="text" name="ExpiryDate" placeholder="dd-mm-yyyy" onblur="this.placeholder='dd-mm-yyyy'" disabled="">
                                        }
                                        <input id="hfRewrkExDate" hidden="hidden" value="@Row["exp_dt"].ToString()" />
                                    </td>
                                    <td><input id="ReworkAvailStk_Qty" disabled class="form-control num_right" type="text" value="@Row["avl_stk_qty"].ToString()"></td>
                                    @*<td><input id="ReworkQuantity" disabled class="form-control num_right" type="text" value="@Row["bal_qty"].ToString()"></td>*@

                                    <td>
                                        <div class="lpo_form">

                                            @if (Disable)
                                            {
                                                <input id="PRqtyD_ReworkQuantity" class="form-control num_right" value="@Row["PkgQty"].ToString()" disabled type="text" placeholder="0000.00">
                                            }
                                            else
                                            {
                                                if (Model.Command == "Edit" && Model.DocumentStatus == "A")
                                                {
                                                    <input id="PRqtyD_ReworkQuantity" class="form-control num_right" value="@Row["PkgQty"].ToString()" disabled type="text" placeholder="0000.00">
                                                }
                                                else
                                                {
                                                    <input id="PRqtyD_ReworkQuantity" class="form-control num_right" autocomplete="off" value="@Row["PkgQty"].ToString()" onkeypress="return OnKeyPressPRDReworkQty(this,event)" onchange="OnChangePRDReworkQty(event);" maxlength="25" type="text" placeholder="0000.00">
                                                }
                                            }
                                            <span id="Rework_Qty_Error" class="error-message is-visible"></span>
                                        </div>
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
        <table class="table table-bordered" id="">
            <tr class="total">
                <th width="82%" class="num_right"><strong>@Resource.Total</strong></th>
                <th class="num_right"><strong><span id="LblTotalReworkQty"></span></strong></th>
            </tr>
        </table>
    </div>
    <div class="modal-footer">
        @if (Disable)
        {
        }
        else
        {
            if (Model.Command == "Edit" && Model.DocumentStatus == "A")
            {
            }
            else
            {
                <button type="button" id="btnReworkQtyReset" onclick="onclickbtnReworkQtyReset()" class="btn btn-primary btn-sm">@Resource.Reset</button>
                <button type="button" id="btnReworkQtySaveAndExit" onclick="onclickbtnReworkQtySaveAndExit(event)" class="btn btn-primary btn-sm">@Resource.SaveAndExit</button>
                <button type="button" id="btnReworkQtyDiscardAndExit" class="btn btn-primary btn-sm" data-dismiss="modal">@Resource.DiscardAndExit</button>
            }
        }
    </div>
</div>
@*@if (Session["ILSearch"] != null)
    {
        if (Session["ILSearch"].ToString() == "IL_Search")
        {
            @Scripts.Render("~/Content/Scripts/DataTableRefreshJs")
            @Scripts.Render("~/Content/Scripts/DatatablesJs")
            Session["ILSearch"] = null;

        }
    }*@

