@model EnRepMobileWeb.MODELS.ApplicationLayer.InventoryManagement.MaterialIssue.MaterialIssue_Model
@using EnRepMobileWeb.Resources;

@{
    var rowId = 0;
}

<div class="modal-content" id="issuetodatatable">
    <div class="modal-header">
        <h2>@Resource.IssueDetail</h2>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
    </div>
    <div class="modal-body pop_top">
        <div class="col-md-3 col-sm-12" style="padding-left:0px;">
            <label class="col-form-label label-align">@Resource.IssueTo</label>
            <input id="textIssueTo" class="form-control" autocomplete="off" type="text" name="IssueTo" placeholder="@Resource.IssueTo" disabled="">
        </div>
        <div class="col-md-3 col-sm-12" style="padding-left:0px;">
            <label class="col-form-label label-align">@Resource.FromDate</label>
            <input id="txtsFromdate" class="form-control " autocomplete="off" type="date" name="FromDate" value="" placeholder="@Resource.FromDate">
        </div>
        <div class="col-md-3 col-sm-12" style="padding-left:0px;">
            <label class="col-form-label label-align ">@Resource.ToDate</label>
            <input id="txtsTodate" class="form-control" autocomplete="off" type="date" name="ToDate" placeholder=" @Resource.ToDate">
        </div>
        <div class="col-md-1 col-sm-12">
            <button type="button" class="btn btn-primary btn-sm margintop20" id="BtnSearch" onclick="FilterIssuetoList()"><i class="fa fa-search" aria-hidden="true"></i></button>
        </div>
        <div class="card-box table-responsive dy_table margin15">
            <div id="" class="sticky-table sticky-ltr-cells sb-container container-example1 OrderHistory height30VH">
                <table id="datatable-buttons" data-order="" class="table table-striped table-bordered rowhighlighttbl width1600 issue_detail" style="width:100%">
                    <thead>
                        <tr class="sticky-header">
                            <th width="3%"> @Resource.SrNo</th>
                            <th style="min-width:300px;">@Resource.Sample @Resource.Name</th>                           
                            <th width="8%">@Resource.UOM</th>
                            <th>@Resource.Issue @Resource.Number</th>
                            <th>@Resource.Issue @Resource.Date</th>
                            <th>@Resource.Issue @Resource.Quantity</th>
                            <th> @Resource.Sample @Resource.Type</th>
                            <th>@Resource.Bin @Resource.Location</th>
                            <th> @Resource.Received @Resource.Quantity</th>

                        </tr>
                    </thead>
                    <tbody>
                        @if (ViewBag.Issuedtotabledata != null)
                        {
                            foreach (System.Data.DataRow Row in ViewBag.Issuedtotabledata.Rows)
                            {
                                rowId++;
                        <tr role="row" class="even">
                            <td>@rowId</td>
                            <td id="samplename">
                                <div class=" col-sm-11 no-padding">
                                    @Row["sample_no"].ToString()
                                </div>
                                <input type="hidden" id="hdItemId" value="@Row["item_id"].ToString()" style="display: none;" />
                                <div class="col-sm-1 i_Icon">
                                    <button type="button" onclick="OnClickIconBtn(event);" class="calculator" data-toggle="modal" data-target="#ItemInfo" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="Item Information">  </button>
                                </div>
                            </td>                         
                            <td id="uom">@Row["Uom_name"].ToString()</td>
                            <td id="issueno">@Row["issue_no"].ToString()</td>
                            <td>@Row["issue_dt"].ToString() </td>
                            <td id="issue_qty">@Row["issue_qty"].ToString() </td>
                            <td>@Row["sr_type"].ToString()</td>
                            <td>@Row["bin_loc"].ToString()</td>
                            <td>@Row["rec_qty"].ToString()</td>
                        </tr>
                            }
                        }
                    </tbody>

                </table>

            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal" id="" onclick="">@Resource.Close</button>
    </div>
</div>
@if (Model.MISearch == "Issue_data")
{
    @Scripts.Render("~/Content/Scripts/DataTableRefreshJs")
    @Scripts.Render("~/Content/Scripts/DatatablesJs")
    //Session["MISearch"] = null;
}

