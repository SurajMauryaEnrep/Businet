@model EnRepMobileWeb.MODELS.ApplicationLayer.SalesAndDistribution.SalesEnquiry.SEListModel
@using EnRepMobileWeb.Resources;
@if (Session["UserId"] == null)
{
    Response.Redirect("~/Login");
}
@{
    Layout = "~/Views/Shared/_MasterLayout.cshtml";
}
<script src="~/Content/Css/jquery/dist/jquery.min.js"></script>
<script src="~/Content/Css/build/js/sweetalert.js"></script>
@*/*start Add by Hina on 16-02-2024 to chk Financial year exist or not*/*@
@{
    if (TempData["Message"] != null)
    {
        if (TempData["Message"] == "Financial Year not Exist")
        {
            <script type="text/javascript">
                swal("", $("#FinancialYearDoesNotExistTransactionCanNotBeDone").text(), "warning");
            </script>
        }

    }
}
@*/*End to chk Financial year exist or not*/*@
<script src="~/Content/Scripts/ApplicationLayer/SalesAndDistribution/SalesEnquiry/SalesEnquiryList.js"></script>
<title>@Model.Title</title>
<div class="clearfix"></div>
<div class="row">
    <div class="col-md-12 col-sm-12 ">
        <div class="x_panel mar_pad1 ">
            <div class="x_content mar_pad1">
                @Html.HiddenFor(m => m.ListFilterData, new { @id = "ListFilterData" })
                @Html.HiddenFor(m => m.DocumentMenuId, new { @id = "DocumentMenuId" })
                @*@Html.HiddenFor(m => m.CustTyp_List, new { @id = "CustTypeList" })*@
                <h2 class="col-md-5 col-sm-12 heading_left_padding ">@ViewBag.MenuPageName</h2>
                <!-- Smart Wizard -->
                <div id="wizard" class="form_wizard wizard_horizontal col-md-3 col-sm-12 work_flow"> </div>
                <div id="" class="col-md-4 col-sm-12 heading_right_padding">
                    <ul>
                        <li>
                            <a class="tooltip-test"
                               title=" @Resource.AddNew" href="@Url.Action("AddSalesEnquiryDetail","SalesEnquiry")"><img src="~/Content/Images/addgreen.png" width="32" height="32" id="Btn_AddPackingList" alt="Add"></a>
                        </li>
                    </ul>
                </div>
                <div class="x_title pad_mar ">
                    <div class="col-md-12 col-sm-12 icon_tool ">
                        <div class="col-md-2 col-sm-12">
                            <label class="col-form-label label-align">@Resource.Enquiry @Resource.Type </label>
                            @*<select class="form-control" id="EnquiryType" name="Status">
            <option value="">---Select---</option>
            <option value="">Enquiry Type</option>
            <option value="">Enquiry Type 1</option>
            <option value="">Enquiry Type 2</option>
        </select>*@
                            @Html.DropDownListFor(model => model.EnqryTyp, new SelectList(new List<Object>
                            {
                              new { value = "0", text = "---Select---" },
                              new { value = "D", text = "Domestic"  },
                              new { value = "E", text = "Export"  },

                        },
                              "value",
                              "text"
                              ), new { @id = "SE_ddlEnqtype", @class = "form-control", @onchange = "OnChangeEnquiryType();", @onclick = "BindCustomerList();" })
                            @Html.ValidationMessageFor(model => model.EnqryTyp, String.Empty, new { @style = "color:red;!important", @id = "vmEnquiryTypeonList" })

                        </div>
                        <div class="col-md-2 col-sm-12 pl-0">
                            <label class="col-form-label label-align">@Resource.Customer @Resource.Type </label>
                            @*<select class="form-control" id="CustomerType" name="Status">
            <option value="">---Select---</option>
            <option value="">Domestic</option>
            <option value="">Export</option>
        </select>*@
                            @Html.DropDownListFor(model => model.CustTyp, new SelectList(new List<Object>
                        {
                          new { value = "0", text = "---Select---" },
                          new { value = "C", text = "Customer"  },
                          new { value = "P", text = "Prospect"  },

                        },
                          "value",
                          "text"
                          ), new { @id = "SE_ddlCusttype", @class = "form-control", @onchange = "OnChangeCustTypelist();", @onclick = "BindCustomerList();" })
                            @Html.ValidationMessageFor(model => model.CustTyp, String.Empty, new { @style = "color:red;!important", @id = "vmCusttyponList" })

                        </div>
                        <div class="col-md-2 col-sm-12 pl-0">
                            <label class="col-form-label label-align">@Resource.Customer  @Resource.Name </label>
                            @*<select class="form-control" id="InstrumentType" name="Status">
            <option value="">---Select---</option>
            <option value="">AB CUSTOMER</option>
            <option value="">AB PROSPAC</option>
            <option>AB_TEST CUSTOMER</option>
            <option>ABC COUSTOMER TETSING</option>
            <option>ABC Ltd ex</option>
        </select>*@
                            @*@Html.DropDownListFor(model => model.CustName, new SelectList(Model.CustNameList, "cust_id", "cust_name"), new { @class = "form-control", @id = "SE_ddlCustName", onchange = "OnChangeCustName()" })*@
                              @Html.DropDownListFor(model => model.CustName, new SelectList(Model.CustNameList, "Cust_id", "Cust_name"), new { @class = "form-control", @id = "SE_ddlCustName" })
                              @Html.ValidationMessageFor(model => model.CustName, String.Empty, new { @style = "color:red;!important; position:relative;", @id = "vmcust_idList" })
                              @Html.HiddenFor(model => model.CustName, new { @id = "hdn_Cust_NameList" })
                            <span id="SpanCustNameErrorMsgList" class="error_message"></span>
                            <input type="hidden" id="hdnCustNameList_List" value='@Url.Action("GetAutoCompleteSearchCustList", "SalesEnquiry")' />
                        </div>
                        <div class="col-md-2 col-sm-12 pl-0">
                            <label class="col-form-label label-align">@Resource.Region</label>
                            @*<select class="form-control" id="InstrumentType" name="Status">
            <option value="">---Select---</option>
            <option value="">Region</option>
            <option value="">Region 1</option>
        </select>*@
                            @Html.DropDownListFor(model => model.Region, new SelectList(Model.RegionList, "setup_id", "setup_val"), new { @id = "SE_ddlRegion", @class = "form-control", @onchange = "OnChangeRegion()" })

                        </div>
                        <div class="col-md-2 col-sm-12 pl-0">
                            <label class="col-form-label label-align">@Resource.Portfolio</label>
                            @*<select class="form-control" id="InstrumentType" name="Status">
            <option value="">---Select---</option>
            <option value="">Portfolio</option>
            <option value="">Portfolio 1</option>
        </select>*@
                            @Html.DropDownListFor(model => model.Portfolio, new SelectList(Model.PortFolioList, "setup_id", "setup_val"), new { @id = "SE_ddlPort", @class = "form-control", @onchange = "OnChangePort()" })

                        </div>
                        <div class="col-md-2 col-sm-12 pl-0">
                            <label class="col-form-label label-align">@Resource.Category</label>
                            @*<select class="form-control" id="InstrumentType" name="Status">
            <option value="">---Select---</option>
            <option value="">Category</option>
            <option value="">Category 1</option>
        </select>*@
                            @Html.DropDownListFor(model => model.Catgry, new SelectList(Model.CategoryList, "setup_id", "setup_val"), new { @class = "form-control", @id = "SE_ddlCatgry", onchange = "OnChangeCategory()" })

                        </div>
                        <div class="col-md-2 col-sm-12">
                            <label class="col-form-label label-align">@Resource.Enquiry  @Resource.Source </label>
                            @*<select class="form-control" id="InstrumentType" name="Status">
                        <option value="">---Select---</option>
                        <option value="">Enquiry Source</option>
                        <option value="">Enquiry Source 1</option>
                    </select>*@
                            @Html.DropDownListFor(model => model.EnqSrc, new SelectList(new List<SelectListItem> {
                                                                                                new SelectListItem {Text="--Select--",Value="0" },
                                                                                                new SelectListItem {Text="Email",Value="EM" },
                                                                                                new SelectListItem {Text="Telephonic",Value="TL" },
                                                                                                 new SelectListItem {Text="Reference",Value="RF" },
                                                                                                new SelectListItem {Text="Website",Value="WS" },
                                                                                                 new SelectListItem {Text="Sales Person",Value="SP" },
                                                                                                new SelectListItem {Text="Social Media",Value="SM" },
                                                                                                }, "Value", "Text"
                                                            ), new { @class = "form-control", @id = "SE_ddlEnqSrc", @name = "mrs_type", onchange = "OnChangeEnquirySource()" })

                        </div>
                        <div class="col-md-2 col-sm-12 pl-0">
                            <label class="col-form-label label-align">@Resource.Sales  @Resource.Person </label>
                            @*<select class="form-control" id="InstrumentType" name="Status">
            <option value="">---Select---</option>
            <option value="">Sales Person</option>
            <option value="">Sales Person 1</option>
        </select>*@
                            @Html.DropDownListFor(model => model.SlsPrsn, new SelectList(Model.SlsPrsnOnList, "salep_id", "salep_name"), new { @class = "form-control", @id = "SE_ddlSlsPerson" })

                        </div>
                        <div class="col-md-2 col-sm-12 pl-0">
                            <label class="col-form-label label-align"> @Resource.FromDate</label>
                            @*<input class="form-control" id="txtFromdate" max="2024-11-13" name="FromDate" onchange="FromToDateValidation()" type="date" value="2024-11-01">*@
                            @Html.TextBoxFor(model => model.FromDate, new { @class = "form-control", @id = "txtFromdate", @onchange = "FromToDateValidation()", @type = "date", @max = DateTime.Now.ToString("yyyy-MM-dd") })
                            @Html.HiddenFor(model => model.FromDate, new { id = "hdFromdate" })
                        </div>
                        <div class="col-md-2 col-sm-12 pl-0">
                            <label class="col-form-label label-align">@Resource.ToDate</label>
                            @*<input value="2024-11-13" class="form-control" data-val="true" data-val-date="The field ToDate must be a date." data-val-required="The ToDate field is required." id="txtTodate" max="2024-11-13" name="ToDate" onchange="FromToDateValidation()" placeholder="dd-MM-yyyy" type="date">*@
                            @if (Model.ToDate != null)
                            {
                                @Html.TextBoxFor(model => model.ToDate, new { @class = "form-control", @id = "txtTodate", @placeholder = "dd-MM-yyyy", @onchange = "FromToDateValidation()", @type = "date", @max = DateTime.Now.ToString("yyyy-MM-dd"), @Value = Model.ToDate })
                            }
                            else
                            {
                                @Html.TextBoxFor(model => model.ToDate, new { @class = "form-control", @id = "txtTodate", @placeholder = "dd-MM-yyyy", @onchange = "FromToDateValidation()", @type = "date", @max = DateTime.Now.ToString("yyyy-MM-dd"), @Value = @DateTime.Now.ToString("yyyy-MM-dd") })
                            }
                        </div>
                        <div class="col-md-2 col-sm-12 no-padding pl-0">
                            <div class="col-md-9 col-sm-12 pl-0">
                                <label class="col-form-label label-align">@Resource.Status</label>
                                @*<select class="form-control" id="ddlStatus" name="Status">
                            <option value="0">All</option>
                            <option value="A">Approved</option>
                            <option value="C">Cancelled</option>
                            <option value="D">Drafted</option>
                            <option value="F">Forwarded</option>
                        </select>*@
                                @Html.DropDownListFor(model => model.Status, new SelectList(Model.StatusList, "status_id", "status_name"), new { @class = "form-control", id = "ddlStatus" })

                            </div>
                            <div class="col-md-3 col-sm-12 pl-0">
                                <button type="button" onclick="BtnSearch()" class="btn btn-primary btn-sm margintop20" id="Btn_Search"><i class="fa fa-search" aria-hidden="true"></i></button>
                            </div>
                        </div>
                        @*<div class="col-md-1 col-sm-12">
                    <button type="button" class="btn btn-primary btn-sm margintop20" id="BtnSearch" onclick="FilterDeliveryNoteList()"><i class="fa fa-search" aria-hidden="true"></i></button>
                </div>*@
                    </div>
                    <div class="clearfix"></div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-12 col-sm-12">
        <div class="x_panel margin_top_zero">
            <div class="x_content">
                <div class="card-box table-responsive dy_table">
                    <div id="tbodySlsEnqryList" class="sticky-table sticky-ltr-cells sb-container container-example1">
                        @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/PartialSalesEnquiryList.cshtml")
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

