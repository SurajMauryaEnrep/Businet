@*/*USED in Bank Payment,Bank Receipt,Cash Payment ,Cash Receipt --Created by Hina Sharma on 28-10-2025*/*@
@using EnRepMobileWeb.Resources;
@using System.Data

<script src="~/Content/Scripts/Common/CommonPartialJS.js"></script>
<div class="modal-content" id="">
    <div class="modal-header">
        <h2>@Resource.AdjustedAmount @Resource.Detail</h2>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
    </div>
    <div class="modal-body pop_top">
        <div class="row">
            <div class="col-md-3 col-sm-12">
                <label class="col-form-label label-align">
                    @Resource.InvoiceNumber
                </label>
                <input id="Prtal_cmnInvoiceNumber" class="form-control" autocomplete="off" type="text" name="InvoiceNumber" placeholder="@Resource.InvoiceNumber" disabled="">
            </div>
            <div class="col-md-2 col-sm-12 pl-0">
                <label class="col-form-label label-align">
                    @Resource.InvoiceDate
                </label>
                <input id="Prtal_cmnInvoiceDate" class="form-control" autocomplete="off" type="text" name="InvoiceDate" placeholder="@Resource.InvoiceDate" disabled="">
            </div>
            <div class="col-md-1 col-sm-12 pl-0">
                <label class="col-form-label label-align">
                    @Resource.Currency
                </label>
                <input id="Prtal_cmnCurr" class="form-control" autocomplete="off" type="text" name="Currency" placeholder="@Resource.Currency" disabled="">
            </div>
            <div class="col-md-3 col-sm-12 pl-0">
                <label class="col-form-label label-align">
                    @Resource.InvoiceAmount (In Base)
                </label>
                <input id="Prtal_cmnInvoiceAmtBs" class="form-control" autocomplete="off" type="text" name="InvoiceAmount(In Base)" placeholder="@Resource.InvoiceAmount" disabled="">
            </div>
            <div class="col-md-3 col-sm-12 pl-0">
                <label class="col-form-label label-align">
                    @Resource.InvoiceAmount (In Specific)
                </label>
                <input id="Prtal_cmnInvoiceAmtSpc" class="form-control" autocomplete="off" type="text" name="InvoiceAmount(In Specific)" placeholder="@Resource.InvoiceAmount" disabled="">
            </div>
        </div>
        <div class="card-box table-responsive dy_table margin10">
            <div id="" class="sticky-table sticky-ltr-cells sb-container container-example1 OrderHistory height30VH pop_csv">
                <table id="tbl_AdjustedAmtDetails" class="table table-striped table-bordered rowhighlighttbl" style="width:100%">
                    <thead>
                        <tr class="sticky-header">
                            <th width="4%"> @Resource.SrNo</th>
                            <th width="24%">@Resource.Voucher @Resource.Number</th>
                            <th width="24%">@Resource.Voucher @Resource.Date</th>
                            <th width="24%">@Resource.Voucher @Resource.Type</th>
                            <th width="24%">@Resource.AdjustedAmount</th>
                        </tr>
                    </thead>
                    <tbody>

                        @if (ViewBag.AdjustedAmountDetail != null)
                        {
                            var rowNo = 1;
                            foreach (System.Data.DataRow dtr in ViewBag.AdjustedAmountDetail.Rows)
                            {
                                <tr>
                                    <td>@rowNo</td>
                                    <td id="AR_VouNo">@dtr["VouNo"].ToString()</td>
                                    <td id="AR_VouDate">@dtr["VouDate"].ToString()</td>
                                    <td id="AR_VouType">@dtr["VouType"].ToString()</td>
                                    <td class="num_right" id="AR_paid_amt">@dtr["paid_amt"].ToString()</td>
                                </tr>
                                //amt = amt + Convert.ToDecimal(IsNull(@dtr["amt_sp"].ToString(),"0"));
                                //adjustAmt = adjustAmt + Convert.ToDecimal(@dtr["adj_amt"]);
                                //pendingAmt = pendingAmt + Convert.ToDecimal(IsNull(@dtr["pend_amt"].ToString(),"0"));
                                rowNo = rowNo + 1;
                            }
                        }
                    </tbody>
                    <tfoot>
                        @if (ViewBag.AdjustedAmountDetailTotal != null)
                        {
                            foreach (System.Data.DataRow dtr in ViewBag.AdjustedAmountDetailTotal.Rows)
                            {
                                <tr class="total">
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td style=""><strong>Total</strong> </td>
                                    <td class="num_right"><strong>@dtr["paid_amt"].ToString()</strong></td>

                                    @*<td class="num_right">@dtr["pend_amt"].ToString()</td>*@
                                </tr>
                            }
                        }
                        @*<tr class="total">
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>Total</td>
                                <td class="num_right">@amt</td>
                                <td class="num_right">@adjustAmt</td>
                                <td class="num_right">@pendingAmt</td>
                            </tr>*@
                    </tfoot>
                </table>
                <table id="Hdn_tbl_AdjustedAmtDetails" hidden="hidden" class="table table-striped table-bordered rowhighlighttbl" style="width:100%">
                    <thead>
                        <tr class="sticky-header">
                            <th width="4%"> @Resource.SrNo</th>
                            <th width="24%">@Resource.Voucher @Resource.Number</th>
                            <th width="24%">@Resource.Voucher @Resource.Date</th>
                            <th width="24%">@Resource.Voucher @Resource.Type</th>
                            <th width="24%">@Resource.Amount</th>
                        </tr>
                    </thead>
                    <tbody>

                        @if (ViewBag.AdjustedAmountDetail != null)
                        {
                            var rowNo = 1;
                            foreach (System.Data.DataRow dtr in ViewBag.AdjustedAmountDetail.Rows)
                            {
                                <tr>
                                    <td>@rowNo</td>
                                    <td id="AR_VouNo">@dtr["VouNo"].ToString()</td>
                                    <td id="AR_VouDate">@dtr["VouDate"].ToString()</td>
                                    <td id="AR_VouType">@dtr["VouType"].ToString()</td>
                                    <td class="num_right" id="AR_paid_amt">@dtr["paid_amt"].ToString()</td>
                                </tr>
                                //amt = amt + Convert.ToDecimal(IsNull(@dtr["amt_sp"].ToString(),"0"));
                                //adjustAmt = adjustAmt + Convert.ToDecimal(@dtr["adj_amt"]);
                                //pendingAmt = pendingAmt + Convert.ToDecimal(IsNull(@dtr["pend_amt"].ToString(),"0"));
                                rowNo = rowNo + 1;
                            }
                        }
                    </tbody>
                    <tfoot>
                        @if (ViewBag.AdjustedAmountDetailTotal != null)
                        {
                            foreach (System.Data.DataRow dtr in ViewBag.AdjustedAmountDetailTotal.Rows)
                            {
                                <tr class="total">
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td>&nbsp;</td>
                                    <td style=""><strong>Total</strong> </td>
                                    <td class="num_right"><strong>@dtr["paid_amt"].ToString()</strong></td>

                                    @*<td class="num_right">@dtr["pend_amt"].ToString()</td>*@
                                </tr>
                            }
                        }
                        @*<tr class="total">
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>&nbsp;</td>
                                <td>Total</td>
                                <td class="num_right">@amt</td>
                                <td class="num_right">@adjustAmt</td>
                                <td class="num_right">@pendingAmt</td>
                            </tr>*@
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal" id="CloseBtn">@Resource.Close</button>
    </div>
</div>





