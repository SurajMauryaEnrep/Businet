@model EnRepMobileWeb.MODELS.ApplicationLayer.InventoryManagement.MIS.StockTransfer.StockTransfer_Model
@using EnRepMobileWeb.Resources;
<script src="~/Content/Css/jquery/dist/jquery.min.js"></script>
<script src="~/Content/Css/build/js/sweetalert.js"></script>
@*@using System.Data*@
@if (Session["UserId"] == null)
{
    Response.Redirect("~/Login");
}
@{
    Layout = "~/Views/Shared/_MasterLayout.cshtml";
}
<title>@ViewBag.title</title>
<style>
    /*#ddlDstnBranch .select2-dropdown {
        min-width: 200px;
    }*/
</style>
<div class="row">
    <!-- Item Information -->
    <div id="ItemInfo" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <!-- Modal content-->
            @Html.Partial("~/Areas/Common/Views/_ItemInfomation.cshtml")
        </div>
    </div>
    <!-- Requisition Quantity Detail Start -->
    <div id="RequisitionQuantity" class="modal fade" role="dialog">
        <div id="divPartialMISRequisitionQuantityDetail" class="modal-dialog" style="max-width:900px;">
            <!-- Modal content-->
            @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/PartialMISRequisitionQuantityDetail.cshtml")
        </div>
    </div>
    <!-- Requisition Quantity Detail End -->
    <!-- Transfer Quantity Detail Start -->
    <div id="TransferQuantity" class="modal fade" role="dialog">
        <div id="divPartialMISTransferQuantityDetail" class="modal-dialog" style="max-width:900px;">
            <!-- Modal content-->
            @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/PartialMISTransferQuantityDetail.cshtml")
        </div>
    </div>
    <!-- Transfer Quantity Detail  End -->
    <!-- Receipt Quantity Detail Start -->
    <div id="ReceiptQuantity" class="modal fade" role="dialog">
        <div id="divPartialMISReceiptQuantityDetail" class="modal-dialog" style="max-width:900px;">
            <!-- Modal content-->
            @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/PartialMISReceiptQuantityDetail.cshtml")
        </div>
    </div>
    <!-- Receipt Quantity Detail End -->
    <div class="col-md-12 col-sm-12 ">
        <div class="x_panel mar_pad1 ">
            <div class="x_content mar_pad1">
                <h2 class="col-md-10 col-sm-12 heading_left_padding mb-0 ">@ViewBag.MenuPageName</h2>
                <div id="" class="col-md-2 col-sm-12 no-margin no-padding" style="display:none">
                    <div class="col-md-4 col-sm-12 no-margin no-padding ">
                        <label class="col-form-label label-align">@Resource.Issue @Resource.Type </label>
                    </div>
                </div>
                <!-- Smart Wizard -->
                <div id="wizard" class="form_wizard wizard_horizontal col-md-3 col-sm-12 work_flow"> &nbsp;</div>
                <div class="x_title pad_mar">
                    <div class="col-md-12 col-sm-12 icon_tool mb-1 p-b-1">
                        <div class="col-md-3 col-sm-12">
                            <label class="col-form-label label-align">@Resource.ItemName </label>
                            @*<select class="form-control " id="ItemName" name="ItemName">
                                    <option value="0">---All---</option>
                                    <option value="ITM0000100">Item 100</option>
                                    <option value="ITM0000101">Item 101</option>
                                    <option value="ITM0000145">Item 145</option>
                                    <option value="ITM0000146">Item 146</option>
                                </select>*@
                            @Html.DropDownListFor(model => model.ItemId, new SelectList(Model.ItemsList, "ItemId", "ItemName"), new { @class = "form-control", onchange = "BindUom();", id = "ddlItems" })
                        </div>
                        <div class="col-md-1 col-sm-12 pl-0">
                            <label class="col-form-label label-align">@Resource.UOM </label>
                            <input autocomplete="off" class="form-control optional" id="txtuomid" maxlength="20" name="" placeholder="UOM" type="text" value="" disabled>
                        </div>

                        <div class="col-md-2 col-sm-12 pl-0">
                            <label class="col-form-label label-align">
                                @Resource.MaterialTransferType
                            </label>
                            <select class="form-control" id="ddlTrfType" name="TRF_Type" multiple>
                                @*<option value="0">--ALL--</option>*@
                                <option value="B">Branch Transfer</option>
                                <option value="W">Warehosue Transfer</option>
                            </select>
                        </div>
                        <div class="col-md-2 col-sm-12 pl-0">
                            <label class="col-form-label label-align">@Resource.SourceBranch </label>

                            @Html.DropDownListFor(model => model.SrcBranch, new SelectList(Model.SrcBranchList, "BrId", "BrName"), new { @class = "form-control", onchange = "BindSrcWarehouseByBrId()", id = "ddlSrcBranch",@multiple = "multiple" })
                        </div>
                        <div class="col-md-2 col-sm-12 pl-0">
                            <label class="col-form-label label-align">@Resource.SourceWarehouse </label>

                            @Html.DropDownListFor(model => model.SrcWarehouse, new SelectList(Model.SrcWarehouseList, "WhId", "WhName"), new { @class = "form-control", onchange = "OnChangeFromBranch()", id = "ddlSrcWarehouse", @multiple = "multiple" })
                        </div>
                        <div class="clear"></div>
                        <div class="col-md-2 col-sm-12">
                            <label class="col-form-label label-align">@Resource.DestinationBranch </label>
                            @Html.DropDownListFor(model => model.DstnBranch, new SelectList(Model.DstnBranchList, "BrId", "BrName"), new { @class = "form-control", onchange = "BindDstnWarehouseByBrId()", id = "ddlDstnBranch", @multiple = "multiple" })
                        </div>
                        <div class="col-md-2 col-sm-12 pl-0">
                            <label class="col-form-label label-align">@Resource.DestinationWarehouse </label>
                            @Html.DropDownListFor(model => model.DstnWarehouse, new SelectList(Model.DstnWarehouseList, "WhId", "WhName"), new { @class = "form-control", onchange = "OnChangeFromBranch()", id = "ddlDstnWarehouse", @multiple = "multiple" })
                        </div>
                        <div class="col-md-2 col-sm-12 pl-0">
                            <label class="col-form-label label-align">@Resource.FromDate</label>
                            @Html.TextBoxFor(model => model.FromDate, new { @class = "form-control", @id = "txtFromdate", @type = "date", @max = DateTime.Now.ToString("yyyy-MM-dd") })
                        </div>
                        <div class="col-md-2 col-sm-12 pl-0">
                            <label class="col-form-label label-align">@Resource.ToDate</label>
                            @Html.TextBoxFor(model => model.ToDate, new { @class = "form-control", @id = "txtTodate", @placeholder = "dd-MM-yyyy", @type = "date", @max = DateTime.Now.ToString("yyyy-MM-dd"), @Value = @DateTime.Now.ToString("yyyy-MM-dd") })
                        </div>
                        <div class="col-md-2 col-sm-12">
                            <button type="button" class="btn btn-primary btn-sm margintop20" id="BtnSearch" onclick="GetStockTransferMIS();"><i class="fa fa-search" aria-hidden="true"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    @*<div class="col-md-12 col-sm-12 ">
        <div class="x_panel mar_pad1 ">
            <div class="x_content mar_pad1">
                <div class="card-box table-responsive ">
                    <div class="col-md-12">
                        <div id="divStkTrf" class=" ">*@
    <div class="col-md-12 col-sm-12 ">
        <div class="x_panel mar_pad1 ">
            <div class="x_content mar_pad1">
                <div class="card-box table-responsive">
                    <div class="sticky-table sticky-ltr-cells sb-container container-example1">
                        <div id="divStkTrf">
                            @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/_PartialStockTransferMISList.cshtml")
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="~/Content/Scripts/ApplicationLayer/InventoryManagement/MIS/StockTransfer/StockTransferMIS.js"></script>