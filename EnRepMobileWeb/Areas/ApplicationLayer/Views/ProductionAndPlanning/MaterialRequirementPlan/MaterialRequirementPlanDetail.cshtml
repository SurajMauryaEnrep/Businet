@model EnRepMobileWeb.MODELS.ApplicationLayer.ProductionAndPlanning.MaterialRequirementPlan.MaterialRequirementPlan_Model
@using EnRepMobileWeb.Resources;
@using EnRepMobileWeb.MODELS.Common;
<script src="~/Content/Css/jquery/dist/jquery.min.js"></script>
<script src="~/Content/Css/build/js/sweetalert.js"></script>
<script src="~/Content/Scripts/ApplicationLayer/ProductionAndPlanning/MaterialRequirementPlan/MaterialRequirementPlanDetail.js"></script>
@*/*start Add by Hina on 19-02-2024 to chk Financial year exist or not*/*@
@{
    if (TempData["Message"] != null)
    {
        if (TempData["Message"] == "Financial Year not Exist")
        {
            <script type="text/javascript">
                swal("", $("#FinancialYearDoesNotExistTransactionCanNotBeDone").text(), "warning");
            </script>
        }

    }
    /*Add by Hina sharma on 09-05-2025 to check Existing with previous year transaction*/
    if (TempData["Message1"] != null)
    {
        if (TempData["Message1"] == "TransNotAllow")
        {
            <script type="text/javascript">
                swal("", $("#NomodificationisallowedinpreviousFYdocument").text(), "warning");
            </script>
        }

    }
    var hideStockBtn = (ViewBag.DocumentCode == "D" || ViewBag.DocumentCode == "F") ? "" : "hidden";
}
@*/*End to chk Financial year exist or not*/*@
<style>
    /*.select2-search--dropdown .select2-search__field {
        padding: 4px;
        width: 100%;
        min-width:350px;
        box-sizing: border-box
    }*/
    .select2-container--default .select2-results > .select2-results__options {
        max-height: 200px;
        overflow-y: auto;
        min-width: 350px;
    }

    .select2-container--open .select2-dropdown--above {
        min-width: 400px !important;
    }

    .select2-container--open .select2-dropdown--below {
        min-width: 400px;
    }
</style>
@if (Session["UserId"] == null)
{
    Response.Redirect("~/Login");
}
@{
    Layout = "~/Views/Shared/_MasterLayout.cshtml";
}
@{
    var Disable = true;
    var disablePrintbtn = "";
    //if (Session["TransTypefc"].ToString() == "Update")
    if (Model.TransTypefc == "Update")
    {
        //if (Session["Commandfc"].ToString() == "Edit")
        if (Model.Commandfc == "Edit")
        {
            Disable = false;
        }
        else
        {
            Disable = true;
        }
    }
    else
    {
        Disable = false;
    }
    //if (Session["TransTypefc"].ToString() == "Refresh")
    if (Model.TransTypefc == "Refresh" || Model.Commandfc == "Refresh") /*Or Codition Added by Suraj Maurya on 17-02-2025*/
    {
        Disable = true;
    }
    //if (Session["TransTypefc"].ToString() == "Approve")
    if (Model.TransTypefc == "Approve")
    {
        Disable = true;
    }
    //if (Session["TransTypefc"].ToString() == "Save")
    if (Model.TransTypefc == "Save")
    {
        //if (Session["Commandfc"].ToString() == "Add")
        if (Model.Commandfc == "Add")
        {
            Disable = false;
        }
        else
        {
            Disable = true;
        }
    }
    if (Model.DocumentStatusfc == "Approved" && Model.Amend != "Amend")
    {
        Disable = true;
    }

    if (Model.StatusCode == "C" || Model.MRPNumber == null || ((Model.StatusCode == "D" || Model.StatusCode == "A") && Model.Commandfc == "Edit"))/*Add || ((Model.StatusCode == "D" || Model.StatusCode == "A") && Model.Commandfc == "Edit") by Hina sharma on 16-10-2024*/
    {
        disablePrintbtn = "disabled style=filter:grayscale(100%)";
    }
    else if (Model.MRPNumber != null)
    {
        if (Model.MRPNumber.Split('(').Count() > 1)
        {
            disablePrintbtn = "disabled style=filter:grayscale(100%)";
        }
    }
}
@{
    //if (Session["Messagefc"] != null)
    if (Model.Messagefc != null)
    {
        //var str = Session["Messagefc"].ToString();
        var str = Model.Messagefc;
        //if (Session["Messagefc"] != null)

        if (Model.Messagefc != null)
        {
            Model.hdnsaveApprovebtn = null;
            //if (Session["Messagefc"].ToString() == "Save")
            if (Model.Messagefc == "Save")
            {
                <script type="text/javascript">
                    swal("", $("#savemsg").text(), "success");
                </script>
            }
            //if (Session["Messagefc"].ToString() == "Deleted")
            if (Model.Messagefc == "Deleted")
            {
                <script type="text/javascript">
                    swal("", $("#deletemsg").text(), "success");
                </script>
            }
            //if (Session["Messagefc"].ToString() == "Approved")
            if (Model.Messagefc == "Approved")
            {
                <script type="text/javascript">
                    swal("", $("#approvemsg").text(), "success");
                </script>
            }
            if (Model.Messagefc == "Approved_ErrorInMail")
            {
                <script type="text/javascript">
                    $(document).ready(function () {
                        swal("", $("#approvemsg").text() + '. \n ' + $("#ThereIsSomethingWrongWhileSendingAlerts").text(), "warning");
                    });
                </script>
            }
            //if (Session["Messagefc"].ToString() == "Cancelled")
            if (Model.Messagefc == "Cancelled")
            {
                <script type="text/javascript">
                    swal("", $("#cancelmsg").text(), "success");
                </script>

            }
            if (Model.Messagefc == "Cancelled_ErrorInMail")
            {
                <script type="text/javascript">
                    $(document).ready(function () {
                        swal("", $("#cancelmsg").text() + '. \n ' + $("#ThereIsSomethingWrongWhileSendingAlerts").text(), "warning");
                    });
                </script>
            }
            //if (Session["Messagefc"].ToString() == "Used")
            if (Model.Messagefc == "PRInProcess")
            {
                <script type="text/javascript">
                    swal("", $("#MRP_PR_Processed_MRPCannotModified").text(), "warning");
                </script>
            }
            //if (Session["Messagefc"].ToString() == "JCInProcess")
            if (Model.Messagefc == "JCInProcess")
            {
                <script type="text/javascript">
                    swal("", $("#ProductionOrderHasBeenProcessedDocumentCanNotBeModified").text(), "warning");
                </script>
            }
            if (Model.Messagefc == "DocModify")
            {
                <script type="text/javascript">
                    swal("", $("#SourceDocumentHasBeenModifiedCanNotProceed").text(), "warning");
                </script>
            }
            if (Model.Messagefc == "ErrorInMail")
            {
                <script type="text/javascript">
                    swal("", $("#Emailsendingfailedduetotechnicalissue").text(), "warning");
                </script>
            }
            //Session.Remove("Messagefc");
            Model.Messagefc = null;
        }
    }
}
<title>@Model.Title</title>
@using (Html.BeginForm("MaterialRequirementPlanSave", "MaterialRequirementPlan", FormMethod.Post, new { enctype = "multipart/form-data", id = "MaterialRequirementPlanForm" }))
{
    @Html.AntiForgeryToken()
    {
        <div class="row">
            <div class="col-md-12 col-sm-12 ">
                <div class="x_panel mar_pad1 ">
                    <div class="x_content mar_pad1">
                        <!-- Bill Of Material -->
                        <div id="BillOfMaterial" class="modal fade" role="dialog">
                            <div id="PPLPopUp_BillOfMaterial" class="modal-dialog" style="max-width:900px;">
                                <!-- Modal content-->
                                @*@Html.Partial("~/Areas/ApplicationLayer/Views/Shared/PartialBillOfMaterial.cshtml")*@
                            </div>
                        </div>
                        <!-- Bill Of Material -->
                        <div id="BillOfMaterialLvl2" class="modal fade" role="dialog">
                            @*  *@
                            <div id="PPLPopUp_BillOfMaterialLvl2" class="modal-dialog" style="max-width:900px;">
                                <!-- Modal content-->
                                @* Data is comming from Controller : Added by Suraj Maurya on 21-12-2024*@
                            </div>
                        </div>
                        <!-- Bill Of Material -->
                        <div id="BillOfMaterialLvl3" class="modal fade" role="dialog">
                            <div id="PPLPopUp_BillOfMaterialLvl3" class="modal-dialog" style="max-width:900px;">
                                <!-- Modal content-->
                                @* Data is comming from Controller : Added by Suraj Maurya on 21-12-2024*@
                            </div>
                        </div>
                        <!-- Bill Of Material -->
                        <div id="BillOfMaterialLvl4" class="modal fade" role="dialog">
                            <div id="PPLPopUp_BillOfMaterialLvl4" class="modal-dialog" style="max-width:900px;">
                                <!-- Modal content-->
                                @* Data is comming from Controller : Added by Suraj Maurya on 21-12-2024*@
                            </div>
                        </div>
                        <!-- Bill Of Material -->
                        <div id="BillOfMaterialLvl5" class="modal fade" role="dialog">
                            <div id="PPLPopUp_BillOfMaterialLvl5" class="modal-dialog" style="max-width:900px;">
                                <!-- Modal content-->
                                @* Data is comming from Controller : Added by Suraj Maurya on 21-12-2024*@
                            </div>
                        </div>
                        <!-- Bill Of Material Alternate Item Information -->
                        <div id="AlternateItemDetailInfo" class="modal fade" role="dialog">
                            <div class="modal-dialog" id="PopUp_AlternateItemDetailInfo" style="max-width:600px;">
                                <!-- Modal content-->
                                @Html.Partial("~/Areas/Common/Views/Cmn_PartialBOMAlternateItemDetailInfo.cshtml")
                            </div>
                        </div>
                        <!-- Item Information -->
                        <div id="ItemInfo" class="modal fade" role="dialog">
                            <div class="modal-dialog">
                                <!-- Modal content-->
                                @Html.Partial("~/Areas/Common/Views/_ItemInfomation.cshtml")
                            </div>
                        </div>
                        <!-- Warehouse Wise Stock -->
                        <div id="StockDetail" class="modal fade" role="dialog">
                            <div class="modal-dialog">
                                <!-- Modal content-->
                                <div id="ItemStockWareHouseWise">
                                    @Html.Partial("~/Areas/Common/Views/PartialItemStockWareHouseWise.cshtml")
                                </div>
                            </div>
                        </div>
                        <!-- WIP Wise Stock -->
                        <div id="WIPStock" class="modal fade" role="dialog">
                            <div class="modal-dialog" style="max-width:600px;">
                                <!-- Modal content-->
                                <div id="ItemPendingStock">
                                    @Html.Partial("~/Areas/Common/Views/PartialWIPItemStock.cshtml")
                                </div>
                            </div>
                        </div>
                        <!-- Pending Order Quantity -->
                        <div id="PendingOrderQuantity" class="modal fade" role="dialog">
                            <div class="modal-dialog" style="max-width:600px;">
                                <!-- Modal content-->
                                <div id="PopUpPendingOrderQuantity">
                                    @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/_RMPendingOrderDetails.cshtml")
                                </div>
                            </div>
                        </div>
                        <!-- Material Detail -->
                        <div id="MaterialDetail" class="modal fade" role="dialog">
                            <div class="modal-dialog">
                                <!-- Modal content-->
                                <div id="PopUpMaterialDetail">
                                    @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/_MaterialDetail.cshtml")
                                </div>
                                @Html.HiddenFor(model => model.ProductMaterialDetail, new { @id = "HDProductMaterialDetails" })
                                <table id="SaveProductMaterialTbl" class="table table-bordered" style="display:none">
                                    <thead>
                                        <tr>
                                            <th>ProductId</th>
                                            <th>MaterialId</th>
                                            <th>Materialname</th>
                                            <th>UOMID</th>
                                            <th>UOMName</th>
                                            <th>MaterialType</th>
                                            <th>RequiredQty</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @if (ViewBag.ProductMaterialDetail != null)
                                        {
                                            foreach (System.Data.DataRow Row in ViewBag.ProductMaterialDetail.Rows)
                                            {
                                                <tr>
                                                    <td><input type="text" id="MRP_ProductID" value="@Row["product_id"].ToString()" /></td>
                                                    <td><input type="text" id="MRP_MaterialID" value="@Row["material_id"].ToString()" /></td>
                                                    <td><input type="text" id="MRP_MaterialName" value="@Row["MatrialName"].ToString()" /></td>
                                                    <td><input type="text" id="MRP_UOMID" value="@Row["uom_id"].ToString()" /></td>
                                                    <td><input type="text" id="MRP_UOMName" value="@Row["uom_name"].ToString()" /></td>
                                                    <td><input type="text" id="MRP_MaterialType" value="@Row["MatrialType"].ToString()" /></td>
                                                    <td><input type="text" id="MRP_ReqQty" value="@Row["ReqQty"].ToString()" /></td>
                                                </tr>
                                            }
                                        }
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <!-- Produced Quantity Detail -->
                        <div id="ProducedQuantityDetail" class="modal fade" role="dialog">
                            <div class="modal-dialog" id="PopUpProducedQuantityDetail">
                                <!-- Modal content-->
                                @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/_ProducedQuantityDetail.cshtml")
                            </div>
                        </div>
                        <!-- Procured Quantity Detail -->
                        <div id="ProcuredQuantityDetail" class="modal fade" role="dialog">
                            <div class="modal-dialog" id="PopUpProcuredQuantityDetail">
                                <!-- Modal content-->
                                @Html.Partial("~/Areas/ApplicationLayer/Views/Shared/_ProcuredQuantityDetail.cshtml")
                            </div>
                        </div>
                        <!-- Workflow Information -->
                        <div id="WorkflowInformation" class="modal fade" role="dialog">
                            <div class="modal-dialog" style="max-width:700px;">
                                <!-- Modal content-->
                                @Html.Partial("~/Areas/Common/Views/_WorkFlow.cshtml")
                            </div>
                        </div>
                        <!-- Forward Information -->
                        <div id="Forward_Pop" class="modal fade" role="dialog">
                            <div class="modal-dialog">
                                <!-- Modal content-->
                                @Html.Partial("~/Areas/Common/Views/PartialForward.cshtml")
                            </div>
                        </div>
                        <h2 class="col-md-5 col-sm-12 heading_left_padding ">@ViewBag.MenuPageName</h2>
                        <!-- Smart Wizard -->
                        <div id="wizard" class="form_wizard wizard_horizontal col-md-2 col-sm-12 work_flow">
                            @Html.Partial("~/Areas/Common/Views/_PartialWorkflowBar.cshtml")
                        </div>
                        <!-- Sub Item Detail -->
                        <div id="SubItem" class="modal fade" role="dialog">
                            <div class="modal-dialog" id="SubItemPopUp" style=" max-width:600px;">
                                <!-- Modal content-->
                                @{
                                    SubItemPopupDt mdl = new SubItemPopupDt();
                                }
                                @Html.Partial("~/Areas/Common/Views/Cmn_PartialSubItemDetail.cshtml", mdl)
                            </div>
                            <table id="hdn_Sub_ItemDetailTbl" hidden>
                                @* This table containsSub-Items of FG Produce Items, SF Produce Items, RM Procure Items *@
                                <tbody>
                                    @if (ViewBag.SubItemDetails != null)
                                    {
                                        foreach (System.Data.DataRow dr in ViewBag.SubItemDetails.Rows)
                                        {
                                            <tr>
                                                <td><input type="text" id="ItemId" value='@dr["item_id"]'></td>
                                                <td><input type="text" id="subItemId" value='@dr["sub_item_id"]'></td>
                                                <td><input type="text" id="subItemQty" value='@dr["Qty"]'></td>
                                                <td><input type="text" id="ItemType" value='@dr["item_type"]'></td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                            <table id="hdn_SubItemDetailTblMRPSF_Procure" hidden>
                                <tbody>
                                    @if (ViewBag.SubItemDetails_Percure != null)
                                    {
                                        foreach (System.Data.DataRow dr in ViewBag.SubItemDetails_Percure.Rows)
                                        {
                                            <tr>
                                                <td><input type="text" id="ItemId" value='@dr["item_id"]'></td>
                                                <td><input type="text" id="subItemId" value='@dr["sub_item_id"]'></td>
                                                <td><input type="text" id="subItemQty" value='@dr["Qty"]'></td>
                                            </tr>
                                        }
                                    }
                                </tbody>
                            </table>
                            @Html.HiddenFor(model => model.SubItemDetailsDt, new { @id = "SubItemDetailsDt" })
                            @Html.HiddenFor(model => model.SubItemDetailsDt_prcure, new { @id = "SubItemDetailsDt_precure" })
                        </div>
                        <!-- Sub Item Stock Detail -->
                        <div id="SubItemStock" class="modal fade" role="dialog">
                            <div class="modal-dialog" id="SubItemStockPopUp" style=" max-width:600px;">
                                <!-- Modal content-->
                                @Html.Partial("~/Areas/Common/Views/Cmn_PartialSubItemStkDetail.cshtml")
                            </div>
                        </div>
                        <input type="hidden" id="DocumentMenuId" value="@ViewBag.DocumentMenuId" />
                        @Html.HiddenFor(model => model.WFBarStatus, new { @id = "WFBarStatus" })
                        @Html.HiddenFor(model => model.WFStatus, new { @id = "WFStatus" })
                        @Html.HiddenFor(model => model.create_id, new { @id = "Create_ID" })
                        @Html.HiddenFor(m => m.A_Status, new { @id = "A_Status" })
                        @Html.HiddenFor(m => m.A_Level, new { @id = "A_Level" })
                        @Html.HiddenFor(m => m.A_Remarks, new { @id = "A_Remarks" })
                        @Html.HiddenFor(model => model.WF_Status1, new { @id = "WF_Status1" })
                        @Html.HiddenFor(model => model.hdnsaveApprovebtn, new { @id = "hdnsavebtn" })
                        <div id="" class="col-md-5 col-sm-12 work_flow heading_right_padding">
                            @{
                                //var btnName = Session["BtnNamefc"].ToString();
                                var btnName = Model.BtnNamefc;
                                switch (btnName)
                                {
                                    case "BtnAddNew":
                                        <ul class="margin0 padding0">
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105117001")
                                                    {
                                                        <li>
                                                            <button class="add" title="@Resource.AddNew" disabled style="filter: grayscale(100%)" type="submit" id="btn_add" name="Command" value="AddNew" onclick="RemoveSessionData()"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105117002")
                                                    {
                                                        <li>
                                                            <button class="edit" title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit" onclick="EnableEditkBtn()"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105117008")
                                                    {
                                                        <li>
                                                            <button class="amendment"
                                                                    title="@Resource.Amendment" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Workflow" name="Command" value="Amendment"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105117004")
                                                    {
                                                        <li>
                                                            <button class="delete" title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                        </li>
                                                        @Html.HiddenFor(m => m.ActionCommand, new { @id = "HdActionCommand" })
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="save" title="@Resource.Save" type="submit" onclick="return CheckFormValidation();" id="btn_save" name="Command" value="Save"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="forward" title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                </li>
                                            }

                                            <li>
                                                <button class="approve" title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="workflow" title="@Resource.Workflow" disabled style="filter: grayscale(100%)" type="submit" id="btn_workflow" name="Command" value="Workflow"></button>
                                                </li>
                                            }

                                            <li>
                                                <button class="refresh" title="@Resource.Refresh" type="submit" id="btn_refresh" name="Command" value="Refresh"></button>
                                            </li>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105117005")
                                                    {
                                                        <li>
                                                            <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                                        </li>
                                                    }
                                                    @*if (Row["feature_id"].ToString() == "105103125009" || Row["feature_id"].ToString() == "105103145110009")
                                                        {
                                                            if (ViewBag.DocumentCode != "D" && ViewBag.DocumentCode != "F" && ViewBag.DocumentCode != "C" && ViewBag.DocumentCode != "" && ViewBag.DocumentCode != null)
                                                            {
                                                                <li>
                                                                    <button class="intimation"
                                                                            title="@Resource.intimation" type="submit" id="btn_intimation" name="Command" value="intimation" data-toggle="modal" data-target="#intimation" data-backdrop="static" data-keyboard="false"></button>
                                                                </li>
                                                            }
                                                            else
                                                            {
                                                                <li>
                                                                    <button class="intimation"
                                                                            title="@Resource.intimation" type="submit" id="btn_intimation" name="Command" disabled style="filter: grayscale(100%)" value="intimation" data-toggle="modal" data-target="#intimation" data-backdrop="static" data-keyboard="false"></button>
                                                                </li>
                                                            }
                                                        }*@
                                                }
                                            }
                                            <li>
                                                <button class="email_tool" title="@Resource.Email" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Mail" name="Command" value="Mail"></button>
                                            </li>
                                            <li>
                                                <button class="message_tool" title="@Resource.Message" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Message" name="Command" value="Message"></button>
                                            </li>
                                            <li>
                                                <button class="back" title="@Resource.Back" disabled style="filter: grayscale(100%)" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                            </li>
                                        </ul>
                                        break;
                                    case "BtnEdit":
                                        <ul>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105117001")
                                                    {
                                                        <li>
                                                            @if (ViewBag.DocumentCode == "A" || ViewBag.DocumentCode == "C" || ViewBag.DocumentCode == "D" || ViewBag.DocumentCode == "F")
                                                            {
                                                                //if (Session["Commandfc"].ToString() == "Edit")
                                                                if (Model.Commandfc == "Edit")
                                                                {
                                                                    <button class="add" title="@Resource.AddNew" disabled style="filter: grayscale(100%)" type="submit" id="btn_add" name="Command" value="AddNew"></button>
                                                                }
                                                                else
                                                                {
                                                                    <button class="add" title="@Resource.AddNew" type="submit" id="btn_add" name="Command" value="AddNew"></button>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <button class="add" title="@Resource.AddNew" disabled style="filter: grayscale(100%)" type="submit" id="btn_add" name="Command" value="AddNew"></button>
                                                            }

                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105117002")
                                                    {
                                                        <li>
                                                            @if (ViewBag.DocumentCode == "A" || ViewBag.DocumentCode == "D")
                                                            {
                                                                //if (Session["Commandfc"].ToString() == "Edit")
                                                                if (Model.Commandfc == "Edit")
                                                                {
                                                                    <button class="edit" title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit"></button>
                                                                }
                                                                else
                                                                {
                                                                    <button class="edit" title="@Resource.Edit" type="submit" id="btn_edit" name="Command" value="Edit"></button>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                <button class="edit" title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit"></button>
                                                            }

                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105117008")
                                                    {
                                                        if (Model.create_id == Model.UserId.ToString() && ViewBag.DocumentCode == "A" && Model.ForAmmendendBtn == "Y")
                                                        {
                                                            if (Model.Commandfc == "Edit")
                                                            {
                                                                <li>
                                                                    <button class="amendment"
                                                                            title="@Resource.Amendment" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Workflow" name="Command" value="Amendment"></button>
                                                                </li>
                                                            }
                                                            else
                                                            {
                                                                <li>
                                                                    <button class="amendment"
                                                                            title="@Resource.Amendment" type="submit" id="Btn_Workflow" name="Command" value="Amendment"></button>
                                                                </li>
                                                            }
                                                        }
                                                        else
                                                        {
                                                            <li>
                                                                <button class="amendment"
                                                                        title="@Resource.Amendment" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Workflow" name="Command" value="Amendment"></button>
                                                            </li>
                                                        }
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105117004")
                                                    {
                                                        <li>
                                                            @if (ViewBag.DocumentCode == "D")
                                                            {
                                                                if (Model.Commandfc == "Edit")
                                                                {
                                                                    <button class="delete" title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                                }
                                                                else
                                                                {
                                                                    if (Model.Amendment == "Amendment" && Model.ForDeleteBtn == "N" || Model.Amendment == "")
                                                                    {
                                                                        <button class="delete" title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                                    }
                                                                    else
                                                                    {
                                                                        <button class="delete" title="@Resource.Delete" onclick="return functionConfirm(this)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                                    }

                                                                }
                                                            }
                                                            else
                                                            {
                                                                <button class="delete" title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                            }
                                                            @Html.HiddenFor(m => m.ActionCommand, new { @id = "HdActionCommand" })
                                                        </li>
                                                    }
                                                }
                                            }
                                            <li>
                                                @if (ViewBag.DocumentCode == "A" || ViewBag.DocumentCode == "D")
                                                {
                                                    //if (Session["Commandfc"].ToString() == "Edit")
                                                    if (Model.Commandfc == "Edit")
                                                    {
                                                        if (ViewBag.DocumentCode == "A")
                                                        {
                                                            <button class="save" title="@Resource.Save" disabled style="filter: grayscale(100%)" type="submit" id="btn_save" name="Command" value="Save"></button>
                                                        }
                                                        else
                                                        {
                                                            <button class="save" onclick="return CheckFormValidation()" title="@Resource.Save" type="submit" id="btn_save" name="Command" value="Save"></button>
                                                        }

                                                    }
                                                    else
                                                    {
                                                        <button class="save" title="@Resource.Save" disabled style="filter: grayscale(100%)" type="submit" id="btn_save" name="Command" value="Save"></button>
                                                    }
                                                }
                                                else
                                                {
                                                    <button class="save" title="@Resource.Save" disabled style="filter: grayscale(100%)" type="submit" id="btn_save" name="Command" value="Save"></button>
                                                }
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>

                                                    @if (ViewBag.DocumentCode == "D" || ViewBag.DocumentCode == "F")
                                                    {
                                                        if (ViewBag.ForwardEnbl == "Y")
                                                        {/*start Add by Hina on 19-02-2024 to chk Financial year exist or not*/
                                                            //if (ViewBag.Message == "Financial Year not Exist")
                                                            /*Above Commented and modify by Hina sharma on 09-05-2025 to check Existing with previous year transaction*/

                                                            if (ViewBag.Message == "TransNotAllow")
                                                            {/*data-target="" value will be balnk in this case*/
                                                                <button class="forward"
                                                                        title="@Resource.Forward" type="button" id="btn_forward" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="" data-backdrop="static" data-keyboard="false" name="Command" value="Forward"></button>

                                                            }/*End to chk Financial year exist or not*/
                                                            else
                                                            {
                                                                <button class="forward"
                                                                        title="@Resource.Forward" type="button" id="btn_forward" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" name="Command" value="Forward"></button>

                                                            }/*commented by Hina on 19-02-2024 to chk Financial year exist or not*/
                                                            @*<button class="forward"
                                                                title="@Resource.Forward" type="submit" id="btn_forward" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" name="Command" value="Forward"></button>*@
                                                        }
                                                        else
                                                        {
                                                            <button class="forward"
                                                                    title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                        }
                                                    }
                                                    else
                                                    {
                                                        <button class="forward"
                                                                title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                    }

                                                </li>
                                            }

                                            <li>
                                                @if (ViewBag.DocumentCode == "D" || ViewBag.DocumentCode == "F")
                                                {
                                                    if (ViewBag.Approve == "Y")
                                                    {
                                                        if (ViewBag.AppLevel.Rows.Count > 0)
                                                        {/*start Add by Hina on 19-02-2024 to chk Financial year exist or not*/
                                                            //if (ViewBag.Message == "Financial Year not Exist")
                                                            /*Above Commented and modify by Hina sharma on 09-05-2025 to check Existing with previous year transaction*/

                                                            if (ViewBag.Message == "TransNotAllow")
                                                            {/*data-target="" value will be balnk in this case*/
                                                                <button class="approve"
                                                                        title="@Resource.Approve" type="button" id="btn_approve" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="" data-backdrop="static" data-keyboard="false" name="Command" value="Approve"></button>

                                                            }/*End to chk Financial year exist or not*/
                                                            else
                                                            {
                                                                <button class="approve"
                                                                        title="@Resource.Approve" type="button" id="btn_approve" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" name="Command" value="Approve"></button>

                                                            }/*commented by Hina on 19-02-2024 to chk Financial year exist or not*/
                                                            @*<button class="approve"
                                                                title="@Resource.Approve" type="submit" id="btn_approve" onclick="return ForwardBtnClick()" data-toggle="modal" data-target="#Forward_Pop" data-backdrop="static" data-keyboard="false" name="Command" value="Approve"></button>*@
                                                        }
                                                        else
                                                        {
                                                            if (Model.Commandfc == "Edit")
                                                            {
                                                                <button class="approve"
                                                                        title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" onclick="return CheckFormValidation()" id="btn_approve" name="Command" value="Approve"></button>
                                                            }
                                                            else
                                                            {
                                                                <button class="approve"
                                                                        title="@Resource.Approve" type="submit" onclick="return CheckFormValidation()" id="btn_approve" name="Command" value="Approve"></button>
                                                            }

                                                        }
                                                    }
                                                    else
                                                    {
                                                        <button class="approve"
                                                                title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                                    }
                                                }
                                                else
                                                {
                                                    <button class="approve"
                                                            title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                                }

                                                @*@if (ViewBag.DocumentCode == "A" || ViewBag.DocumentCode == "C" || Session["Commandfc"].ToString() == "Edit")
                                                    {
                                                        <button class="approve" title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                                    }
                                                    else
                                                    {
                                                        <button class="approve" title="@Resource.Approve" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                                    }*@
                                                @*}*@
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="workflow" title="@Resource.Workflow"
                                                            type="submit" id="btn_workflow" onclick="return ForwardHistoryBtnClick();" data-toggle="modal" data-target="#WorkflowInformation" data-backdrop="static" data-keyboard="false" name="Command" value="Workflow"></button>
                                                </li>
                                            }
                                            @if (Model.Commandfc == "Edit")
                                            {
                                                if (ViewBag.DocumentCode == "A")
                                                {
                                                    <li>
                                                        <button class="refresh" title="@Resource.Refresh" disabled style="filter: grayscale(100%)" type="submit" id="btn_refresh" name="Command" value="Refresh"></button>
                                                    </li>
                                                }
                                                else
                                                {
                                                    <li>
                                                        <button class="refresh" title="@Resource.Refresh" type="submit" id="btn_refresh" name="Command" value="Refresh"></button>
                                                    </li>
                                                }

                                            }
                                            else
                                            {
                                                <li>
                                                    <button class="refresh" title="@Resource.Refresh" disabled style="filter: grayscale(100%)" type="submit" id="btn_refresh" name="Command" value="Refresh"></button>
                                                </li>
                                            }

                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105117005")
                                                    {
                                                        <li>
                                                            @if (ViewBag.DocumentCode == "A")
                                                            {
                                                                <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                                            }
                                                            else
                                                            {
                                                                <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                                            }
                                                        </li>
                                                    }
                                                    @*if (Row["feature_id"].ToString() == "105103125009" || Row["feature_id"].ToString() == "105103145110009")
                                                        {
                                                            if (ViewBag.DocumentCode != "D" && ViewBag.DocumentCode != "F" && ViewBag.DocumentCode != "C" && ViewBag.DocumentCode != "" && ViewBag.DocumentCode != null)
                                                            {
                                                                <li>
                                                                    <button class="intimation"
                                                                            title="@Resource.intimation" type="submit" id="btn_intimation" name="Command" value="intimation" data-toggle="modal" data-target="#intimation" data-backdrop="static" data-keyboard="false"></button>
                                                                </li>
                                                            }
                                                            else
                                                            {
                                                                <li>
                                                                    <button class="intimation"
                                                                            title="@Resource.intimation" type="submit" id="btn_intimation" name="Command" disabled style="filter: grayscale(100%)" value="intimation" data-toggle="modal" data-target="#intimation" data-backdrop="static" data-keyboard="false"></button>
                                                                </li>
                                                            }
                                                        }*@
                                                }
                                            }
                                            <li>
                                                <button class="email_tool" title="@Resource.Email" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Mail" name="Command" value="Mail"></button>
                                            </li>
                                            <li>
                                                <button class="message_tool" title="@Resource.Message" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Message" name="Command" value="Message"></button>
                                            </li>
                                            @if (Model.Commandfc == "Edit")
                                            {
                                                if (ViewBag.DocumentCode == "A")
                                                {
                                                    <li>
                                                        <button class="back" title="@Resource.Back" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                                    </li>
                                                }
                                                else
                                                {
                                                    <li>
                                                        <button class="back" title="@Resource.Back" disabled style="filter: grayscale(100%)" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                                    </li>
                                                }

                                            }
                                            else
                                            {
                                                <li>
                                                    <button class="back" title="@Resource.Back" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                                </li>
                                            }
                                        </ul>
                                        break;
                                    case "BtnRefresh":
                                        <ul>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105117001")
                                                    {
                                                        <li>
                                                            <button class="add" title="@Resource.AddNew" type="submit" id="btn_add" name="Command" value="AddNew"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105117002")
                                                    {
                                                        <li>
                                                            <button class="edit" title="@Resource.Edit" disabled style="filter: grayscale(100%)" type="submit" id="btn_edit" name="Command" value="Edit"></button>
                                                        </li>
                                                        @*<li>
                                                                <button class="amendment"
                                                                        title="@Resource.Amendment" disabled type="submit" id="Btn_Workflow" name="Command" value="Amendment"></button>
                                                            </li>*@
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105117008")
                                                    {
                                                        <li>
                                                            <button class="amendment"
                                                                    title="@Resource.Amendment" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Workflow" name="Command" value="Amendment"></button>
                                                        </li>
                                                    }
                                                    if (Row["feature_id"].ToString() == "105105117004")
                                                    {
                                                        <li>
                                                            <button class="delete" title="@Resource.Delete" disabled style="filter: grayscale(100%)" type="submit" id="btn_del" name="Command" value="Delete"></button>
                                                        </li>
                                                        @Html.HiddenFor(m => m.ActionCommand, new { @id = "HdActionCommand" })
                                                    }
                                                }
                                            }
                                            <li>
                                                <button class="save" title="@Resource.Save" disabled style="filter: grayscale(100%)" type="submit" id="btn_save" name="Command" value="Save"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="forward" title="@Resource.Forward" disabled style="filter: grayscale(100%)" type="submit" id="btn_forward" name="Command" value="Forward"></button>
                                                </li>
                                            }
                                            <li>
                                                <button class="approve" title="@Resource.Approve" disabled style="filter: grayscale(100%)" type="submit" id="btn_approve" name="Command" value="Approve"></button>
                                            </li>
                                            @if (ViewBag.AppLevel.Rows.Count > 0)
                                            {
                                                <li>
                                                    <button class="workflow" title="@Resource.Workflow"
                                                            type="submit" id="btn_workflow" onclick="return ForwardHistoryBtnClick();" data-toggle="modal" data-target="#WorkflowInformation" data-backdrop="static" data-keyboard="false" name="Command" value="Workflow"></button>
                                                </li>
                                            }

                                            <li>
                                                <button class="refresh" title="@Resource.Refresh" disabled style="filter: grayscale(100%)" type="submit" id="btn_refresh" name="Command" value="Refresh"></button>
                                            </li>
                                            @if (ViewBag.VBRoleList != null)
                                            {
                                                foreach (System.Data.DataRow Row in ViewBag.VBRoleList.Rows)
                                                {
                                                    if (Row["feature_id"].ToString() == "105105117005")
                                                    {
                                                        <li>
                                                            <button class="print" title="@Resource.Print" @disablePrintbtn type="submit" id="btn_print" name="Command" value="Print"></button>
                                                        </li>
                                                    }
                                                    @*if (Row["feature_id"].ToString() == "105103125009" || Row["feature_id"].ToString() == "105103145110009")
                                                        {
                                                            if (ViewBag.DocumentCode != "D" && ViewBag.DocumentCode != "F" && ViewBag.DocumentCode != "C" && ViewBag.DocumentCode != "" && ViewBag.DocumentCode != null)
                                                            {
                                                                <li>
                                                                    <button class="intimation"
                                                                            title="@Resource.intimation" type="submit" id="btn_intimation" name="Command" value="intimation" data-toggle="modal" data-target="#intimation" data-backdrop="static" data-keyboard="false"></button>
                                                                </li>
                                                            }
                                                            else
                                                            {
                                                                <li>
                                                                    <button class="intimation"
                                                                            title="@Resource.intimation" type="submit" id="btn_intimation" name="Command" disabled style="filter: grayscale(100%)" value="intimation" data-toggle="modal" data-target="#intimation" data-backdrop="static" data-keyboard="false"></button>
                                                                </li>
                                                            }
                                                        }*@
                                                }
                                            }
                                            <li>
                                                <button class="email_tool" title="@Resource.Email" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Mail" name="Command" value="Mail"></button>
                                            </li>
                                            <li>
                                                <button class="message_tool" title="@Resource.Message" disabled style="filter: grayscale(100%)" type="submit" id="Btn_Message" name="Command" value="Message"></button>
                                            </li>
                                            <li>
                                                <button class="back" title="@Resource.Back" type="submit" id="btn_back" name="Command" value="BacktoList"></button>
                                            </li>
                                        </ul>
                                        break;
                                }
                            }
                        </div>
                        <div class="x_title pad_mar ">
                            <div class="col-md-12 col-sm-12 icon_tool ">
                                <div class="approved_by">
                                    <ul class="margin0 padding0">
                                        <li><span>@Resource.CreatedBy<br><b>@Html.DisplayFor(model => model.CreatedBy)</b></span></li>
                                        <li><span>@Resource.Createdon<br><b>@Html.DisplayFor(model => model.CreatedOn)</b></span></li>
                                        <li><span>@Resource.ApprovedBy<br><b>@Html.DisplayFor(model => model.ApprovedBy)</b></span></li>
                                        <li><span>@Resource.ApprovedOn<br><b>@Html.DisplayFor(model => model.ApprovedOn)</b></span></li>
                                        <li><span>@Resource.AmendedBy<br><b>@Html.DisplayFor(model => model.AmmendedBy)</b></span></li>
                                        <li><span>@Resource.AmendedOn<br><b>@Html.DisplayFor(model => model.AmmendedOn)</b></span></li>
                                        <li>
                                            <span>@Resource.Status<br><b>@Html.DisplayFor(model => model.Status)</b></span>
                                            @Html.HiddenFor(model => model.StatusCode, new { @id = "hd_Status" })
                                            @Html.HiddenFor(model => model.create_id, new { @id = "Create_ID" })
                                            <input hidden type="text" id="HdnsubitemFlag" value="" />
                                        </li>
                                    </ul>
                                </div>
                                @if ((Model.StatusCode == "D" || Model.StatusCode == "F" || string.IsNullOrEmpty(Model.StatusCode) == true))
                                {
                                    if (Disable)
                                    {
                                        <input id="DisableSubItem" value="Y" hidden />
                                    }
                                    else
                                    {
                                        if (Model.ddl_src_type == "D" || Model.ddl_src_type == "A" || string.IsNullOrEmpty(Model.ddl_src_type) == true)
                                        {
                                            <input id="DisableSubItem" value="N" hidden />
                                        }
                                        else
                                        {
                                            <input id="DisableSubItem" value="Y" hidden />
                                        }

                                    }

                                }
                                else if (Model.create_id == Model.UserId.ToString() && ViewBag.DocumentCode == "A" && Model.ForAmmendendBtn == "Y")
                                {
                                    if (Disable)
                                    {
                                        <input id="DisableSubItem" value="Y" hidden />
                                    }
                                    else
                                    {
                                        <input id="DisableSubItem" value="N" hidden />
                                    }
                                }
                                else
                                {
                                    <input id="DisableSubItem" value="Y" hidden />
                                }
                                @Html.HiddenFor(model => model.Amendment, new { @id = "Amendment" })
                                @Html.HiddenFor(model => model.Amend, new { @id = "Amend" })
                                @Html.HiddenFor(model => model.Commandfc, new { @id = "hdnCommand" })
                                @Html.HiddenFor(m => m.ListFilterData1, new { @id = "ListFilterData1", value = Model.ListFilterData1 })
                            </div>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-12 col-sm-12 ">
                <div class="x_panel mar_pad1 ">
                    <div class="x_content mar_pad1">
                        <article class="panel-group bs-accordion" id="accordion" role="tablist" aria-multiselectable="true">
                            <section class="panel panel-default">
                                <div class="panel-heading" role="tab" id="headingOne">
                                    <h4 class="panel-title"><a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne"> @Resource.MRPDetail<span class="glyphicon glyphicon-chevron-right pull-right" aria-hidden="true"></span> </a></h4>
                                </div>
                                <div id="collapseOne" class="panel-collapse in collapse show" role="tabpanel" aria-labelledby="headingOne" style="">
                                    <div class="row">
                                        <div class="panel-body col-md-12 col-sm-12 ">
                                            <div class="col-md-55 col-sm-12">
                                                <label class="col-form-label label-align">@Resource.MRPNumber</label>
                                                @Html.TextBoxFor(model => model.MRPNumber, new { @id = "txt_MRPNumber", @class = "form-control optional", @placeholder = @Resource.MRPNumber, autocomplete = "off", @readonly = "readonly" })
                                            </div>
                                            <div class="col-md-55 col-sm-12">
                                                <label class="col-form-label label-align">@Resource.MRPDate</label>
                                                @Html.TextBoxFor(model => model.MRPDate, new { @id = "txt_MRPDate", @name = "txt_MRPDate", @class = "form-control", @type = "date", @placeholder = @Resource.MRPDate, @readonly = "readonly" })
                                            </div>
                                            <div class="col-md-55 col-sm-12">
                                                <label class="col-form-label label-align">@Resource.Source </label>
                                                @if (Disable)
                                                {
                                                    @Html.DropDownListFor(model => model.ddl_src_type, new SelectList(Model.ddl_src_typeList, "id", "name"), new { @id = "ddl_src_type", @class = "form-control", disabled = "disabled" })
                                                }
                                                else
                                                {
                                                    //if (Session["Commandfc"].ToString() == "Add")
                                                    if (Model.Commandfc == "Add")
                                                    {
                                                        @Html.DropDownListFor(model => model.ddl_src_type, new SelectList(Model.ddl_src_typeList, "id", "name"), new { @class = "form-control", id = "ddl_src_type", onchange = "ddl_src_type_onchange()" })
                                                    }
                                                    else
                                                    {
                                                        @Html.DropDownListFor(model => model.ddl_src_type, new SelectList(Model.ddl_src_typeList, "id", "name"), new { @id = "ddl_src_type", @class = "form-control", disabled = "disabled" })
                                                    }
                                                }
                                                @Html.HiddenFor(model => model.ddlsrctype, new { @id = "hdn_ddl_src_type" })
                                                @Html.HiddenFor(model => model.ddl_srctype, new { @id = "hdnddl_src_type" })
                                            </div>
                                            <div class="col-md-55 col-sm-12">
                                                <label class="col-form-label label-align">@Resource.RequirementArea <span class="required">*</span></label>
                                                @if (Disable)
                                                {
                                                    @Html.DropDownListFor(model => model.req_area, new SelectList(Model._requirementAreaLists, "req_id", "req_val"), new { @class = "form-control", disabled = "disabled", id = "ddlRequiredArea" })
                                                    @Html.ValidationMessageFor(model => model.req_area, String.Empty, new { @style = "color:red;!important", @id = "vmRequiredArea" })
                                                    @Html.HiddenFor(model => model.req_area, new { @id = "hdRequiredArea" })

                                                }
                                                else
                                                {
                                                    //if (Session["Commandfc"].ToString() == "Add")
                                                    if (Model.Commandfc == "Add")
                                                    {
                                                        @Html.DropDownListFor(model => model.req_area, new SelectList(Model._requirementAreaLists, "req_id", "req_val"), new { @class = "form-control", onchange = "onChangeRequiredArea()", id = "ddlRequiredArea" })
                                                        @Html.ValidationMessageFor(model => model.req_area, String.Empty, new { @style = "color:red;!important", @id = "vmRequiredArea" })
                                                        @Html.HiddenFor(model => model.reqarea, new { @id = "hdRequiredArea" })
                                                    }
                                                    else
                                                    {
                                                        @Html.DropDownListFor(model => model.req_area, new SelectList(Model._requirementAreaLists, "req_id", "req_val"), new { @class = "form-control", disabled = "disabled", id = "ddlRequiredArea" })
                                                        @Html.ValidationMessageFor(model => model.req_area, String.Empty, new { @style = "color:red;!important", @id = "vmRequiredArea" })
                                                        @Html.HiddenFor(model => model.req_area, new { @id = "hdRequiredArea" })
                                                    }
                                                }
                                            </div>
                                            <div class="col-md-55 col-sm-12 margin15">
                                                <div class="cancelled">
                                                    <label>
                                                        @Resource.Cancelled
                                                        @*@if (ViewBag.DocumentCode == "A" && Session["Commandfc"].ToString() == "Edit")*@
                                                        @if (ViewBag.DocumentCode == "A" && Model.Commandfc == "Edit")
                                                        {
                                                            @Html.CheckBoxFor(model => model.CancelFlag, new { @class = "js-switch", onclick = "OnClickCancelFlag()" })
                                                        }
                                                        else
                                                        {
                                                            @Html.CheckBoxFor(model => model.CancelFlag, new { @class = "js-switch", @disabled = "disabled" })
                                                        }

                                                    </label>
                                                </div>
                                            </div>
                                            <div class="clear"></div>
                                            @*<div id="divdocsection">*@
                                            @{ var pp_hide = (Model.ddl_src_type == "P") ? "" : "Hidden";}
                                            <div class="col-md-55 col-sm-12" @pp_hide id="div_ppNo">
                                                <label class="col-form-label label-align">@Resource.ProductionPlan @Resource.Number</label>
                                                @if (Disable)
                                                {
                                                    @Html.DropDownListFor(model => model.PP_Number, new SelectList(Model.PP_NoLists, "PP_id", "PP_val"), new { @class = "form-control", @id = "PP_Number", @name = "PP_Number", @onchange = "OnChangePP_Number()", @disabled = "disabled" })
                                                }
                                                else
                                                {
                                                    //if (Session["Commandfc"].ToString() == "Add")
                                                    if (Model.Commandfc == "Add")
                                                    {
                                                        @Html.DropDownListFor(model => model.PP_Number, new SelectList(Model.PP_NoLists, "PP_id", "PP_val"), new { @class = "form-control", @id = "PP_Number", @name = "PP_Number", @onchange = "OnChangePP_Number()" })
                                                    }
                                                    else
                                                    {
                                                        @Html.DropDownListFor(model => model.PP_Number, new SelectList(Model.PP_NoLists, "PP_id", "PP_val"), new { @class = "form-control", @id = "PP_Number", @name = "PP_Number", @onchange = "OnChangePP_Number()", @disabled = "disabled" })
                                                    }
                                                }
                                                @Html.HiddenFor(m => m.PP_Number, new { @id = "HdnPP_Number" })
                                                @Html.ValidationMessageFor(model => model.PP_Number, String.Empty, new { @style = "color:red;!important", @id = "vm_PP_Number" })
                                            </div>
                                            <div class="col-md-55 col-sm-12" @pp_hide id="div_ppDt">
                                                <label class="col-form-label label-align">@Resource.ProductionPlan @Resource.Date</label>
                                                @Html.TextBoxFor(m => m.PP_Date, new { @class = "form-control", @id = "PP_Date", @name = "ProductionPlanDate", @readonly = "readonly", @type = "date" })
                                                @*<input class="form-control" id="PP_Date" name="SourceDocumentDate" placeholder="@Resource.SourceDocumentDate" readonly="readonly" type="date" value="">*@
                                            </div>
                                            @{
                                                var hidefy = "";
                                                if (Model.ddl_src_type == "D" || Model.ddl_src_type == "F")
                                                {
                                                    hidefy = "";
                                                }
                                                else if ((Model.ddl_financial_year == null || Model.ddl_financial_year == "0") && (Model.MRPNumber != null || Model.docmodified == "DocModify"))
                                                {
                                                    hidefy = "hidden";
                                                }
                                                var HideAdHoc = "";
                                                if ((Model.ddl_src_type != "A" && Model.src_doc_type != "A"))
                                                {
                                                    HideAdHoc = "none";
                                                }


                                            }


                                            <div class="col-md-55 col-sm-12" id="div_ppfy" @hidefy>
                                                <label class="col-form-label label-align">
                                                    @Resource.FY <span class="required">*</span>
                                                </label>
                                                @if (Disable)
                                                {
                                                    @Html.DropDownListFor(model => model.ddl_financial_year, new SelectList(Model.ddl_financial_yearList, "id", "name"), new { @id = "ddl_financial_year", @class = "form-control", @disabled = "disabled" })
                                                }
                                                else
                                                {
                                                    //if (Session["Commandfc"].ToString() == "Add")
                                                    if (Model.Commandfc == "Add")
                                                    {
                                                        @Html.DropDownListFor(model => model.ddl_financial_year, new SelectList(Model.ddl_financial_yearList, "id", "name"), new { @class = "form-control", id = "ddl_financial_year", onchange = "ddl_financial_year_onchange()" })
                                                    }
                                                    else
                                                    {
                                                        @Html.DropDownListFor(model => model.ddl_financial_year, new SelectList(Model.ddl_financial_yearList, "id", "name"), new { @id = "ddl_financial_year", @class = "form-control", disabled = "disabled" })
                                                    }
                                                }
                                                @Html.ValidationMessageFor(model => model.ddl_financial_year, String.Empty, new { @style = "color:red;!important", @id = "vm_ddl_financial_year" })
                                                @Html.HiddenFor(model => model.ddlfinancialyear, new { @id = "hdn_ddl_financial_year" })
                                            </div>
                                            <div class="col-md-55 col-sm-12" id="div_ppPeriod" @hidefy>
                                                <label class="col-form-label label-align">
                                                    @Resource.Period <span class="required">*</span>
                                                </label>
                                                @if (Disable)
                                                {
                                                    @Html.DropDownListFor(model => model.ddl_period, new SelectList(Model.ddl_periodList, "id", "name"), new { @id = "ddl_period", @class = "form-control", disabled = "disabled" })
                                                }
                                                else
                                                {
                                                    //if (Session["Commandfc"].ToString() == "Add")
                                                    if (Model.Commandfc == "Add")
                                                    {
                                                        @Html.DropDownListFor(model => model.ddl_period, new SelectList(Model.ddl_periodList, "id", "name"), new { @class = "form-control", id = "ddl_period", onchange = "ddl_period_onchange()" })
                                                    }
                                                    else
                                                    {
                                                        @Html.DropDownListFor(model => model.ddl_period, new SelectList(Model.ddl_periodList, "id", "name"), new { @id = "ddl_period", @class = "form-control", @disabled = "disabled" })
                                                    }
                                                }
                                                @Html.ValidationMessageFor(model => model.ddl_period, String.Empty, new { @style = "color:red;!important", @id = "vm_ddl_period" })
                                                @Html.HiddenFor(model => model.ddlperiod, new { @id = "hdn_ddl_period" })
                                                @Html.HiddenFor(model => model.hdnddl_period, new { @id = "hd_ddl_period" })
                                            </div>
                                            <div class="col-md-4 col-sm-12" style="display:@HideAdHoc" id="AdHocdiv_ppDtRg">
                                                <label class="col-form-label label-align col-md-12 col-sm-12 no-padding">@Resource.DateRange </label>
                                                <div class="col-md-6 col-sm-12 no-padding">
                                                    @if (Disable || Model.ddl_src_type == "P")
                                                    {
                                                        @Html.TextBoxFor(model => model.AdHocFromDate, new { @id = "AH_txtFromDate", @class = "form-control", @onchange = "OnChangeAHFromdate()", @type = "date", @min = System.DateTime.Now.ToString("yyyy-MM-dd"), @placeholder = @Resource.FromDate, autocomplete = "off", @disabled = "disabled" })
                                                    }
                                                    else
                                                    {
                                                        @Html.TextBoxFor(model => model.AdHocFromDate, new { @id = "AH_txtFromDate", @class = "form-control", @onchange = "OnChangeAHFromdate()", @type = "date", @min = System.DateTime.Now.ToString("yyyy-MM-dd"), @placeholder = @Resource.FromDate, autocomplete = "off" })
                                                    }
                                                    @Html.HiddenFor(model => model.src_doc_type, new { @id = "src_doc_type" })
                                                    @Html.ValidationMessageFor(model => model.AdHocFromDate, String.Empty, new { @style = "color:red;!important", @id = "vm_AH_txtFromDate" })
                                                    @*@Html.HiddenFor(model => model.hfFromDate, new { @id = "hdn_FromDate" })*@
                                                </div>
                                                <div class="col-md-1 col-sm-12 no-padding" style="text-align:center;"> @Resource.to</div>
                                                <div class="col-md-5 col-sm-12 no-padding">
                                                    @if (Disable || Model.ddl_src_type == "P")
                                                    {
                                                        @Html.TextBoxFor(model => model.AdHocToDate, new { @id = "AH_txtToDate", @class = "form-control", @onchange = "OnChangeAHToDate()", @type = "date", @min = System.DateTime.Now.ToString("yyyy-MM-dd"), @onclick = "OnClickAdHocToDate()", @placeholder = @Resource.ToDate, autocomplete = "off", @disabled = "disabled" })
                                                    }
                                                    else
                                                    {
                                                        @Html.TextBoxFor(model => model.AdHocToDate, new { @id = "AH_txtToDate", @class = "form-control", @onchange = "OnChangeAHToDate()", @type = "date", @min = System.DateTime.Now.ToString("yyyy-MM-dd"), @onclick = "OnClickAdHocToDate()", @placeholder = @Resource.ToDate, autocomplete = "off" })
                                                    }
                                                    @Html.ValidationMessageFor(model => model.AdHocToDate, String.Empty, new { @style = "color:red;!important", @id = "vm_AH_txtToDate" })
                                                    @*@Html.HiddenFor(model => model.hfToDate, new { @id = "hdn_ToDate" })*@
                                                </div>

                                            </div>
                                            <div class="col-md-55 col-sm-12 no-padding" id="P_div_ppDtRg" style="display:@((Model.ddl_src_type == "A"||hidefy=="hidden")?"none":"")">
                                                <div class="col-md-10 col-sm-12" id="div_ppDtRg" @hidefy>
                                                    <label class="col-form-label label-align col-md-12 col-sm-12 no-padding">@Resource.DateRange </label>
                                                    <div class="col-md-6 col-sm-12 no-padding">
                                                        @Html.TextBoxFor(model => model.txtFromDate, new { @id = "txtFromDate", @class = "form-control", @placeholder = @Resource.FromDate, autocomplete = "off", @readonly = "readonly" })
                                                        @Html.HiddenFor(model => model.hfFromDate, new { @id = "hdn_FromDate" })
                                                    </div>
                                                    <div class="col-md-1 col-sm-12 no-padding" style="text-align:center;"> @Resource.to</div>
                                                    <div class="col-md-5 col-sm-12 no-padding">
                                                        @Html.TextBoxFor(model => model.txtToDate, new { @id = "txtToDate", @class = "form-control", @placeholder = @Resource.ToDate, autocomplete = "off", @readonly = "readonly" })
                                                        @Html.HiddenFor(model => model.hfToDate, new { @id = "hdn_ToDate" })
                                                    </div>

                                                </div>
                                                <div class="col-md-2 col-sm-12 margin25">
                                                    <a href="#">
                                                        @if (Disable || ViewBag.DocumentCode == "A" || Model.MRPNumber != null)
                                                        {
                                                            @*<i class="fa fa-plus" style="display:none" id="BtnAttribute" title="@Resource.PopulateDetail"></i>*@
                                                        }
                                                        else
                                                        {
                                                            <div id="AddBtnIconMRP" class="plus_icon1" style="display: block;">
                                                                <i class="fa fa-plus" id="BtnAttribute" onclick="AddPRoductionPlanItemDetail()" title="@Resource.PopulateDetail"></i>
                                                            </div>
                                                        }
                                                    </a>
                                                </div>
                                            </div>

                                            @*</div>*@
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section class="panel panel-default">
                                <div class="panel-heading" role="tab" id="headingTwo">
                                    <h4 class="panel-title"><a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo"> @Resource.ProductDetail <span class="glyphicon glyphicon-chevron-right pull-right" aria-hidden="true"></span> </a></h4>
                                </div>
                                <div id="collapseTwo" class="panel-collapse" role="tabpanel" aria-labelledby="headingTwo">
                                    <div class="card-box table-responsive dy_table">
                                        <div class="col-md-12">
                                            <div class="price_item_detail">
                                                <div class="tableFixHead height30VH">
                                                    <h2 class="col-md-9 col-sm-12 no-padding mt-3">&nbsp;</h2>
                                                    <div class="col-md-3 col-sm-12 no-padding num_right mt-3 mb-2"><label class="label pt-1 col-md-4 col-sm-12 num_right pr-0" for="SearchItmDetailsTbl">@Resource.Search @Resource.Item : </label><input type="text" class="form-control col-md-7 col-sm-12" id="SearchItmDetailsTbl" onkeyup="FilterItemDetail(event)" /> </div>

                                                    @Html.HiddenFor(model => model.ProductDetail, new { @id = "HDProductDetails" })
                                                    <table id="ProductItemDetailsTbl" class="table table-bordered margin10 width1200 itmfrz">
                                                        <thead disabled="disabled">
                                                            <tr class="headings">
                                                                <th width="1%"> &nbsp;</th>
                                                                <th width="1%">@Resource.SrNo</th>
                                                                <th width="25%" class="itmStick">
                                                                    <div class="col-md-3 col-sm-12"> </div>
                                                                    <div class="col-md-6 col-sm-12">
                                                                        <span class="item_add"> @Resource.Product <span class="required">*</span> <br />  @Resource.Name </span>
                                                                        @if (Disable || (Model.ddl_src_type == "P" || Model.ddl_src_type == "F"))
                                                                        {
                                                                            <a href="#">
                                                                                <div class="plus_icon1" style="display:none;">
                                                                                    <i class="fa fa-plus" id="BtnAddItem" title="Add New"></i>
                                                                                </div>
                                                                            </a>
                                                                        }
                                                                        else
                                                                        {
                                                                            if (ViewBag.DocumentCode == "D" || ViewBag.DocumentCode == "" || ViewBag.DocumentCode == null)
                                                                            {
                                                                                <a href="#">
                                                                                    <div class="plus_icon1">
                                                                                        <i class="fa fa-plus" id="BtnAddItem" onclick="AddNewProduct_OnClick()" title="Add New"></i>
                                                                                    </div>
                                                                                </a>
                                                                            }
                                                                            else
                                                                            {
                                                                                <a href="#">
                                                                                    <div class="plus_icon1" style="display:none;">
                                                                                        <i class="fa fa-plus" id="BtnAddItem" title="Add New"></i>
                                                                                    </div>
                                                                                </a>
                                                                            }
                                                                        }
                                                                    </div>
                                                                    <div class="col-md-3 col-sm-12"> </div>
                                                                </th>
                                                                <th width="5%" title="@Resource.UnitOfMeasure"> @Resource.UOM</th>
                                                                @if (Model.ddl_src_type == "F")
                                                                {
                                                                    <th width="12%" id="thforecast">@Resource.Forecast <br />  @Resource.Quantity</th>
                                                                }
                                                                else
                                                                {
                                                                    <th width="12%" id="thforecast" style="display:none">@Resource.Forecast <br />  @Resource.Quantity</th>
                                                                }

                                                                <th width="12%">@Resource.Available <br />  @Resource.Stock</th>
                                                                <th width="12%">@Resource.Planned <span class="required">*</span><br />  @Resource.Quantity</th>
                                                                @if (Model.ddl_src_type != "P")
                                                                {
                                                                    <th width="12%" id="thproduced">@Resource.Produced <br />  @Resource.Quantity</th>
                                                                }
                                                                <th width="20%">@Resource.remarks</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @if (ViewBag.ProductDetails != null)
                                                            {
                                                                var rowIdx = 0;
                                                                var subitmDisable = "";
                                                                var bomDisable = "";
                                                                foreach (System.Data.DataRow Row in ViewBag.ProductDetails.Rows)
                                                                {
                                                                    rowIdx++;
                                                                    if (Row["sub_item"].ToString() != "Y")
                                                                    {
                                                                        subitmDisable = "disabled";
                                                                    }
                                                                    else
                                                                    {
                                                                        subitmDisable = "";
                                                                    }
                                                                    if (Row["BOM_Avl"].ToString() == "N")
                                                                    {
                                                                        bomDisable = "disabled";
                                                                    }
                                                                    else
                                                                    {
                                                                        bomDisable = "";
                                                                    }
                                                                    var ProductName_id = "ProductName" + @rowIdx;

                                                                    <tr id="@rowIdx">
                                                                        <td class="red center">
                                                                            @if (Disable || (Model.ddl_src_type == "P" || Model.ddl_src_type == "F"))
                                                                            {
                                                                                <i class="fa fa-trash" style="filter:grayscale(100%)" aria-hidden="true" title="@Resource.Delete"></i>
                                                                            }
                                                                            else
                                                                            {
                                                                                if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                                {
                                                                                    <i class="fa fa-trash" style="filter:grayscale(100%)" aria-hidden="true" title="@Resource.Delete"></i>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <i class="deleteIcon fa fa-trash" aria-hidden="true" title="@Resource.Delete"></i>
                                                                                }
                                                                            }
                                                                        </td>
                                                                        <td class="sr_padding"><span id="sno">@rowIdx</span><input type="hidden" id="hfsno" value="@rowIdx" /></td>
                                                                        <td class="itmStick">
                                                                            <div class="col-sm-10 lpo_form no-padding">
                                                                                @if (Disable || (Model.ddl_src_type == "P" || Model.ddl_src_type == "F"))
                                                                                {
                                                                                    <select class="form-control" id="@ProductName_id" name="ProductName" disabled>
                                                                                        <option value="@Row["item_id"].ToString()">@Row["item_name"].ToString()</option>
                                                                                    </select>
                                                                                }
                                                                                else
                                                                                {
                                                                                    if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                                    {
                                                                                        <select class="form-control" id="@ProductName_id" name="ProductName" disabled>
                                                                                            <option value="@Row["item_id"].ToString()">@Row["item_name"].ToString()</option>
                                                                                        </select>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <select class="form-control" id="@ProductName_id" name="ProductName" onchange="OnChangeProductName(event)">
                                                                                            <option value="@Row["item_id"].ToString()">@Row["item_name"].ToString()</option>
                                                                                        </select>
                                                                                    }
                                                                                }
                                                                                <span id="productnameError" class="error-message is-visible"></span>
                                                                                <input type="hidden" id="hfproductID" value="@Row["item_id"].ToString()" />
                                                                                <input type="hidden" id="hfproductName" value="@Row["item_name"].ToString()" />
                                                                                <input type="hidden" id="ItemtypeFlag" value="@Row["i_Pur"].ToString()" />
                                                                            </div>
                                                                            <div class="col-sm-1 i_Icon">
                                                                                <button type="button" id="ItmInfoBtnIcon" class="calculator" onclick="OnClickIconBtn(event);" data-toggle="modal" data-target="#ItemInfo" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.ItemInformation"> @*<i class="fa fa-info" aria-hidden="true" title="@Resource.ItemInformation"></i>*@ </button>
                                                                            </div>
                                                                            <div class="col-sm-1 i_Icon">
                                                                                <button type="button" id="BillOfMaterial" @bomDisable class="calculator no-padding subItmImg" onclick="OnClickIconBtnBOMDetail(event);" data-toggle="modal" data-target="#BillOfMaterial" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/BillOfMaterial.png" alt="" title="@Resource.BillOfMaterial"></button>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <input id="UOM" class="form-control" type="text" name="UOM" value="@Row["uom_name"].ToString()" placeholder="@Resource.UOM" disabled><input id="UOMID" type="hidden" value="@Row["uom_id"].ToString()" />
                                                                        </td>
                                                                        @if (Model.ddl_src_type == "F")
                                                                        {
                                                                            <td id="tdforecastqty"><input id="ForecastQuantity" class="form-control num_right" type="text" name="ForecastQuantity" value="@Row["forecast_qty"].ToString()" placeholder="@Resource.ForecastQuantity" disabled></td>
                                                                        }
                                                                        else
                                                                        {
                                                                            <td id="tdforecastqty" style="display:none"><input id="ForecastQuantity" class="form-control num_right" type="text" value="" name="ForecastQuantity" placeholder="@Resource.ForecastQuantity" disabled></td>
                                                                        }

                                                                        <td>
                                                                            @if (hideStockBtn == "hidden")
                                                                            {
                                                                                <div class="col-sm-10 no-padding"><input id="AvailableStockInBase" class="form-control num_right" type="text" value="@Row["AvlStock"].ToString()" name="AvailableStock" placeholder="0000.00" disabled></div>
                                                                                <div class="col-sm-2 i_Icon"><button type="button" id="SubItemAvlStockBtn" @subitmDisable class="calculator subItmImg" onclick="return GetSubItemAvlStock(event)" data-toggle="modal" data-target="#SubItemStock" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.StockDetail"></button></div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="col-sm-8 no-padding"><input id="AvailableStockInBase" class="form-control num_right" type="text" value="@Row["AvlStock"].ToString()" name="AvailableStock" placeholder="0000.00" disabled></div>
                                                                                <div class="col-sm-2 i_Icon no-padding"><button type="button" id="StockDetail" class="calculator" onclick="ItemStockWareHouseWise(event,'P')" data-toggle="modal" data-target="#StockDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.StockDetail"> @*<i class="fa fa-info" aria-hidden="true" title="@Resource.StockDetail"></i>*@ </button></div>
                                                                                <div class="col-sm-2 i_Icon"><button type="button" id="SubItemAvlStockBtn" @subitmDisable class="calculator subItmImg" onclick="return GetSubItemAvlStock(event)" data-toggle="modal" data-target="#SubItemStock" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.StockDetail"></button></div>
                                                                            }


                                                                        </td>
                                                                        <td>
                                                                            <div class="col-sm-8 lpo_form no-padding">
                                                                                @if (Disable || (Model.ddl_src_type == "P" || Model.ddl_src_type == "F"))
                                                                                {
                                                                                    <input id="PlannedQuantity" class="form-control num_right" autocomplete="off" value="@Row["plan_qty"].ToString()" type="text" name="PlannedQuantity" placeholder="0000.00" disabled>
                                                                                }
                                                                                else
                                                                                {
                                                                                    if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                                    {
                                                                                        <input id="PlannedQuantity" class="form-control num_right" autocomplete="off" value="@Row["plan_qty"].ToString()" type="text" name="PlannedQuantity" placeholder="0000.00" disabled>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input id="PlannedQuantity" class="form-control num_right" autocomplete="off" value="@Row["plan_qty"].ToString()" onkeypress="return OnKeyPressPlannedQty(this,event);" onchange="OnChangePlannedQty(this,event)" type="text" name="PlannedQuantity" placeholder="0000.00">
                                                                                    }
                                                                                }
                                                                                <span id="PlannedQtyError" class="error-message is-visible"></span>
                                                                            </div>
                                                                            <input hidden id="sub_item" value="@Row["sub_item"]" />
                                                                            <div class="col-sm-2 i_Icon">
                                                                                <button type="button" id="PlannedQuantityDetail" class="calculator" onclick="OnClickPlannedQtyIconBtn(event);" data-toggle="modal" data-target="#MaterialDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.MaterialDetail"> @*<i class="fa fa-info" aria-hidden="true" title="@Resource.MaterialDetail"></i>*@ </button>
                                                                            </div>
                                                                            <div class="col-sm-2 i_Icon" id="div_SubItemPlanQty" style="padding:0px; ">
                                                                                <button type="button" id="SubItemPlanQty" @subitmDisable class="calculator subItmImg" onclick="return SubItemDetailsPopUp('Quantity',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                            </div>
                                                                            <input hidden type="text" id="HdnFGsubitemFlag" value="Quantity" />
                                                                        </td>
                                                                        @if (Model.ddl_src_type != "P")
                                                                        {
                                                                            <td>
                                                                                <div class="col-sm-8 lpo_form no-padding">
                                                                                    <input id="ProducedQuantity" class="form-control num_right" autocomplete="off" value="@Row["prod_qty"].ToString()" type="text" name="PlannedQuantity" placeholder="0000.00" disabled>

                                                                                </div>
                                                                                <div class="col-sm-2 i_Icon">
                                                                                    <button type="button" id="ProducedQuantityDetail" class="calculator" onclick="OnClickProducedQtyIconBtn(event,'FG');" data-toggle="modal" data-target="#ProducedQuantityDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.ProductionDetail"> @*<i class="fa fa-info" aria-hidden="true" title="@Resource.MaterialDetail"></i>*@ </button>
                                                                                </div>
                                                                                @if (@Row["sub_item"].ToString() == "Y")
                                                                                {
                                                                                    <div class="col-sm-2 i_Icon" id="div_SubItemProdQty" style="padding:0px; ">
                                                                                        <button type="button" id="SubItemProdQty" class="calculator subItmImg" onclick="return SubItemDetailsPopUp('ProduceQty',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                                    </div>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <div class="col-sm-2 i_Icon" id="div_SubItemProdQty" style="padding:0px; ">
                                                                                        <button type="button" id="SubItemProdQty" disabled class="calculator subItmImg" onclick="return SubItemDetailsPopUp('ProduceQty',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                                    </div>
                                                                                }
                                                                            </td>
                                                                        }
                                                                        <td>
                                                                            @if (Disable)
                                                                            {
                                                                                <textarea id="remarks" class="form-control remarksmessage" name="remarks" maxlength="100" value="" placeholder="@Resource.remarks" readonly>@Row["remarks"].ToString()</textarea>
                                                                            }
                                                                            else
                                                                            {
                                                                                if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                                {
                                                                                    <textarea id="remarks" class="form-control remarksmessage" name="remarks" maxlength="100" value="" placeholder="@Resource.remarks" readonly>@Row["remarks"].ToString()</textarea>
                                                                                }
                                                                                else
                                                                                {
                                                                                    <textarea id="remarks" class="form-control remarksmessage" name="remarks" maxlength="100" value="" placeholder="@Resource.remarks">@Row["remarks"].ToString()</textarea>
                                                                                }
                                                                            }
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            }
                                                            else
                                                            {


                                                                <tr>
                                                                    <td class="red center">
                                                                        @* Added if Else Condition Added by Suraj Maurya on 17-02-2025 *@
                                                                        @if (Disable)
                                                                        {
                                                                            <i class="fa fa-trash" style="filter:grayscale(100%)" aria-hidden="true" title="@Resource.Delete"></i>
                                                                        }
                                                                        else
                                                                        {
                                                                            <i class="fa fa-trash deleteIcon" aria-hidden="true" title="@Resource.Delete"></i>
                                                                        }

                                                                    </td>
                                                                    <td class="sr_padding"><span id="sno">1</span><input type="hidden" id="hfsno" value="1" /></td>
                                                                    <td>
                                                                        <div class="col-sm-10 lpo_form no-padding">
                                                                            @if (Disable)
                                                                            {
                                                                                <select class="form-control" id="ProductName1" disabled name="ProductName"></select>
                                                                            }
                                                                            else
                                                                            {
                                                                                <select class="form-control" id="ProductName1" name="ProductName" onchange="OnChangeProductName(event)"></select>
                                                                            }
                                                                            <span id="productnameError" class="error-message is-visible"></span>
                                                                            <input type="hidden" id="hfproductID" />
                                                                            <input type="hidden" id="ItemtypeFlag" value="" />

                                                                        </div>
                                                                        <div class="col-sm-1 i_Icon">
                                                                            <button type="button" id="ItmInfoBtnIcon" class="calculator" onclick="OnClickIconBtn(event);" data-toggle="modal" data-target="#ItemInfo" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.ItemInformation"> @*<i class="fa fa-info" aria-hidden="true" title="@Resource.ItemInformation"></i>*@ </button>
                                                                        </div>
                                                                        <div class="col-sm-1 i_Icon">
                                                                            <button type="button" id="BillOfMaterial" class="calculator no-padding" onclick="OnClickIconBtnBOMDetail(event);" data-toggle="modal" data-target="#BillOfMaterial" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/BillOfMaterial.png" alt="" title="@Resource.BillOfMaterial"></button>
                                                                        </div>
                                                                    </td>
                                                                    <td><input id="UOM" class="form-control" type="text" name="UOM" placeholder="@Resource.UOM" disabled><input id="UOMID" type="hidden" /></td>
                                                                    <td id="tdforecastqty" style="display:none"><input id="ForecastQuantity" class="form-control num_right" type="text" name="ForecastQuantity" placeholder="0000.00" disabled></td>
                                                                    <td>
                                                                        <div class="col-sm-8 no-padding"><input id="AvailableStockInBase" class="form-control num_right" type="text" name="AvailableStock" placeholder="0000.00" disabled></div>
                                                                        <div class="col-sm-2 i_Icon"><button type="button" id="StockDetail" class="calculator" onclick="ItemStockWareHouseWise(event,'P')" data-toggle="modal" data-target="#StockDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.StockDetail"> @*<i class="fa fa-info" aria-hidden="true" title="@Resource.StockDetail"></i>*@ </button></div>
                                                                        <div class="col-sm-2 i_Icon"><button type="button" id="SubItemAvlStockBtn" disabled class="calculator subItmImg" onclick="" data-toggle="modal" data-target="#SubItemStock" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.StockDetail"></button></div>
                                                                    </td>
                                                                    <td width="10%">
                                                                        <div class="col-sm-8 lpo_form no-padding" id=''>
                                                                            @if (Disable)
                                                                            {
                                                                                <input id="PlannedQuantity" class="form-control num_right" autocomplete="off" disabled type="text" name="PlannedQuantity" placeholder="0000.00">
                                                                            }
                                                                            else
                                                                            {
                                                                                <input id="PlannedQuantity" class="form-control num_right" autocomplete="off" onkeypress="return OnKeyPressPlannedQty(this,event);" onchange="OnChangePlannedQty(this,event)" type="text" name="PlannedQuantity" placeholder="0000.00">
                                                                            }
                                                                            <span id="PlannedQtyError" class="error-message is-visible"></span>
                                                                        </div>
                                                                        <input hidden id="sub_item" />
                                                                        <div class="col-sm-2 i_Icon">
                                                                            <button type="button" id="PlannedQuantityDetail" class="calculator" onclick="OnClickPlannedQtyIconBtn(event);" data-toggle="modal" data-target="#MaterialDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.MaterialDetail"> @*<i class="fa fa-info" aria-hidden="true" title="@Resource.MaterialDetail"></i>*@ </button>
                                                                        </div>
                                                                        <div class="col-sm-2 i_Icon" id="div_SubItemPlanQty" style="padding:0px; ">
                                                                            <button type="button" id="SubItemPlanQty" disabled class="calculator subItmImg" onclick="return SubItemDetailsPopUp('Quantity',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                        </div>
                                                                    </td>
                                                                    @if (Model.ddl_src_type != "P")
                                                                    {
                                                                        <td>
                                                                            <div class="col-sm-8 lpo_form no-padding">
                                                                                <input id="ProducedQuantity" class="form-control num_right" autocomplete="off" value="" type="text" name="PlannedQuantity" placeholder="0000.00" disabled>
                                                                            </div>
                                                                            <div class="col-sm-2 i_Icon">
                                                                                <button type="button" id="ProducedQuantityDetail" class="calculator" onclick="OnClickProducedQtyIconBtn(event,'FG');" data-toggle="modal" data-target="#ProducedQuantityDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.ProductionDetail">  </button>
                                                                            </div>
                                                                            <div class="col-sm-2 i_Icon" id="div_SubItemProdQty" style="padding:0px; ">
                                                                                <button type="button" id="SubItemProdQty" disabled class="calculator subItmImg" onclick="return SubItemDetailsPopUp('ProduceQty',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                            </div>

                                                                        </td>
                                                                    }
                                                                    <td>
                                                                        @if (Disable)
                                                                        {
                                                                            <textarea id="remarks" class="form-control remarksmessage" name="remarks" maxlength="100" readonly placeholder="@Resource.remarks"></textarea>
                                                                        }
                                                                        else
                                                                        {
                                                                            <textarea id="remarks" class="form-control remarksmessage" name="remarks" maxlength="100" placeholder="@Resource.remarks"></textarea>
                                                                        }
                                                                    </td>
                                                                </tr>
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section class="panel panel-default">
                                <div class="panel-heading" role="tab" id="headingFour">
                                    <h4 class="panel-title"><a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="true" aria-controls="collapseFour">@Resource.SemiFinished @Resource.MaterialDetail <span class="glyphicon glyphicon-chevron-right pull-right" aria-hidden="true"></span> </a></h4>
                                </div>
                                <div id="collapseFour" class="panel-collapse in " role="tabpanel" aria-labelledby="headingFour" style="">
                                    <div class="card-box table-responsive dy_table">
                                        <div class="col-md-12">
                                            <div class="price_item_detail">
                                                <div class="tableFixHead height30VH">
                                                    @*<table id="Hdn_SFItemsFGWise" hidden>
                                                            <thead>
                                                                <tr>
                                                                    <th>FG Item Id</th>
                                                                    <th>FG Row No</th>
                                                                    <th>Parent SF Item Id</th>
                                                                    <th>FG Sf Item Id</th>
                                                                    <th>FG Sf Item Type</th>
                                                                    <th>FG Bom Qty</th>
                                                                    <th>FG Req Qty</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                @if (ViewBag.HdnSFMaterialDetail != null)
                                                                {

                                                                    foreach (System.Data.DataRow Row in ViewBag.HdnSFMaterialDetail.Rows)
                                                                    {

                                                                        <tr>
                                                                            <td id="fg_ItemId">@Row["fg_item_id"]</td>
                                                                            <td id="fg_rowno">@Row["row_id"]</td>
                                                                            <td id="parent_Sf_ItemID">@Row["parent_sf_item_id"]</td>
                                                                            <td id="fg_Sf_ItemID">@Row["sf_item_id"]</td>
                                                                            <td id="fg_Sf_ItemType">@Row["fg_sf_item_type"]</td>
                                                                            <td id="fg_BomQty">@Row["bom_qty"]</td>
                                                                            <td id="fg_ReqQty">@Row["req_qty"]</td>
                                                                        </tr>
                                                                    }
                                                                }
                                                            </tbody>
                                                        </table>*@
                                                    @*<table id="Hdn_RMItemsSFGWise" hidden>
                                                            <tbody>
                                                                @if (ViewBag.HdnRowMaterialDetail != null)
                                                                {

                                                                    foreach (System.Data.DataRow Row in ViewBag.HdnRowMaterialDetail.Rows)
                                                                    {
                                                                        <tr>
                                                                            <td id="fg_ItemId">@Row["fg_item_id"]</td>
                                                                            <td id="fg_rowno">@Row["row_id"]</td>
                                                                            <td id="Sf_ItemID">@Row["sf_item_id"]</td>
                                                                            <td id="RM_ItemID">@Row["rm_item_id"]</td>
                                                                            <td id="RM_BomQty">@Row["bom_qty"]</td>
                                                                            <td id="RM_ReqQty">@Row["req_qty"]</td>
                                                                        </tr>
                                                                    }
                                                                }
                                                            </tbody>
                                                        </table>*@
                                                    <h2 class="col-md-9 col-sm-12 no-padding mt-3">&nbsp;</h2>
                                                    <div class="col-md-3 col-sm-12 no-padding num_right mt-3 mb-2"><label class="label pt-1 col-md-4 col-sm-12 num_right pr-0" for="SearchItmDetailsTbl1">@Resource.Search @Resource.Item : </label><input type="text" class="form-control col-md-7 col-sm-12" id="SearchItmDetailsTbl1" onkeyup="FilterItemDetail1(event)" /> </div>

                                                    <table id="SFMaterialDetailsTbl" class="table table-bordered width2000 margin10 itmfrz">
                                                        <thead disabled="disabled">
                                                            <tr class="headings">
                                                                <th width="1%">@Resource.SrNo</th>
                                                                <th width="17%" class="itmStick">@Resource.MaterialName</th>
                                                                <th width="4%" title="@Resource.UnitOfMeasure"> @Resource.UOM</th>
                                                                <th width="6%">@Resource.BOMQuantity</th>
                                                                <th width="6%">@Resource.AvailableStock</th>
                                                                <th width="5%">@Resource.WIP <br />  @Resource.Stock</th>
                                                                <th width="5%">@Resource.Shopfloor <br />  @Resource.Stock</th>
                                                                <th width="6%">@Resource.InTransit <br />  @Resource.Stock</th>
                                                                <th width="5%">@Resource.Required <br />  @Resource.Quantity</th>
                                                                <th width="5%">@Resource.Pending @Resource.Order <br /> @Resource.Quantity</th>
                                                                <th width="6%">@Resource.OrderToProcure  <br />  Quantity</th>
                                                                <th width="8%">
                                                                    <div class="col-md-10 col-sm-12 no-padding">
                                                                        @Resource.Procurement <br />  @Resource.CompletionDate
                                                                    </div>
                                                                    <div class="lpo_form col-md-2 col-sm-12 no-padding mt-2">
                                                                        @if (Disable)
                                                                        {
                                                                            <input id="ProcurementCompletionDt" class="form-control" disabled onchange="ProcurementCompletionDateReplicate()" type="date" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" value="" name="" placeholder="">
                                                                        }
                                                                        else
                                                                        {
                                                                            <input id="ProcurementCompletionDt" class="form-control" onchange="ProcurementCompletionDateReplicate()" type="date" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" value="" name="" placeholder="">
                                                                        }
                                                                    </div>
                                                                </th>
                                                                <th width="6%">@Resource.OrderToProduce <br />  @Resource.Quantity</th>
                                                                <th width="8%">
                                                                    <div class="col-md-10 col-sm-12 no-padding">
                                                                        @Resource.Production <br />  @Resource.CompletionDate
                                                                    </div>
                                                                    <div class="lpo_form col-md-2 col-sm-12 no-padding mt-2">
                                                                        @if (Disable)
                                                                        {
                                                                            <input id="ProductionCompletionDt" class="form-control" disabled onchange="ProductionCompletionDateReplicate()" type="date" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" value="" name="" placeholder="">
                                                                        }
                                                                        else
                                                                        {
                                                                            <input id="ProductionCompletionDt" class="form-control" onchange="ProductionCompletionDateReplicate()" type="date" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" value="" name="" placeholder="">
                                                                        }
                                                                    </div>
                                                                </th>
                                                                <th width="6%">@Resource.Procured <br />  @Resource.Quantity </th>
                                                                <th width="6%">@Resource.Produced <br />  @Resource.Quantity </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @if (ViewBag.SFMaterialDetail != null)
                                                            {
                                                                var rowIdx = 0;
                                                                var subitmDisable = "";
                                                                //var hideStockBtn = (ViewBag.DocumentCode == "D" || ViewBag.DocumentCode == "F") ? "" : "hidden";

                                                                foreach (System.Data.DataRow Row in ViewBag.SFMaterialDetail.Rows)
                                                                {
                                                                    rowIdx++;
                                                                    if (Row["sub_item"].ToString() != "Y")
                                                                    {
                                                                        subitmDisable = "disabled";
                                                                    }
                                                                    else
                                                                    {
                                                                        subitmDisable = "";
                                                                    }
                                                                    <tr>
                                                                        <td id="SFSrNo" class="sr_padding">@rowIdx</td>
                                                                        <td class="ItmNameBreak itmStick tditemfrz">
                                                                            <div class="col-sm-10 no-padding">
                                                                                <input id="MaterialName" class="form-control" type="text" value="@Row["item_name"]" name="MaterialName" disabled="">
                                                                                <input type="hidden" id="hf_materialID" value="@Row["item_id"]">
                                                                                <input type="hidden" id="hf_FGProductID" value="@Row["bom_item_id"]">
                                                                                <input type="hidden" id="hf_FGID" value="@Row["fg_item_id"]">
                                                                                <input type="hidden" id="hf_MaterialType" value="@Row["item_type"]">
                                                                                <input type="hidden" id="SFItemtypeFlag" value="@Row["i_pur"]">
                                                                            </div>
                                                                            <div class="col-sm-1 i_Icon">
                                                                                <button type="button" id="ItmInfoBtnIcon" class="calculator" onclick="OnClickRMIconBtn(event);" data-toggle="modal" data-target="#ItemInfo" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="Item Information">  </button>
                                                                            </div>
                                                                            <div class="col-sm-1 i_Icon">
                                                                                <button type="button" id="BillOfMaterial" class="calculator no-padding" onclick="OnClickIconBtnSFBOMDetail(event);" data-toggle="modal" data-target="#BillOfMaterial" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/BillOfMaterial.png" alt="" title="@Resource.BillOfMaterial"></button>
                                                                            </div>
                                                                        </td>
                                                                        <td><input id="UOM" class="form-control" value="@Row["uom_name"]" type="text" name="UOM" disabled=""><input id="UOMID" type="hidden" value="@Row["uom_id"]" /></td>
                                                                        <td><input id="BOMQuantity" class="form-control num_right" type="text" value="@Row["bom_qty"]" name="BOMQuantity" disabled=""></td>
                                                                        <td>
                                                                            @if (hideStockBtn == "hidden")
                                                                            {
                                                                                <div class="col-sm-12 no-padding"><input id="AvailableStock" class="form-control num_right" type="text" value="@Row["AvlStock"]" name="AvailableStock" disabled=""></div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="col-sm-10 no-padding"><input id="AvailableStock" class="form-control num_right" type="text" value="@Row["AvlStock"]" name="AvailableStock" disabled=""></div>
                                                                                <div class="col-sm-2 i_Icon">
                                                                                    <button type="button" id="StockDetail" class="calculator" onclick="ItemStockWareHouseWise(event,'I')" data-toggle="modal" data-target="#StockDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="Stock Detail">  </button>
                                                                                </div>
                                                                            }
                                                                        </td>
                                                                        <td>
                                                                            @if (hideStockBtn == "hidden")
                                                                            {
                                                                                <div class="col-sm-12 no-padding"><input id="WIPstock" class="form-control num_right" value="@Row["wip_stk"]" type="text" name="WIPstock" placeholder="0000.00" disabled></div>

                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="col-sm-10 no-padding"><input id="WIPstock" class="form-control num_right" value="@Row["wip_stk"]" type="text" name="WIPstock" placeholder="0000.00" disabled></div>
                                                                                <div class="col-sm-1 i_Icon" @hideStockBtn><button type="button" id="StockDetail" class="calculator" onclick="OnClickIconBtnWIPStock(event,'wip')" data-toggle="modal" data-target="#WIPStock" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.StockDetail"></button></div>
                                                                            }
                                                                        </td>
                                                                        <td>
                                                                            @if (hideStockBtn == "hidden")
                                                                            {
                                                                                <div class="col-sm-12 no-padding"><input id="ShopFloorstock" class="form-control num_right" value="@Row["shfl_stk"]" type="text" name="ShopFloorstock" placeholder="0000.00" disabled></div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="col-sm-10 no-padding"><input id="ShopFloorstock" class="form-control num_right" value="@Row["shfl_stk"]" type="text" name="ShopFloorstock" placeholder="0000.00" disabled></div>
                                                                                <div class="col-sm-1 i_Icon" @hideStockBtn><button type="button" id="StockDetail" class="calculator" onclick="ItemStockShopFloorWise(event)" data-toggle="modal" data-target="#StockDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.StockDetail"></button></div>
                                                                            }
                                                                        </td>
                                                                        <td>
                                                                            @if (hideStockBtn == "hidden")
                                                                            {
                                                                                <div class="col-sm-12 no-padding"><input id="INtransit" class="form-control num_right" value="@Row["in_trans_stk"]" type="text" name="AvailableStock" placeholder="0000.00" disabled></div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="col-sm-10 no-padding"><input id="INtransit" class="form-control num_right" value="@Row["in_trans_stk"]" type="text" name="AvailableStock" placeholder="0000.00" disabled></div>
                                                                                <div class="col-sm-1 i_Icon" @hideStockBtn><button type="button" id="StockDetail" class="calculator" onclick="OnClickIconBtnWIPStock(event,'intrst')" data-toggle="modal" data-target="#WIPStock" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.StockDetail"></button></div>
                                                                            }

                                                                        </td>
                                                                        <td>
                                                                            <div class="col-sm-12 no-padding">
                                                                                <input id="RequiredQuantity" class="form-control num_right" type="text" value="@Row["req_qty"]" name="RequiredQuantity" disabled="">
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            @if (hideStockBtn == "hidden")
                                                                            {
                                                                                <div class="col-sm-12 no-padding">
                                                                                    <input id="PendingOrderQuantity" class="form-control num_right" type="text" value="@Row["pend_ord_qty"].ToString()" name="PendingOrderQuantity" disabled>
                                                                                </div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="col-sm-10 no-padding">
                                                                                    <input id="PendingOrderQuantity" class="form-control num_right" type="text" value="@Row["pend_ord_qty"].ToString()" name="PendingOrderQuantity" disabled>
                                                                                </div>
                                                                                <div class="col-sm-1 i_Icon">
                                                                                    <button type="button" id="" class="calculator" onclick="OnClickMaterialPendingOrderQty(event,'SF')" data-toggle="modal" data-target="#PendingOrderQuantity" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.Pending @Resource.Order @Resource.Quantity"></button>
                                                                                </div>
                                                                            }
                                                                        </td>
                                                                        <td>
                                                                            @* <div class="lpo_form" style="padding:0px;">*@
                                                                            <div class="col-sm-10 no-padding">
                                                                                @if (Disable ||  @Row["i_pur"].ToString() == "N")
                                                                                {
                                                                                   
                                                                                    <input id="OrderToProcureQuantity" autocomplete="off" disabled class="form-control num_right" type="text" value="@Row["ord_proc_qty"]" name="OrderToProcureQuantity">
                                                                                }
                                                                                else
                                                                                {
                                                                                    if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                                    {
                                                                                        <input id="OrderToProcureQuantity" autocomplete="off" disabled class="form-control num_right" type="text" value="@Row["ord_proc_qty"]" name="OrderToProcureQuantity">
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input id="OrderToProcureQuantity" autocomplete="off" onkeypress="return OnKeyPressProcureQty(this,event);" onchange="OnChangeProcureQty(event)" class="form-control num_right" type="text" value="@Row["ord_proc_qty"]" name="OrderToProcureQuantity">
                                                                                    }
                                                                                }

                                                                            </div>
                                                                            <div class="col-sm-2 i_Icon" id="div_SubItemOrdrToPrecurQty" style="padding:0px; ">
                                                                                <input hidden type="text" id="sub_item" value="@Row["sub_item"]" />
                                                                                <button type="button" id="SubItemOrdrToPrecurQty" @subitmDisable class="calculator subItmImg" onclick="return SubItemDetailsPopUp('OrdrToPrecurQuantity',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                            </div>
                                                                            <input hidden type="text" id="HdnSFsubitemFlag" value="OrdrToPrecurQuantity" />
                                                                        </td>
                                                                        <td>
                                                                            <div class="lpo_form">
                                                                                @if (Disable || Convert.ToDecimal(Row["ord_proc_qty"]) <= 0 ||  @Row["i_pur"].ToString() == "N")
                                                                                {
                                                                                    <input id="ProcurementCompletionDate" onchange="OnChangeProcureDate(event)" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" class="form-control num_right" type="date" value="@Row["proc_dt"]" name="RequisitionQuantity" disabled="">
                                                                                }
                                                                                else
                                                                                {
                                                                                    if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                                    {
                                                                                        <input id="ProcurementCompletionDate" class="form-control num_right" type="date" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" value="@Row["proc_dt"]" name="RequisitionQuantity" disabled="">
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input id="ProcurementCompletionDate" onchange="OnChangeProcureDate(event)" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" class="form-control num_right" type="date" value="@Row["proc_dt"]" name="RequisitionQuantity">}
                                                                                }
                                                                                <span id="ProcurementCompletionDateError" class="error-message is-visible"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="col-sm-10 no-padding">
                                                                                @if (Disable)
                                                                                {
                                                                                    <input id="OrderToProduceQuantity" autocomplete="off" value="@Row["ord_prod_qty"]" disabled class="form-control num_right" type="text" name="OrderToProduceQuantity">
                                                                                }
                                                                                else
                                                                                {
                                                                                    if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                                    {
                                                                                        <input id="OrderToProduceQuantity" autocomplete="off" value="@Row["ord_prod_qty"]" disabled class="form-control num_right" type="text" name="OrderToProduceQuantity">
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input id="OrderToProduceQuantity" autocomplete="off" value="@Row["ord_prod_qty"]" onkeypress="return OnKeyPressProduceQty(this,event);" onchange="OnChangeProduceQty(event)" class="form-control num_right" type="text" name="OrderToProduceQuantity">
                                                                                    }
                                                                                }
                                                                            </div>
                                                                            <div class="col-sm-2 i_Icon" id="div_SubItemOrdrToProduceQty" style="padding:0px; ">
                                                                                <input hidden type="text" id="sub_item" value="@Row["sub_item"]" />
                                                                                <button type="button" id="SubItemOrdrToProduceQty" @subitmDisable class="calculator subItmImg" onclick="return SubItemDetailsPopUp('OrdrToProduceQuantity',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                            </div>
                                                                            <input hidden type="text" id="HdnSFsubitemFlag" value="OrdrToProduceQuantity" />
                                                                        </td>
                                                                        <td>
                                                                            <div class="lpo_form">
                                                                                @if (Disable || Convert.ToDecimal(Row["ord_prod_qty"]) <= 0)
                                                                                {
                                                                                    <input id="ProductionCompletionDate" disabled onchange="OnChangeSFProduceDate(event)" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" class="form-control num_right" type="date" value="@Row["prod_dt"]" name="RequisitionQuantity">
                                                                                }
                                                                                else
                                                                                {
                                                                                    if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                                    {
                                                                                        <input id="ProductionCompletionDate" disabled class="form-control num_right" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" type="date" value="@Row["prod_dt"]" name="RequisitionQuantity">
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input id="ProductionCompletionDate" onchange="OnChangeSFProduceDate(event)" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" class="form-control num_right" type="date" value="@Row["prod_dt"]" name="RequisitionQuantity">
                                                                                    }
                                                                                }
                                                                                <span id="ProductionCompletionDateError" class="error-message is-visible"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="col-sm-10 no-padding"><input id="ProcuredQty" class="form-control num_right" value="@Row["procured_qty"].ToString()" type="text" name="" placeholder="0000.00" disabled></div>
                                                                            <div class="col-sm-1 i_Icon">
                                                                                <button type="button" id="ProcuredQuantityDetail" class="calculator" onclick="OnClickProcuredQtyIconBtn(event,'SF');" data-toggle="modal" data-target="#ProcuredQuantityDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.ProductionDetail"> </button>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="col-sm-10 no-padding"><input id="ProducedQty" class="form-control num_right" value="@Row["produced_qty"].ToString()" type="text" name="" placeholder="0000.00" disabled></div>
                                                                            <div class="col-sm-1 i_Icon">
                                                                                <button type="button" id="ProducedQuantityDetail" class="calculator" onclick="OnClickProducedQtyIconBtn(event,'SF');" data-toggle="modal" data-target="#ProducedQuantityDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.ProductionDetail"> </button>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section class="panel panel-default">
                                <div class="panel-heading" role="tab" id="headingThree">
                                    <h4 class="panel-title"><a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">@Resource.RawMaterialDetail <span class="glyphicon glyphicon-chevron-right pull-right" aria-hidden="true"></span> </a></h4>
                                </div>
                                <div id="collapseThree" class="panel-collapse in " role="tabpanel" aria-labelledby="headingThree" style="">
                                    <div class="card-box table-responsive dy_table">
                                        <div class="col-md-12">
                                            <div class="price_item_detail">
                                                <div class="tableFixHead height30VH">
                                                    <div id="hdn_data_container" hidden>
                                                        @* This div is used as data bridge for SF And RM Data. Added by Suraj Maurya on 20-01-2025 *@
                                                    </div>
                                                    <h2 class="col-md-9 col-sm-12 no-padding mt-3">&nbsp;</h2>
                                                    <div class="col-md-3 col-sm-12 no-padding num_right mt-3 mb-2"><label class="label pt-1 col-md-4 col-sm-12 num_right pr-0" for="SearchItmDetailsTbl2">@Resource.Search @Resource.Item : </label><input type="text" class="form-control col-md-7 col-sm-12" id="SearchItmDetailsTbl2" onkeyup="FilterItemDetail2(event)" /> </div>

                                                    @Html.HiddenFor(model => model.hdnSFMaterialDetail, new { @id = "hdnSFMaterialDetail" })
                                                    @Html.HiddenFor(model => model.hdnInputMaterialDetail, new { @id = "hdnInputMaterialDetail" })
                                                    @Html.HiddenFor(model => model.SFMaterialDetail, new { @id = "HDSFMaterialDetails" })
                                                    @Html.HiddenFor(model => model.InputMaterialDetail, new { @id = "HDInputMaterialDetails" })
                                                    <table id="InputMaterialDetailsTbl" class="table table-bordered width1600 margin10 itmfrz">
                                                        <thead disabled="disabled">
                                                            <tr class="headings">
                                                                <th width="1%">@Resource.SrNo</th>
                                                                <th width="20%" class="itmStick">@Resource.MaterialName</th>
                                                                <th width="4%" title="@Resource.UnitOfMeasure"> @Resource.UOM</th>
                                                                <th width="8%">@Resource.BOMQuantity</th>
                                                                <th width="8%">@Resource.Available <br /> @Resource.Stock</th>
                                                                <th width="8%">@Resource.Shopfloor <br />  @Resource.Stock</th>
                                                                <th width="8%">@Resource.InTransit <br />  @Resource.Stock</th>
                                                                <th width="7%">@Resource.MinimumStockReserve</th>
                                                                <th width="6%">@Resource.Required <br /> @Resource.Quantity</th>
                                                                <th width="6%">@Resource.Pending @Resource.Order <br /> @Resource.Quantity</th>
                                                                <th width="8%">@Resource.OrderToProcure <br /> @Resource.Quantity</th>
                                                                <th width="9%">
                                                                    <div class="col-sm-10 no-padding">
                                                                        @Resource.Procurement <br /> @Resource.CompletionDate
                                                                    </div>
                                                                    <div class="lpo_form col-md-2 col-sm-12 no-padding mt-2">
                                                                        @if (Disable)
                                                                        {
                                                                            <input id="ProcurementInputCompletionDate" class="form-control" disabled onchange="ProductionCompletionInputDateReplicate()" type="date" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" value="" name="" placeholder="">
                                                                        }
                                                                        else
                                                                        {
                                                                            <input id="ProcurementInputCompletionDate" class="form-control" onchange="ProductionCompletionInputDateReplicate()" type="date" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" value="" name="" placeholder="">
                                                                        }
                                                                    </div>
                                                                </th>
                                                                <th width="7%">@Resource.Procured <br /> @Resource.Quantity </th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @if (ViewBag.InputMaterialDetail != null)
                                                            {
                                                                //var hideStockBtn = (ViewBag.DocumentCode == "D" || ViewBag.DocumentCode == "F") ? "" : "hidden";
                                                                var rowIdx = 0;
                                                                var subitmDisable = "";
                                                                foreach (System.Data.DataRow Row in ViewBag.InputMaterialDetail.Rows)
                                                                {
                                                                    rowIdx++;
                                                                    if (Row["sub_item"].ToString() != "Y")
                                                                    {
                                                                        subitmDisable = "disabled";
                                                                    }
                                                                    else
                                                                    {
                                                                        subitmDisable = "";
                                                                    }
                                                                    <tr>

                                                                        <td id="RMSrNo" class="sr_padding">@rowIdx</td>
                                                                        <td class="ItmNameBreak itmStick tditemfrz">
                                                                            <div class="col-sm-11 no-padding">
                                                                                <input id="MaterialName" class="form-control" type="text" value="@Row["item_name"].ToString()" name="MaterialName" disabled><input type="hidden" id="hf_materialID" value="@Row["item_id"].ToString()" />
                                                                                <input type="hidden" id="InputItemtypeFlag" value="@Row["i_pur"]">
                                                                            </div>
                                                                            <div class="col-sm-1 i_Icon">
                                                                                <button type="button" id="ItmInfoBtnIcon" class="calculator" onclick="OnClickRMIconBtn(event);" data-toggle="modal" data-target="#ItemInfo" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.ItemInformation"> @*<i class="fa fa-info" aria-hidden="true" title=" @Resource.ItemInformation"></i>*@ </button>
                                                                            </div>
                                                                        </td>
                                                                        <td><input id="UOM" class="form-control" value="@Row["uom_name"].ToString()" type="text" name="UOM" disabled><input id="UOMID" type="hidden" value="@Row["uom_id"].ToString()" /></td>
                                                                        <td><input id="BOMQuantity" class="form-control num_right" type="text" value="@Row["bom_qty"].ToString()" name="BOMQuantity" disabled></td>
                                                                        <td>
                                                                            @if (hideStockBtn == "hidden")
                                                                            {
                                                                                <div class="col-sm-12 no-padding"><input id="AvailableStock" class="form-control num_right" type="text" value="@Row["AvlStock"].ToString()" name="AvailableStock" disabled></div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="col-sm-10 no-padding"><input id="AvailableStock" class="form-control num_right" type="text" value="@Row["AvlStock"].ToString()" name="AvailableStock" disabled></div>
                                                                                <div class="col-sm-2 i_Icon">
                                                                                    <button type="button" id="StockDetail" class="calculator" onclick="ItemStockWareHouseWise(event,'I')" data-toggle="modal" data-target="#StockDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.StockDetail"> @*<i class="fa fa-info" aria-hidden="true" title=" @Resource.StockDetail"></i>*@ </button>
                                                                                </div>
                                                                            }
                                                                        </td>
                                                                        <td>
                                                                            @if (hideStockBtn == "hidden")
                                                                            {
                                                                                <div class="col-sm-12 no-padding"><input id="ShopFloorstock" class="form-control num_right" value="@Row["shfl_stk"].ToString()" type="text" name="ShopFloorstock" placeholder="0000.00" disabled></div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="col-sm-10 no-padding"><input id="ShopFloorstock" class="form-control num_right" value="@Row["shfl_stk"].ToString()" type="text" name="ShopFloorstock" placeholder="0000.00" disabled></div>
                                                                                <div class="col-sm-1 i_Icon"><button type="button" id="StockDetail" class="calculator" onclick="ItemStockShopFloorWise(event)" data-toggle="modal" data-target="#StockDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.StockDetail"></button></div>
                                                                            }
                                                                        </td>
                                                                        <td>
                                                                            @if (hideStockBtn == "hidden")
                                                                            {
                                                                                <div class="col-sm-12 no-padding"><input id="INtransit" class="form-control num_right" value="@Row["in_trans_stk"].ToString()" type="text" name="AvailableStock" placeholder="0000.00" disabled></div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="col-sm-10 no-padding"><input id="INtransit" class="form-control num_right" value="@Row["in_trans_stk"].ToString()" type="text" name="AvailableStock" placeholder="0000.00" disabled></div>
                                                                                <div class="col-sm-1 i_Icon">
                                                                                    <button type="button" id="StockDetail" class="calculator" onclick="OnClickIconBtnWIPStock(event,'intrst')" data-toggle="modal" data-target="#WIPStock" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.StockDetail"></button>
                                                                                </div>
                                                                            }
                                                                        </td>
                                                                        <td><input id="MinimumStockReserve" class="form-control num_right" type="text" value="@Row["minresstk"].ToString()" name="MinimumStockReserve" disabled></td>
                                                                        <td><input id="RequiredQuantity" class="form-control num_right" type="text" value="@Row["req_qty"].ToString()" name="RequiredQuantity" disabled></td>
                                                                        <td>
                                                                            @if (hideStockBtn == "hidden")
                                                                            {
                                                                                <div class="col-sm-12 no-padding">
                                                                                    <input id="PendingOrderQuantity" class="form-control num_right" type="text" value="@Row["pend_ord_qty"].ToString()" name="PendingOrderQuantity" disabled>
                                                                                </div>
                                                                            }
                                                                            else
                                                                            {
                                                                                <div class="col-sm-10 no-padding">
                                                                                    <input id="PendingOrderQuantity" class="form-control num_right" type="text" value="@Row["pend_ord_qty"].ToString()" name="PendingOrderQuantity" disabled>
                                                                                </div>
                                                                                <div class="col-sm-1 i_Icon">
                                                                                    <button type="button" id="" class="calculator" onclick="OnClickMaterialPendingOrderQty(event,'RM')" data-toggle="modal" data-target="#PendingOrderQuantity" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.Pending @Resource.Order @Resource.Quantity"></button>
                                                                                </div>
                                                                            }
                                                                        </td>
                                                                        <td>
                                                                            <div class="col-sm-10 no-padding">
                                                                                @if (Disable || @Row["i_pur"].ToString()=="N")
                                                                                {
                                                                                    <input id="RequisitionQuantity" class="form-control num_right" type="text" value="@Row["pr_qty"].ToString()" name="RequisitionQuantity" disabled>
                                                                                }
                                                                                else
                                                                                {
                                                                                    if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                                    {
                                                                                        <input id="RequisitionQuantity" class="form-control num_right" type="text" value="@Row["pr_qty"].ToString()" name="RequisitionQuantity" disabled>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input id="RequisitionQuantity" class="form-control num_right" type="text" value="@Row["pr_qty"].ToString()" onkeypress="return OnKeyPressRequisitionQty(this,event);" onchange="OnChangeRequisitionQty(event)" name="RequisitionQuantity">
                                                                                    }
                                                                                }
                                                                            </div>
                                                                            <div class="col-sm-2 i_Icon" id="div_RMSubItemOrdrToPrecurQty" style="padding:0px; ">
                                                                                <input hidden type="text" id="sub_item" value="@Row["sub_item"]" />
                                                                                <button type="button" id="RMSubItemOrdrToPrecurQty" @subitmDisable class="calculator subItmImg" onclick="return SubItemDetailsPopUp('RMOrdrToPrecurQuantity',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                            </div>
                                                                            <input hidden type="text" id="HdnRMsubitemFlag" value="OrdrToPrecurQuantity" />
                                                                        </td>
                                                                        <td>
                                                                            <div class="lpo_form">
                                                                                @if (Disable || Convert.ToDecimal(Row["pr_qty"]) <= 0 ||  @Row["i_pur"].ToString() == "N")
                                                                                {
                                                                                    <input id="ProcurementCompletionDate" class="form-control num_right" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" onchange="OnChangeProcureDate(event)" type="date" value="@Row["proc_dt"].ToString()" name="ProcurementCompletionDate" placeholder="0000.00" disabled>
                                                                                }
                                                                                else
                                                                                {
                                                                                    if (Model.Commandfc == "Edit" && ViewBag.DocumentCode == "A")
                                                                                    {
                                                                                        <input id="ProcurementCompletionDate" class="form-control num_right" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" type="date" value="@Row["proc_dt"].ToString()" name="ProcurementCompletionDate" placeholder="0000.00" disabled>
                                                                                    }
                                                                                    else
                                                                                    {
                                                                                        <input id="ProcurementCompletionDate" class="form-control num_right" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" type="date" onchange="OnChangeProcureDate(event)" value="@Row["proc_dt"].ToString()" name="ProcurementCompletionDate" placeholder="0000.00">
                                                                                    }
                                                                                }
                                                                                <span id="ProcurementCompletionDateError" class="error-message is-visible"></span>
                                                                            </div>
                                                                        </td>
                                                                        <td>
                                                                            <div class="col-sm-10 no-padding"><input id="ProcuredQty" class="form-control num_right" value="@Row["procured_qty"].ToString()" type="text" name="" placeholder="0000.00" disabled></div>
                                                                            <div class="col-sm-1 i_Icon">
                                                                                <button type="button" id="ProcuredQuantityDetail" class="calculator" onclick="OnClickProcuredQtyIconBtn(event,'RM');" data-toggle="modal" data-target="#ProcuredQuantityDetail" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/iIcon1.png" alt="" title="@Resource.ProductionDetail"> </button>
                                                                            </div>
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            }
                                                        </tbody>
                                                    </table>
                                                    <div class="clear">&nbsp;</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section class="panel panel-default">
                                <div class="panel-heading" role="tab" id="headingFive">
                                    <h4 class="panel-title">  <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseFive" aria-expanded="false" class="collapsed" aria-controls="collapseFive">  @Resource.ProductionOrderDetail<span class="glyphicon glyphicon-chevron-right pull-right" aria-hidden="true"></span> </a></h4>
                                </div>
                                <div id="collapseFive" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFive" style="">
                                    <div class="panel-body">
                                        <div class="card-box table-responsive dy_table">
                                            <div class="col-md-12">
                                                <div class="tableFixHead height45VH">
                                                    <table id="ProductionAdviceDetail" class="table table-bordered margin10 rowhighlighttbl width1400 itmfrz   ">
                                                        <thead>
                                                            <tr class="headings">
                                                                <th width="4%">@Resource.SrNo</th>
                                                                <th width="10%" class="itmStick"> @Resource.ProductionOrderNumber</th>
                                                                <th width="10%"> @Resource.Production @Resource.Order @Resource.Date</th>
                                                                <th width="24%"> @Resource.Product @Resource.Name</th>
                                                                <th width="7%" title="@Resource.UnitOfMeasure"> @Resource.UOM</th>
                                                                <th width="18%">  @Resource.Operation @Resource.Output @Resource.Item </th>
                                                                <th width="7%"> @Resource.Output <br /> @Resource.UOM</th>
                                                                <th width="10%"> @Resource.Order <br />  @Resource.Quantity</th>
                                                                <th width="10%"> @Resource.Batch <br />  @Resource.Number</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody>
                                                            @if (ViewBag.ProdOrderDetails != null)
                                                            {
                                                                var subitemdisable = "";
                                                                var srno = 1;
                                                                foreach (System.Data.DataRow dr in ViewBag.ProdOrderDetails.Rows)
                                                                {

                                                                    if (dr["sub_item"].ToString() == "Y")
                                                                    {
                                                                        subitemdisable = "";
                                                                    }
                                                                    else
                                                                    {
                                                                        subitemdisable = "disabled ";
                                                                    }
                                                                    <tr>
                                                                        <td>@srno</td>
                                                                        <td id="jc_no" class="ItmNameBreak itmStick tditemfrz">@dr["jc_no"]</td>
                                                                        <td>@dr["jc_dt"]</td>
                                                                        <td hidden id="jc_dt">@dr["jc_date"]</td>
                                                                        <td>@dr["item_name"]</td>
                                                                        <td>@dr["uom_alias"]</td>
                                                                        <td id="item_nm">@dr["output_item_name"]</td>
                                                                        <td hidden id="output_item_id">@dr["op_out_item_id"]</td>
                                                                        <td id="UOM">@dr["out_uom_alias"]</td>
                                                                        <td class="num_right">
                                                                            <div class="col-sm-10 lpo_form no-padding" id="OrderedQty">
                                                                                @dr["jc_qty"]
                                                                            </div>
                                                                            <div class="col-sm-2 i_Icon no-padding" id="">
                                                                                <button type="button" id="" @subitemdisable class="calculator subItmImg" onclick="return SubItemDetailsPopUp('OrderedQty',event)" data-toggle="modal" data-target="#SubItem" data-backdrop="static" data-keyboard="false"><img src="/Content/Images/subItem.png" alt="" title="@Resource.SubItem @Resource.Detail"> </button>
                                                                            </div>
                                                                        </td>
                                                                        <td>@dr["batch_no"]</td>
                                                                    </tr>
                                                                    srno++;
                                                                }
                                                            }
                                                        </tbody>
                                                    </table>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section class="panel panel-default">
                                <div class="panel-heading" role="tab" id="headingSix">
                                    <h4 class="panel-title">  <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseSix" aria-expanded="false" class="collapsed" aria-controls="collapseSix"> @Resource.Purchase @Resource.Requisition @Resource.Detail <span class="glyphicon glyphicon-chevron-right pull-right" aria-hidden="true"></span> </a></h4>
                                </div>
                                <div id="collapseSix" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingSix" style="">
                                    <div class="panel-body">
                                        <div class="card-box table-responsive dy_table">
                                            <div class="col-md-12">
                                                <div class="">
                                                    <div class="tableFixHead height45VH">
                                                        <table id="PurchaseRequisition" class="table table-bordered margin10 rowhighlighttbl">
                                                            <thead disabled="disabled">
                                                                <tr class="headings">
                                                                    <th width="5%">@Resource.SrNo</th>
                                                                    <th width="15%"> @Resource.Requisition <br /> @Resource.Number</th>
                                                                    <th width="15%">@Resource.RequisitionDate</th>
                                                                    <th width="35%">@Resource.Product @Resource.Name</th>
                                                                    <th width="15%" title="@Resource.UnitOfMeasure"> @Resource.UOM</th>
                                                                    <th width="15%">@Resource.Requisition <br /> @Resource.Quantity</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody>
                                                                @if (ViewBag.PRDetails != null)
                                                                {
                                                                    var srno = 1;
                                                                    foreach (System.Data.DataRow dr in ViewBag.PRDetails.Rows)
                                                                    {
                                                                        <tr>
                                                                            <td>@srno</td>
                                                                            <td>@dr["pr_no"]</td>
                                                                            <td>@dr["pr_dt"]</td>
                                                                            <td>@dr["item_name"]</td>
                                                                            <td>@dr["uom_alias"]</td>
                                                                            <td class="num_right">@dr["pr_qty"]</td>
                                                                        </tr>
                                                                        srno++;
                                                                    }
                                                                }
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </article>
                    </div>
                </div>
            </div>
        </div>
    }
}