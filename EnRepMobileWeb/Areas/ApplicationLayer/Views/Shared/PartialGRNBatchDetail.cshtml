@using EnRepMobileWeb.Resources;
@{
    var rowId = 0;
    var Disable = true;
    if (Model.TransType == "Update")
    {
        if (Model.Command == "Edit")
        {
            Disable = false;
        }
        else
        {
            Disable = true;
        }
    }
    else
    {
        if (Model.Command == "Refresh")
        {
            Disable = true;
        }
        else
        {
            Disable = false;
        }
    }
}
<div class="modal-content">
    <div class="modal-header">
        <h2>@Resource.BatchDetail</h2>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
    </div>
    <div class="modal-body">
        <div class="col-md-4 col-sm-12" style="padding-left:0px;">
            <label class="col-form-label label-align">@Resource.ItemName</label>
            <input id="BatchItemName" class="form-control" autocomplete="off" type="text" name="BatchItemName" placeholder="Item Name" onblur="this.placeholder='Item Name'" disabled="">
            <input type="hidden" id="hfItemID" />
            <input type="hidden" id="hfItemSNo" />
            <input type="hidden" id="hfexpiryflag" />
            @*@if (Disable)
            {
                <input type="hidden" id="EnableBatchdetail" value="Disable" />
            }
            else
            {
                if (Model.DocumentStatus == "D" || Model.DocumentStatus == "")
                {

                    <input type="hidden" id="EnableBatchdetail" value="Enable" />
                }
                else
                {
                    <input type="hidden" id="EnableBatchdetail" value="Disable" />
                }
            }*@
        </div>
        <div class="col-md-2 col-sm-12" style="padding-left:0px;">
            <label class="col-form-label label-align">@Resource.UOM</label>
            <input id="batchUOM" class="form-control" autocomplete="off" type="text" name="batchUOM" placeholder="UOM" onblur="this.placeholder='UOM'" disabled="">
        </div>
        <div class="col-md-2 col-sm-12" style="padding-left:0px;">
            <label class="col-form-label label-align ">@Resource.Accepted @Resource.Quantity</label>
            <input id="BatchReceivedQuantity" class="form-control num_right" autocomplete="off" type="text" name="BatchReceivedQuantity" placeholder="0000.00" disabled="">
        </div>
        <div class="col-md-2 col-sm-12" style="padding-left:0px;">
            <label class="col-form-label label-align ">@Resource.Rejected @Resource.Quantity</label>
            <input id="BatchRejQuantity" class="form-control num_right" autocomplete="off" type="text" name="BatchRejQuantity" placeholder="0000.00" disabled="">
        </div>
        <div class="col-md-2 col-sm-12" style="padding-left:0px;">
            <label class="col-form-label label-align ">@Resource.Reworkable @Resource.Quantity</label>
            <input id="BatchReworkQuantity" class="form-control num_right" autocomplete="off" type="text" name="BatchReworkQuantity" placeholder="0000.00" disabled="">
        </div>
        <div class="clearfix"></div>
        <hr style="margin-bottom:5px;">
        <div class="col-md-2 col-sm-12" style="padding-left:0px;">
            <label class="table_label col-form-label label-align ">@Resource.Accepted <span class="required">*</span></label>
            @if (Disable)
            {
                <input id="BatchQuantity" class="form-control num_right" autocomplete="off" type="text" maxlength="15" onchange="OnChangeBatchQtyGRN()" name="BatchQuantity" onkeypress="return QtyFloatValueonly(this,event);" placeholder="0000.00" onblur="this.placeholder='Quantity'" disabled>
                <span id="SpanBatchQty" class="error_message"></span>
            }
            else
            {
                if (Model.DocumentStatus == "PC" || Model.DocumentStatus == "A")
                {
                    <input id="BatchQuantity" class="form-control num_right" autocomplete="off" type="text" maxlength="15" onchange="OnChangeBatchQtyGRN()" name="BatchQuantity" onkeypress="return QtyFloatValueonly(this,event);" placeholder="0000.00" onblur="this.placeholder='Quantity'" disabled>
                    <span id="SpanBatchQty" class="error_message"></span>
                }
                else
                {
                    <input id="BatchQuantity" class="form-control num_right" autocomplete="off" type="text" maxlength="15" onchange="OnChangeBatchQtyGRN()" name="BatchQuantity" onkeypress="return QtyFloatValueonly(this,event);" placeholder="0000.00" onblur="this.placeholder='Quantity'">
                    <span id="SpanBatchQty" class="error_message"></span>
                }
            }
        </div>
        <div class="col-md-2 col-sm-12" style="padding-left:0px;">
            <label class="table_label col-form-label label-align ">@Resource.Rejected <span class="required">*</span></label>
            @if (Disable)
            {
                <input id="RejBatchQuantity" class="form-control num_right" autocomplete="off" type="text" maxlength="15" onchange="OnChangeRejBatchQtyGRN()" name="RejBatchQuantity" onkeypress="return QtyFloatValueonly(this,event);" placeholder="0000.00" onblur="this.placeholder='Quantity'" disabled>
                <span id="SpanRejBatchQty" class="error_message"></span>
            }
            else
            {
                if (Model.DocumentStatus == "PC" || Model.DocumentStatus == "A")
                {
                    <input id="RejBatchQuantity" class="form-control num_right" autocomplete="off" type="text" maxlength="15" onchange="OnChangeRejBatchQtyGRN()" name="RejBatchQuantity" onkeypress="return QtyFloatValueonly(this,event);" placeholder="0000.00" onblur="this.placeholder='Quantity'" disabled>
                    <span id="SpanRejBatchQty" class="error_message"></span>
                }
                else
                {
                    <input id="RejBatchQuantity" class="form-control num_right" autocomplete="off" type="text" maxlength="15" onchange="OnChangeRejBatchQtyGRN()" name="RejBatchQuantity" onkeypress="return QtyFloatValueonly(this,event);" placeholder="0000.00" onblur="this.placeholder='Quantity'">
                    <span id="SpanRejBatchQty" class="error_message"></span>
                }
            }

        </div>
        <div class="col-md-2 col-sm-12" style="padding-left:0px;">
            <label class="table_label col-form-label label-align ">@Resource.Reworkable <span class="required">*</span></label>
            @if (Disable)
            {
                <input id="ReworkBatchQuantity" class="form-control num_right" autocomplete="off" type="text" maxlength="15" onchange="OnChangeReworkBatchQtyGRN()" name="ReworkBatchQuantity" onkeypress="return QtyFloatValueonly(this,event);" placeholder="0000.00" onblur="this.placeholder='Quantity'" disabled>
                <span id="SpanReworkBatchQty" class="error_message"></span>
            }
            else
            {
                if (Model.DocumentStatus == "PC" || Model.DocumentStatus == "A")
                {
                    <input id="ReworkBatchQuantity" class="form-control num_right" autocomplete="off" type="text" maxlength="15" onchange="OnChangeReworkBatchQtyGRN()" name="ReworkBatchQuantity" onkeypress="return QtyFloatValueonly(this,event);" placeholder="0000.00" onblur="this.placeholder='Quantity'" disabled>
                    <span id="SpanReworkBatchQty" class="error_message"></span>
                }
                else
                {
                    <input id="ReworkBatchQuantity" class="form-control num_right" autocomplete="off" type="text" maxlength="15" onchange="OnChangeReworkBatchQtyGRN()" name="ReworkBatchQuantity" onkeypress="return QtyFloatValueonly(this,event);" placeholder="0000.00" onblur="this.placeholder='Quantity'">
                    <span id="SpanReworkBatchQty" class="error_message"></span>
                }

            }

        </div>
        <div class="col-md-2 col-sm-12" style="padding-left:0px;">
            <label class="table_label col-form-label label-align">@Resource.BatchNumber <span class="required">*</span></label>
            @if (Disable)
            {
                <input id="txtBatchNumber" class="form-control" autocomplete="off" type="text" maxlength="25" onkeypress="OnKeyPressBatchNoGRN(event)" onkeydown="return OnKeyDownBatchNoGRN(event)" onchange="OnChangeGRNBatchNo(event)" name="BatchNumber" placeholder="Batch Number" onblur="this.placeholder='Batch Number'" disabled>
                <span id="SpanBatchNo" class="error_message"></span>
            }
            else
            {
                if (Model.DocumentStatus == "PC" || Model.DocumentStatus == "A")
                {
                    <input id="txtBatchNumber" class="form-control" autocomplete="off" type="text" maxlength="25" onkeypress="OnKeyPressBatchNoGRN(event)" onkeydown="return OnKeyDownBatchNoGRN(event)" onchange="OnChangeGRNBatchNo(event)" name="BatchNumber" placeholder="Batch Number" onblur="this.placeholder='Batch Number'" disabled>
                    <span id="SpanBatchNo" class="error_message"></span>
                }
                else
                {
                    <input id="txtBatchNumber" class="form-control" autocomplete="off" type="text" maxlength="25" onkeypress="OnKeyPressBatchNoGRN(event)" onkeydown="return OnKeyDownBatchNoGRN(event)" onchange="OnChangeGRNBatchNo(event)" name="BatchNumber" placeholder="Batch Number" onblur="this.placeholder='Batch Number'">
                    <span id="SpanBatchNo" class="error_message"></span>
                }

            }
        </div>
        <div class="col-md-2 col-sm-12" style="padding-left:0px;">
            <label class="table_label col-form-label label-align">@Resource.ExpiryDate <span class="required" id="spanexpiryrequire">*</span></label>
            @if (Disable)
            {
                <input type="date" class="form-control" id="BatchExpiryDate" onchange="OnChangeBatchExpiryDateGRN()" name="BatchExpiryDate" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" disabled>
                <span id="SpanBatchExDate" class="error_message"></span>
            }
            else
            {
                if (Model.DocumentStatus == "PC" || Model.DocumentStatus == "A")
                {
                    <input type="date" class="form-control" id="BatchExpiryDate" onchange="OnChangeBatchExpiryDateGRN()" name="BatchExpiryDate" min="@System.DateTime.Now.ToString("yyyy-MM-dd")" disabled>
                    <span id="SpanBatchExDate" class="error_message"></span>
                }
                else
                {
                    <input type="date" class="form-control" id="BatchExpiryDate" onchange="OnChangeBatchExpiryDateGRN()" name="BatchExpiryDate" min="@System.DateTime.Now.ToString("yyyy-MM-dd")">
                    <span id="SpanBatchExDate" class="error_message"></span>
                }

            }
        </div>
        <div class="col-md-2 col-sm-12 no-padding">
            <div class="col-md-8 col-sm-12 margin20 pr-0">
                <label style="padding: 3px 0px;">
                    @if (Disable)
                    {
                        <input class="js-switch" data-val="true" disabled data-val-required="" id="SaleableFlag" name="SaleableFlag" checked type="checkbox" value="true" data-switchery="true">
                        <input name="" type="hidden" value="true"> @Resource.Saleable
                    }
                    else
                    {
                        <input class="js-switch" data-val="true" data-val-required="" id="SaleableFlag" name="SaleableFlag" checked type="checkbox" value="true" data-switchery="true">
                        <input name="" type="hidden" value="true"> @Resource.Saleable
                    }
                </label>
            </div>
            <div id="DivAddNewBatch" class="col-md-3 col-sm-12" style="padding-left:0px;">
                @if (!Disable)
                {
                    if (Model.DocumentStatus == "D" || Model.DocumentStatus == "")
                    {
                        <div class="plus_icon1" style="float: right; margin-top:25px"><i class="fa fa-plus" id="Btn_AddNewBatchDetail" onclick="OnClickAddNewBatchDetailGRN()" title="Add New"></i> </div>
                    }
                }

            </div>
        </div>
        @*<div id="DivAddNewBatch" class="col-md-1 col-sm-12" style="padding-left:0px;">
            @if (!Disable)
            {
                if (Model.DocumentStatus == "D"|| Model.DocumentStatus == "")
                {
                    <div class="plus_icon1" style="float: right; margin-top:25px"><i class="fa fa-plus" id="Btn_AddNewBatchDetail" onclick="OnClickAddNewBatchDetailGRN()" title="Add New"></i> </div>
                }
            }

        </div>*@
        @*<table id="BatchDetailTbl" class="table table-bordered margin15">
        <thead>
            <tr class="headings" disabled="disabled">*@
    <div class="card-box table-responsive dy_table margin15">
        <div id="" class="sticky-table sticky-ltr-cells sb-container container-example1 OrderHistory height30VH">
            <table id="BatchDetailTbl" data-order="" class="table table-striped table-bordered rowhighlighttbl" style="width:100%">
                <thead>
                    <tr class="sticky-header">
                        <th width="4%" disabled="disabled"> &nbsp;</th>
                        <th width="16%">@Resource.Accepted</th>
                        <th width="16%">@Resource.Rejected</th>
                        <th width="16%">@Resource.Reworkable</th>
                        <th width="16%"> @Resource.BatchNumber</th>
                        <th hidden="hidden"> @Resource.ExpiryDate</th>
                        <th width="16%"> @Resource.ExpiryDate</th>
                        <th width="16%"> @Resource.Saleable</th>
                    </tr>
                </thead>
                <tbody>
                </tbody>
                <tfoot>
                    <tr class="total">
                        <td>&nbsp;</td>
                        <td class="num_right"><strong> <span id="BatchQtyTotal">0</span></strong></td>
                        <td class="num_right"><strong> <span id="RejBatchQtyTotal">0</span></strong></td>
                        <td class="num_right"><strong> <span id="ReworkBatchQtyTotal">0</span></strong></td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                        <td>&nbsp;</td>
                    </tr>
                </tfoot>
            </table>
        </div>
    </div>
    </div>
    <div class="modal-footer">
        @if (!Disable)
        {
            if (Model.DocumentStatus == "D" || Model.DocumentStatus == "")
            {
                <button type="button" class="btn btn-primary btn-sm" id="BatchResetBtn" onclick="OnClickBatchResetBtnGRN()">@Resource.Reset</button>
                <button type="button" class="btn btn-primary btn-sm" id="BatchSaveAndExitBtn" onclick="OnClickSaveAndCloseGRN()">@Resource.SaveAndExit</button>
                <button type="button" class="btn btn-primary btn-sm" data-dismiss="modal" id="BatchDiscardAndExitBtn" onclick="OnClickDiscardAndExitGRN()">@Resource.DiscardAndExit</button>
            }
        }
        

    </div>
        </div>
